"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/game.tsx":
/*!*****************************!*\
  !*** ./components/game.tsx ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ SnakeGame; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Pause,Play,RefreshCw!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=Pause,Play,RefreshCw!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=Pause,Play,RefreshCw!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/pause.js\");\n/* harmony import */ var _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/particle-system */ \"(app-pages-browser)/./utils/particle-system.tsx\");\n/* harmony import */ var _utils_snake__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/utils/snake */ \"(app-pages-browser)/./utils/snake.tsx\");\n/* harmony import */ var _utils_food__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/utils/food */ \"(app-pages-browser)/./utils/food.tsx\");\n/* harmony import */ var _utils_ai_snake__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/utils/ai-snake */ \"(app-pages-browser)/./utils/ai-snake.tsx\");\n/* harmony import */ var _utils_settings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/utils/settings */ \"(app-pages-browser)/./utils/settings.tsx\");\n/* harmony import */ var _utils_audio_system__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/utils/audio-system */ \"(app-pages-browser)/./utils/audio-system.tsx\");\n/* harmony import */ var _utils_power_up__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/utils/power-up */ \"(app-pages-browser)/./utils/power-up.tsx\");\n/* harmony import */ var _utils_asset_manager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/utils/asset-manager */ \"(app-pages-browser)/./utils/asset-manager.tsx\");\n/* harmony import */ var _utils_transitions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/utils/transitions */ \"(app-pages-browser)/./utils/transitions.tsx\");\n/* harmony import */ var _components_loading_screen__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/loading-screen */ \"(app-pages-browser)/./components/loading-screen.tsx\");\n/* harmony import */ var _components_touch_controls__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/touch-controls */ \"(app-pages-browser)/./components/touch-controls.tsx\");\n/* harmony import */ var _hooks_use_media_query__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/hooks/use-media-query */ \"(app-pages-browser)/./hooks/use-media-query.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction SnakeGame() {\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"menu\");\n    const [score, setScore] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [highScore, setHighScore] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [loadingProgress, setLoadingProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Game loop reference to store animation frame ID\n    const gameLoopRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // Game objects references\n    const playerSnakeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const foodRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const aiSnakesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const particleSystemsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const powerUpsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const settingsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(_utils_settings__WEBPACK_IMPORTED_MODULE_7__.SettingsManager.getInstance());\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(_utils_audio_system__WEBPACK_IMPORTED_MODULE_8__.AudioSystem.getInstance());\n    const assetManagerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(_utils_asset_manager__WEBPACK_IMPORTED_MODULE_10__.AssetManager.getInstance());\n    // Input state\n    const keysPressed = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    // Canvas dimensions\n    const canvasWidth = 800;\n    const canvasHeight = 600;\n    // Add responsive state\n    const isMobile = (0,_hooks_use_media_query__WEBPACK_IMPORTED_MODULE_14__.useMediaQuery)(\"(max-width: 768px)\");\n    const [touchDirection, setTouchDirection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [isBoosting, setIsBoosting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Initialize game\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"Component mounted\");\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        canvas.width = canvasWidth;\n        canvas.height = canvasHeight;\n        console.log(\"Canvas initialized:\", {\n            width: canvasWidth,\n            height: canvasHeight\n        });\n        // Load high score from localStorage\n        const savedHighScore = localStorage.getItem(\"snakeHighScore\");\n        if (savedHighScore) {\n            setHighScore(Number.parseInt(savedHighScore));\n        }\n        // Load settings\n        const settings = settingsRef.current.getSettings();\n        // Start background music\n        if (settings.soundEnabled) {\n            audioRef.current.playMusic();\n        }\n        // Set up event listeners\n        const handleKeyDown = (e)=>{\n            const key = e.key.toLowerCase();\n            console.log(\"Key pressed:\", key);\n            keysPressed.current.add(key);\n            // Game control keys\n            if (key === \"escape\" && gameState === \"playing\") {\n                setGameState(\"paused\");\n            } else if (key === \"escape\" && gameState === \"paused\") {\n                setGameState(\"playing\");\n            } else if ((key === \" \" || key === \"enter\") && gameState === \"menu\") {\n                startGame();\n            } else if (key === \"r\" && gameState === \"gameOver\") {\n                startGame();\n            }\n        };\n        const handleKeyUp = (e)=>{\n            const key = e.key.toLowerCase();\n            console.log(\"Key released:\", key);\n            keysPressed.current.delete(key);\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        window.addEventListener(\"keyup\", handleKeyUp);\n        // Draw initial grid\n        const ctx = canvas.getContext(\"2d\");\n        if (ctx) {\n            ctx.fillStyle = \"#000\";\n            ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n            drawGrid(ctx);\n        }\n        return ()=>{\n            window.removeEventListener(\"keydown\", handleKeyDown);\n            window.removeEventListener(\"keyup\", handleKeyUp);\n            cancelAnimationFrame(gameLoopRef.current);\n        };\n    }, []);\n    // Add loading effect\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadAssets = async ()=>{\n            try {\n                await assetManagerRef.current.loadAll();\n                setLoading(false);\n            } catch (error) {\n                console.error(\"Failed to load assets:\", error);\n            // Handle error appropriately\n            }\n        };\n        const updateProgress = ()=>{\n            setLoadingProgress(assetManagerRef.current.getLoadingProgress());\n            if (loading) {\n                requestAnimationFrame(updateProgress);\n            }\n        };\n        loadAssets();\n        updateProgress();\n    }, []);\n    // Add to the top of the component\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"Game state changed:\", gameState);\n    }, [\n        gameState\n    ]);\n    // Start a new game\n    const startGame = ()=>{\n        console.log(\"Start button clicked\");\n        try {\n            console.log(\"Current game state:\", gameState);\n            console.log(\"Initializing game objects...\");\n            // Reset game objects\n            playerSnakeRef.current = new _utils_snake__WEBPACK_IMPORTED_MODULE_4__.Snake({\n                x: canvasWidth / 2,\n                y: canvasHeight / 2,\n                color: \"#0ff\",\n                headColor: \"#f0f\",\n                initialLength: 5,\n                initialAngle: Math.PI / 2,\n                speed: 2\n            });\n            console.log(\"Player snake created:\", playerSnakeRef.current);\n            // Initialize canvas dimensions\n            const canvas = canvasRef.current;\n            if (canvas) {\n                canvas.width = canvasWidth;\n                canvas.height = canvasHeight;\n                console.log(\"Canvas dimensions set:\", {\n                    width: canvasWidth,\n                    height: canvasHeight\n                });\n            }\n            // Initialize other game objects\n            console.log(\"Initializing game objects...\");\n            foodRef.current = [\n                new _utils_food__WEBPACK_IMPORTED_MODULE_5__.Food({\n                    x: Math.random() * (canvasWidth - 40) + 20,\n                    y: Math.random() * (canvasHeight - 40) + 20,\n                    type: \"regular\"\n                })\n            ];\n            console.log(\"Food created:\", foodRef.current);\n            aiSnakesRef.current = [\n                new _utils_ai_snake__WEBPACK_IMPORTED_MODULE_6__.AISnake({\n                    x: 100,\n                    y: 100,\n                    color: \"#0f0\",\n                    headColor: \"#ff0\",\n                    initialLength: 3,\n                    initialAngle: 0,\n                    speed: 1.5,\n                    behavior: \"passive\"\n                }),\n                new _utils_ai_snake__WEBPACK_IMPORTED_MODULE_6__.AISnake({\n                    x: canvasWidth - 100,\n                    y: canvasHeight - 100,\n                    color: \"#f00\",\n                    headColor: \"#f80\",\n                    initialLength: 3,\n                    initialAngle: Math.PI,\n                    speed: 1.8,\n                    behavior: \"aggressive\"\n                })\n            ];\n            console.log(\"AI snakes created:\", aiSnakesRef.current);\n            particleSystemsRef.current = [];\n            powerUpsRef.current = [];\n            // Reset score\n            setScore(0);\n            // Start game\n            console.log(\"Setting game state to playing\");\n            setGameState(\"playing\");\n            // Add a small delay to ensure state is updated before starting game loop\n            setTimeout(()=>{\n                console.log(\"Starting game loop\");\n                if (canvasRef.current) {\n                    gameLoopRef.current = requestAnimationFrame(gameLoop);\n                }\n            }, 0);\n            // Play start sound\n            audioRef.current.playSound(\"collect\");\n            console.log(\"Game started successfully\");\n        } catch (error) {\n            console.error(\"Error in startGame:\", error);\n        }\n    };\n    // Main game loop\n    const gameLoop = ()=>{\n        try {\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const ctx = canvas.getContext(\"2d\");\n            if (!ctx) return;\n            if (gameState === \"playing\") {\n                console.log(\"Game loop cycle\");\n                // Handle input first\n                inputSystem();\n                // Then update physics\n                physicsSystem(canvas.width, canvas.height);\n                // Then check collisions\n                collisionSystem(ctx);\n                // Then render\n                renderSystem(ctx);\n                // Update AI and particles last\n                aiSystem(ctx);\n                particleSystem(ctx);\n                hudSystem(ctx);\n                gameLoopRef.current = requestAnimationFrame(gameLoop);\n            }\n        } catch (error) {\n            console.error(\"Error in game loop:\", error);\n        }\n    };\n    // 1. Rendering System\n    const renderSystem = (ctx)=>{\n        // Clear canvas\n        ctx.fillStyle = \"#000\";\n        ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n        // Draw grid\n        drawGrid(ctx);\n        // Draw game entities\n        if (playerSnakeRef.current) {\n            playerSnakeRef.current.draw(ctx);\n        }\n        // Draw AI snakes\n        for (const aiSnake of aiSnakesRef.current){\n            aiSnake.draw(ctx);\n        }\n        // Draw food\n        for (const food of foodRef.current){\n            food.update();\n            food.draw(ctx);\n        }\n        // Draw power-ups\n        for (const powerUp of powerUpsRef.current){\n            powerUp.update();\n            powerUp.draw(ctx);\n        }\n        // Draw particles\n        for (const particles of particleSystemsRef.current){\n            particles.draw(ctx);\n        }\n    };\n    // 3. Physics System\n    const physicsSystem = (width, height)=>{\n        // Update player snake\n        if (playerSnakeRef.current) {\n            playerSnakeRef.current.update(width, height);\n        }\n        // Update AI snakes\n        for (const aiSnake of aiSnakesRef.current){\n            aiSnake.update(width, height);\n        }\n        // Update food animations\n        for (const food of foodRef.current){\n            food.update();\n        }\n        // Update power-ups\n        for (const powerUp of powerUpsRef.current){\n            powerUp.update();\n        }\n        // Update particles\n        particleSystemsRef.current = particleSystemsRef.current.filter((system)=>{\n            system.update();\n            return !system.isDead();\n        });\n    };\n    // 4. Collision System\n    const collisionSystem = (ctx)=>{\n        checkFoodCollisions();\n        checkSnakeCollisions();\n        checkPowerUpCollisions();\n    };\n    // 5. AI System\n    const aiSystem = (ctx)=>{\n        updateAISnakes(ctx);\n    };\n    // 6. Particle System\n    const particleSystem = (ctx)=>{\n        updateParticles(ctx);\n    };\n    // 7. HUD System\n    const hudSystem = (ctx)=>{\n        drawHUD(ctx);\n    };\n    // Draw grid lines for futuristic effect\n    const drawGrid = (ctx)=>{\n        ctx.strokeStyle = \"rgba(0, 255, 255, 0.1)\";\n        ctx.lineWidth = 1;\n        // Vertical lines\n        for(let x = 0; x <= canvasWidth; x += 40){\n            ctx.beginPath();\n            ctx.moveTo(x, 0);\n            ctx.lineTo(x, canvasHeight);\n            ctx.stroke();\n        }\n        // Horizontal lines\n        for(let y = 0; y <= canvasHeight; y += 40){\n            ctx.beginPath();\n            ctx.moveTo(0, y);\n            ctx.lineTo(canvasWidth, y);\n            ctx.stroke();\n        }\n    };\n    // Handle keyboard input\n    const handleInput = ()=>{\n        if (!playerSnakeRef.current) return;\n        console.log(\"Input state:\", {\n            left: keysPressed.current.has(\"arrowleft\") || keysPressed.current.has(\"a\"),\n            right: keysPressed.current.has(\"arrowright\") || keysPressed.current.has(\"d\"),\n            boost: keysPressed.current.has(\"arrowup\") || keysPressed.current.has(\"w\"),\n            keys: Array.from(keysPressed.current)\n        });\n        // Turn left with left arrow or A\n        if (keysPressed.current.has(\"arrowleft\") || keysPressed.current.has(\"a\")) {\n            playerSnakeRef.current.turnLeft();\n        }\n        // Turn right with right arrow or D\n        if (keysPressed.current.has(\"arrowright\") || keysPressed.current.has(\"d\")) {\n            playerSnakeRef.current.turnRight();\n        }\n        // Speed boost with up arrow or W\n        if (keysPressed.current.has(\"arrowup\") || keysPressed.current.has(\"w\")) {\n            playerSnakeRef.current.boost();\n        } else {\n            playerSnakeRef.current.normalSpeed();\n        }\n    };\n    // Check for food collisions\n    const checkFoodCollisions = ()=>{\n        if (!playerSnakeRef.current) return;\n        const playerHead = playerSnakeRef.current.getHead();\n        foodRef.current = foodRef.current.filter((food)=>{\n            const distance = Math.hypot(playerHead.x - food.position.x, playerHead.y - food.position.y);\n            const collisionDistance = playerHead.radius + food.radius;\n            if (distance < collisionDistance) {\n                var // Grow snake\n                _playerSnakeRef_current;\n                // Create particle effect\n                particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                    x: food.position.x,\n                    y: food.position.y,\n                    color: food.color,\n                    particleCount: 15,\n                    lifetime: 25\n                }));\n                (_playerSnakeRef_current = playerSnakeRef.current) === null || _playerSnakeRef_current === void 0 ? void 0 : _playerSnakeRef_current.grow(food.value);\n                // Play sound\n                audioRef.current.playSound(\"collect\");\n                // Update score and high score\n                setScore((prevScore)=>{\n                    const newScore = prevScore + (food.type === \"special\" ? 30 : 10);\n                    // Update high score if needed\n                    if (newScore > highScore) {\n                        setHighScore(newScore);\n                        localStorage.setItem(\"snakeHighScore\", newScore.toString());\n                    }\n                    return newScore;\n                });\n                // Spawn new food\n                spawnFood();\n                return false;\n            }\n            return true;\n        });\n    };\n    // Check for snake collisions\n    const checkSnakeCollisions = ()=>{\n        if (!playerSnakeRef.current) return;\n        const playerHead = playerSnakeRef.current.getHead();\n        // Check collision with player's own body\n        if (playerSnakeRef.current.checkSelfCollision()) {\n            gameOver();\n            return;\n        }\n        // Check collision with AI snakes\n        for (const aiSnake of aiSnakesRef.current){\n            if (aiSnake.checkCollisionWith(playerHead)) {\n                gameOver();\n                return;\n            }\n            // Check if AI snake head collides with player body\n            const aiHead = aiSnake.getHead();\n            if (playerSnakeRef.current.checkCollisionWithPoint(aiHead)) {\n                // Create particle effect\n                particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                    x: aiHead.x,\n                    y: aiHead.y,\n                    color: aiSnake.color,\n                    particleCount: 30,\n                    lifetime: 40\n                }));\n                // Remove AI snake\n                aiSnakesRef.current = aiSnakesRef.current.filter((snake)=>snake !== aiSnake);\n                // Increase score\n                setScore((prevScore)=>prevScore + 50);\n                // Spawn new AI snake after delay\n                setTimeout(()=>{\n                    if (gameState === \"playing\") {\n                        spawnAISnake();\n                    }\n                }, 5000);\n            }\n        }\n    };\n    // Update and draw AI snakes\n    const updateAISnakes = (ctx)=>{\n        for (const aiSnake of aiSnakesRef.current){\n            // Update AI behavior\n            aiSnake.updateAI(foodRef.current, playerSnakeRef.current, aiSnakesRef.current.filter((snake)=>snake !== aiSnake), canvasWidth, canvasHeight);\n            // Update position\n            aiSnake.update(canvasWidth, canvasHeight);\n            // Check for food collision\n            const aiHead = aiSnake.getHead();\n            foodRef.current = foodRef.current.filter((food)=>{\n                const distance = Math.hypot(aiHead.x - food.position.x, aiHead.y - food.position.y);\n                if (distance < aiHead.radius + food.radius) {\n                    // Create particle effect\n                    particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                        x: food.position.x,\n                        y: food.position.y,\n                        color: food.color,\n                        particleCount: 15,\n                        lifetime: 25\n                    }));\n                    // Grow snake\n                    aiSnake.grow(food.value);\n                    // Spawn new food\n                    spawnFood();\n                    return false; // Remove this food\n                }\n                return true; // Keep this food\n            });\n            // Draw snake\n            aiSnake.draw(ctx);\n        }\n    };\n    // Spawn new food\n    const spawnFood = ()=>{\n        // Random position away from snakes\n        let validPosition = false;\n        let x, y;\n        while(!validPosition){\n            x = Math.random() * (canvasWidth - 40) + 20;\n            y = Math.random() * (canvasHeight - 40) + 20;\n            validPosition = true;\n            // Check distance from player snake\n            if (playerSnakeRef.current) {\n                const distance = Math.hypot(playerSnakeRef.current.getHead().x - x, playerSnakeRef.current.getHead().y - y);\n                if (distance < 50) {\n                    validPosition = false;\n                    continue;\n                }\n            }\n            // Check distance from AI snakes\n            for (const aiSnake of aiSnakesRef.current){\n                const distance = Math.hypot(aiSnake.getHead().x - x, aiSnake.getHead().y - y);\n                if (distance < 50) {\n                    validPosition = false;\n                    break;\n                }\n            }\n        }\n        foodRef.current.push(new _utils_food__WEBPACK_IMPORTED_MODULE_5__.Food({\n            x: x,\n            y: y,\n            type: Math.random() < 0.1 ? \"special\" : \"regular\"\n        }));\n    };\n    // Spawn new AI snake\n    const spawnAISnake = ()=>{\n        // Random position at the edge of the canvas\n        let x, y, angle;\n        const side = Math.floor(Math.random() * 4);\n        switch(side){\n            case 0:\n                x = Math.random() * canvasWidth;\n                y = 20;\n                angle = Math.PI / 2;\n                break;\n            case 1:\n                x = canvasWidth - 20;\n                y = Math.random() * canvasHeight;\n                angle = Math.PI;\n                break;\n            case 2:\n                x = Math.random() * canvasWidth;\n                y = canvasHeight - 20;\n                angle = -Math.PI / 2;\n                break;\n            case 3:\n                x = 20;\n                y = Math.random() * canvasHeight;\n                angle = 0;\n                break;\n        }\n        // Random behavior\n        const behaviors = [\n            \"passive\",\n            \"aggressive\",\n            \"territorial\"\n        ];\n        const behavior = behaviors[Math.floor(Math.random() * behaviors.length)];\n        // Random color (neon)\n        const colors = [\n            \"#0f0\",\n            \"#f00\",\n            \"#ff0\",\n            \"#f0f\",\n            \"#0ff\"\n        ];\n        const color = colors[Math.floor(Math.random() * colors.length)];\n        // Create new AI snake\n        aiSnakesRef.current.push(new _utils_ai_snake__WEBPACK_IMPORTED_MODULE_6__.AISnake({\n            x: x,\n            y: y,\n            color,\n            headColor: \"#fff\",\n            initialLength: 3,\n            initialAngle: angle,\n            speed: 1.5 + Math.random() * 0.5,\n            behavior\n        }));\n    };\n    // Update and draw particle systems\n    const updateParticles = (ctx)=>{\n        particleSystemsRef.current = particleSystemsRef.current.filter((system)=>{\n            system.update();\n            system.draw(ctx);\n            return !system.isDead();\n        });\n    };\n    // Draw HUD (score, etc.)\n    const drawHUD = (ctx)=>{\n        ctx.fillStyle = \"#fff\";\n        ctx.font = '20px \"Courier New\", monospace';\n        ctx.textAlign = \"left\";\n        ctx.fillText(\"SCORE: \".concat(score), 20, 30);\n        ctx.fillText(\"HIGH SCORE: \".concat(highScore), 20, 60);\n        // Draw active power-ups\n        if (playerSnakeRef.current) {\n            const activePowerUps = playerSnakeRef.current.activePowerUps;\n            let i = 0;\n            activePowerUps.forEach((endTime, type)=>{\n                if (Date.now() < endTime) {\n                    const timeLeft = Math.ceil((endTime - Date.now()) / 1000);\n                    ctx.fillStyle = \"#fff\";\n                    ctx.font = '16px \"Courier New\", monospace';\n                    ctx.fillText(\"\".concat(type.toUpperCase(), \": \").concat(timeLeft, \"s\"), 20, 100 + i * 25);\n                    i++;\n                }\n            });\n        }\n    };\n    // Game over\n    const gameOver = ()=>{\n        setGameState(\"gameOver\");\n        cancelAnimationFrame(gameLoopRef.current);\n        audioRef.current.playSound(\"gameover\");\n        // Create explosion effect at player head\n        if (playerSnakeRef.current) {\n            const head = playerSnakeRef.current.getHead();\n            particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                x: head.x,\n                y: head.y,\n                color: playerSnakeRef.current.headColor,\n                particleCount: 50,\n                lifetime: 60,\n                speed: 3\n            }));\n        }\n    };\n    const renderMenu = ()=>{\n        console.log(\"Rendering menu screen\");\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-80 z-10\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-5xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-600\",\n                    children: \"NEON SNAKE\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 729,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4 w-64\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            className: \"w-full bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-600 hover:to-purple-700\",\n                            onClick: ()=>{\n                                console.log(\"Start button clicked in menu\");\n                                startGame();\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                    className: \"mr-2 h-4 w-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 740,\n                                    columnNumber: 13\n                                }, this),\n                                \"PLAY\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 733,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center text-gray-400 text-sm mt-8\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Use ARROW KEYS or WASD to control\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 744,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Press UP or W for speed boost\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 745,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 743,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 732,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 728,\n            columnNumber: 7\n        }, this);\n    };\n    // Render pause screen\n    const renderPauseScreen = ()=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-80 z-10\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-3xl font-bold mb-8 text-cyan-400\",\n                    children: \"PAUSED\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 756,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4 w-64\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            className: \"w-full bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-600 hover:to-purple-700\",\n                            onClick: ()=>{\n                                setGameState(\"playing\");\n                                gameLoopRef.current = requestAnimationFrame(gameLoop);\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                    className: \"mr-2 h-4 w-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 765,\n                                    columnNumber: 13\n                                }, this),\n                                \"RESUME\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 758,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            variant: \"outline\",\n                            className: \"w-full border-cyan-500 text-cyan-400 hover:bg-cyan-950\",\n                            onClick: ()=>setGameState(\"menu\"),\n                            children: \"MAIN MENU\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 768,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 757,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 755,\n            columnNumber: 7\n        }, this);\n    };\n    // Render game over screen\n    const renderGameOverScreen = ()=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-80 z-10\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-4xl font-bold mb-2 text-red-500\",\n                    children: \"GAME OVER\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 784,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-2xl mb-8 text-cyan-400\",\n                    children: [\n                        \"SCORE: \",\n                        score\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 785,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4 w-64\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            className: \"w-full bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-600 hover:to-purple-700\",\n                            onClick: startGame,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                    className: \"mr-2 h-4 w-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 791,\n                                    columnNumber: 13\n                                }, this),\n                                \"PLAY AGAIN\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 787,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            variant: \"outline\",\n                            className: \"w-full border-cyan-500 text-cyan-400 hover:bg-cyan-950\",\n                            onClick: ()=>setGameState(\"menu\"),\n                            children: \"MAIN MENU\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 794,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 786,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 783,\n            columnNumber: 7\n        }, this);\n    };\n    // Render game controls\n    const renderGameControls = ()=>{\n        if (gameState !== \"playing\") return null;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute top-4 right-4 z-10\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                variant: \"outline\",\n                size: \"icon\",\n                className: \"border-cyan-500 text-cyan-400 hover:bg-cyan-950\",\n                onClick: ()=>{\n                    setGameState(\"paused\");\n                    cancelAnimationFrame(gameLoopRef.current);\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                    className: \"h-4 w-4\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 821,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                lineNumber: 812,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 811,\n            columnNumber: 7\n        }, this);\n    };\n    // Add power-up spawning\n    const spawnPowerUp = ()=>{\n        const types = [\n            \"speed\",\n            \"invulnerability\",\n            \"ghost\"\n        ];\n        const randomType = types[Math.floor(Math.random() * types.length)];\n        let validPosition = false;\n        let x, y;\n        while(!validPosition){\n            x = Math.random() * (canvasWidth - 40) + 20;\n            y = Math.random() * (canvasHeight - 40) + 20;\n            validPosition = true;\n            // Check distance from player and AI snakes\n            if (playerSnakeRef.current) {\n                for (const segment of playerSnakeRef.current.segments){\n                    const distance = Math.hypot(segment.x - x, segment.y - y);\n                    if (distance < 50) {\n                        validPosition = false;\n                        break;\n                    }\n                }\n            }\n            if (validPosition) {\n                for (const aiSnake of aiSnakesRef.current){\n                    for (const segment of aiSnake.segments){\n                        const distance = Math.hypot(segment.x - x, segment.y - y);\n                        if (distance < 50) {\n                            validPosition = false;\n                            break;\n                        }\n                    }\n                    if (!validPosition) break;\n                }\n            }\n        }\n        powerUpsRef.current.push(new _utils_power_up__WEBPACK_IMPORTED_MODULE_9__.PowerUp({\n            x: x,\n            y: y,\n            type: randomType\n        }));\n    };\n    // Check power-up collisions\n    const checkPowerUpCollisions = ()=>{\n        if (!playerSnakeRef.current) return;\n        const playerHead = playerSnakeRef.current.getHead();\n        powerUpsRef.current = powerUpsRef.current.filter((powerUp)=>{\n            const distance = Math.hypot(playerHead.x - powerUp.position.x, playerHead.y - powerUp.position.y);\n            if (distance < playerHead.radius + powerUp.radius) {\n                var // Apply power-up effect\n                _playerSnakeRef_current;\n                (_playerSnakeRef_current = playerSnakeRef.current) === null || _playerSnakeRef_current === void 0 ? void 0 : _playerSnakeRef_current.collectPowerUp(powerUp);\n                // Create particle effect\n                particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                    x: powerUp.position.x,\n                    y: powerUp.position.y,\n                    color: powerUp.color,\n                    particleCount: 30,\n                    lifetime: 40\n                }));\n                return false;\n            }\n            return true;\n        });\n    };\n    // Occasionally spawn power-ups\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== \"playing\") return;\n        const powerUpInterval = setInterval(()=>{\n            if (Math.random() < 0.3 && powerUpsRef.current.length < 3) {\n                spawnPowerUp();\n            }\n        }, 10000) // Every 10 seconds\n        ;\n        return ()=>clearInterval(powerUpInterval);\n    }, [\n        gameState\n    ]);\n    // Update state transitions\n    const changeGameState = async (newState)=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return;\n        // Exit transition\n        await _utils_transitions__WEBPACK_IMPORTED_MODULE_11__.Transitions.fade(ctx, \"out\", 300);\n        setGameState(newState);\n        // Enter transition\n        await _utils_transitions__WEBPACK_IMPORTED_MODULE_11__.Transitions.fade(ctx, \"in\", 300);\n    };\n    // Update canvas size on window resize\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleResize = ()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const { width, height } = getCanvasDimensions();\n            canvas.width = width;\n            canvas.height = height;\n        };\n        window.addEventListener(\"resize\", handleResize);\n        handleResize(); // Initial size\n        return ()=>window.removeEventListener(\"resize\", handleResize);\n    }, [\n        isMobile\n    ]);\n    // Handle touch controls\n    const handleDirectionChange = (direction)=>{\n        setTouchDirection(direction);\n    };\n    // Update input system to handle both keyboard and touch\n    const inputSystem = ()=>{\n        if (!playerSnakeRef.current) return;\n        if (isMobile) {\n            // Convert touch direction to angle\n            if (touchDirection.x !== 0 || touchDirection.y !== 0) {\n                const targetAngle = Math.atan2(touchDirection.y, touchDirection.x);\n                const currentAngle = playerSnakeRef.current.angle;\n                // Smooth rotation towards target angle\n                const angleDiff = targetAngle - currentAngle;\n                const normalizedDiff = Math.atan2(Math.sin(angleDiff), Math.cos(angleDiff));\n                if (normalizedDiff > 0.1) {\n                    playerSnakeRef.current.turnRight();\n                } else if (normalizedDiff < -0.1) {\n                    playerSnakeRef.current.turnLeft();\n                }\n            }\n            // Handle boost\n            if (isBoosting) {\n                playerSnakeRef.current.boost();\n            } else {\n                playerSnakeRef.current.normalSpeed();\n            }\n        } else {\n            // Existing keyboard controls\n            handleInput();\n        }\n    };\n    // Add this function near the top of the component\n    const getCanvasDimensions = ()=>{\n        if (isMobile) {\n            return {\n                width: Math.min(window.innerWidth - 32, 600),\n                height: Math.min(window.innerHeight - 200, 800)\n            };\n        }\n        return {\n            width: 800,\n            height: 600\n        };\n    };\n    // Update game loop on game state change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (canvasRef.current) {\n            const canvas = canvasRef.current;\n            canvas.width = canvasWidth;\n            canvas.height = canvasHeight;\n            // Start game loop\n            if (gameState === \"playing\") {\n                gameLoopRef.current = requestAnimationFrame(gameLoop);\n            }\n        }\n        return ()=>{\n            if (gameLoopRef.current) {\n                cancelAnimationFrame(gameLoopRef.current);\n            }\n        };\n    }, [\n        gameState\n    ]);\n    // Add near the top of the component\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Verify all required functions exist\n        const requiredFunctions = {\n            renderSystem,\n            inputSystem,\n            physicsSystem,\n            collisionSystem,\n            aiSystem,\n            particleSystem,\n            hudSystem,\n            handleInput,\n            checkFoodCollisions,\n            checkSnakeCollisions,\n            updateAISnakes,\n            updateParticles,\n            drawHUD,\n            drawGrid\n        };\n        Object.entries(requiredFunctions).forEach((param)=>{\n            let [name, func] = param;\n            if (!func) {\n                console.error(\"Missing required function: \".concat(name));\n            }\n        });\n    }, []);\n    // Render game controls\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative\",\n        children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_loading_screen__WEBPACK_IMPORTED_MODULE_12__.LoadingScreen, {\n            progress: loadingProgress\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 1056,\n            columnNumber: 9\n        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                    ref: canvasRef,\n                    width: canvasWidth,\n                    height: canvasHeight,\n                    className: \"border border-cyan-900 rounded-lg shadow-lg shadow-cyan-500/20\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 1059,\n                    columnNumber: 11\n                }, this),\n                gameState === \"menu\" && renderMenu(),\n                gameState === \"paused\" && renderPauseScreen(),\n                gameState === \"gameOver\" && renderGameOverScreen(),\n                renderGameControls(),\n                isMobile && gameState === \"playing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_touch_controls__WEBPACK_IMPORTED_MODULE_13__.TouchControls, {\n                    onDirectionChange: handleDirectionChange,\n                    onBoostStart: ()=>setIsBoosting(true),\n                    onBoostEnd: ()=>setIsBoosting(false)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 1073,\n                    columnNumber: 13\n                }, this)\n            ]\n        }, void 0, true)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n        lineNumber: 1054,\n        columnNumber: 5\n    }, this);\n}\n_s(SnakeGame, \"52JyvAhKtovWqUO5dAwfJM1oOoE=\", false, function() {\n    return [\n        _hooks_use_media_query__WEBPACK_IMPORTED_MODULE_14__.useMediaQuery\n    ];\n});\n_c = SnakeGame;\nvar _c;\n$RefreshReg$(_c, \"SnakeGame\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvZ2FtZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVtRDtBQUNKO0FBQ007QUFDRDtBQUNmO0FBQ0Y7QUFDTztBQUNRO0FBQ0E7QUFDSztBQUNIO0FBQ0g7QUFDVTtBQUNBO0FBQ0o7QUFLeEMsU0FBU21COztJQUNwQixNQUFNQyxZQUFZbkIsNkNBQU1BLENBQW9CO0lBQzVDLE1BQU0sQ0FBQ29CLFdBQVdDLGFBQWEsR0FBR3BCLCtDQUFRQSxDQUFZO0lBQ3RELE1BQU0sQ0FBQ3FCLE9BQU9DLFNBQVMsR0FBR3RCLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ3VCLFdBQVdDLGFBQWEsR0FBR3hCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3lCLFNBQVNDLFdBQVcsR0FBRzFCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQzJCLGlCQUFpQkMsbUJBQW1CLEdBQUc1QiwrQ0FBUUEsQ0FBQztJQUV6RCxrREFBa0Q7SUFDaEQsTUFBTTZCLGNBQWM5Qiw2Q0FBTUEsQ0FBUztJQUVyQywwQkFBMEI7SUFDeEIsTUFBTStCLGlCQUFpQi9CLDZDQUFNQSxDQUFlO0lBQzVDLE1BQU1nQyxVQUFVaEMsNkNBQU1BLENBQVMsRUFBRTtJQUNqQyxNQUFNaUMsY0FBY2pDLDZDQUFNQSxDQUFZLEVBQUU7SUFDeEMsTUFBTWtDLHFCQUFxQmxDLDZDQUFNQSxDQUFtQixFQUFFO0lBQ3RELE1BQU1tQyxjQUFjbkMsNkNBQU1BLENBQVksRUFBRTtJQUN4QyxNQUFNb0MsY0FBY3BDLDZDQUFNQSxDQUFrQlUsNERBQWVBLENBQUMyQixXQUFXO0lBQ3ZFLE1BQU1DLFdBQVd0Qyw2Q0FBTUEsQ0FBY1csNERBQVdBLENBQUMwQixXQUFXO0lBQzVELE1BQU1FLGtCQUFrQnZDLDZDQUFNQSxDQUFlYSwrREFBWUEsQ0FBQ3dCLFdBQVc7SUFFdkUsY0FBYztJQUNaLE1BQU1HLGNBQWN4Qyw2Q0FB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QkFDUGMsUUFBUWI7b0JBQ1JpSixXQUFVOzs7Ozs7Z0JBR1h4SyxjQUFjLFVBQVVzSztnQkFDeEJ0SyxjQUFjLFlBQVk0SztnQkFDMUI1SyxjQUFjLGNBQWMrSztnQkFDNUJDO2dCQUdBeEosWUFBWXhCLGNBQWMsMkJBQ3pCLDhEQUFDSixzRUFBYUE7b0JBQ1p1TixtQkFBbUJuQjtvQkFDbkJvQixjQUFjLElBQU10TCxjQUFjO29CQUNsQ3VMLFlBQVksSUFBTXZMLGNBQWM7Ozs7Ozs7Ozs7Ozs7QUFPOUM7R0FyaUN3QmhDOztRQTZCTEQsa0VBQWFBOzs7S0E3QlJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvZ2FtZS50c3g/ZGZmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxyXG5cclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCJcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxyXG5pbXBvcnQgeyBQbGF5LCBQYXVzZSwgUmVmcmVzaEN3IH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXHJcbmltcG9ydCBQYXJ0aWNsZVN5c3RlbSBmcm9tIFwiQC91dGlscy9wYXJ0aWNsZS1zeXN0ZW1cIlxyXG5pbXBvcnQgeyBTbmFrZSB9IGZyb20gXCJAL3V0aWxzL3NuYWtlXCJcclxuaW1wb3J0IHsgRm9vZCB9IGZyb20gXCJAL3V0aWxzL2Zvb2RcIlxyXG5pbXBvcnQgeyBBSVNuYWtlIH0gZnJvbSBcIkAvdXRpbHMvYWktc25ha2VcIlxyXG5pbXBvcnQgeyBTZXR0aW5nc01hbmFnZXIgfSBmcm9tIFwiQC91dGlscy9zZXR0aW5nc1wiXHJcbmltcG9ydCB7IEF1ZGlvU3lzdGVtIH0gZnJvbSBcIkAvdXRpbHMvYXVkaW8tc3lzdGVtXCJcclxuaW1wb3J0IHsgUG93ZXJVcCwgUG93ZXJVcFR5cGUgfSBmcm9tIFwiQC91dGlscy9wb3dlci11cFwiXHJcbmltcG9ydCB7IEFzc2V0TWFuYWdlciB9IGZyb20gXCJAL3V0aWxzL2Fzc2V0LW1hbmFnZXJcIlxyXG5pbXBvcnQgeyBUcmFuc2l0aW9ucyB9IGZyb20gXCJAL3V0aWxzL3RyYW5zaXRpb25zXCJcclxuaW1wb3J0IHsgTG9hZGluZ1NjcmVlbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvbG9hZGluZy1zY3JlZW5cIlxyXG5pbXBvcnQgeyBUb3VjaENvbnRyb2xzIH0gZnJvbSBcIkAvY29tcG9uZW50cy90b3VjaC1jb250cm9sc1wiXHJcbmltcG9ydCB7IHVzZU1lZGlhUXVlcnkgfSBmcm9tIFwiQC9ob29rcy91c2UtbWVkaWEtcXVlcnlcIlxyXG5cclxuLy8gR2FtZSBzdGF0ZXNcclxudHlwZSBHYW1lU3RhdGUgPSBcIm1lbnVcIiB8IFwicGxheWluZ1wiIHwgXCJwYXVzZWRcIiB8IFwiZ2FtZU92ZXJcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU25ha2VHYW1lKCkge1xyXG4gICAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKVxyXG4gICAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlPEdhbWVTdGF0ZT4oXCJtZW51XCIpXHJcbiAgICBjb25zdCBbc2NvcmUsIHNldFNjb3JlXSA9IHVzZVN0YXRlKDApXHJcbiAgICBjb25zdCBbaGlnaFNjb3JlLCBzZXRIaWdoU2NvcmVdID0gdXNlU3RhdGUoMClcclxuICAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXHJcbiAgICBjb25zdCBbbG9hZGluZ1Byb2dyZXNzLCBzZXRMb2FkaW5nUHJvZ3Jlc3NdID0gdXNlU3RhdGUoMClcclxuXHJcbiAgLy8gR2FtZSBsb29wIHJlZmVyZW5jZSB0byBzdG9yZSBhbmltYXRpb24gZnJhbWUgSURcclxuICAgIGNvbnN0IGdhbWVMb29wUmVmID0gdXNlUmVmPG51bWJlcj4oMClcclxuXHJcbiAgLy8gR2FtZSBvYmplY3RzIHJlZmVyZW5jZXNcclxuICAgIGNvbnN0IHBsYXllclNuYWtlUmVmID0gdXNlUmVmPFNuYWtlIHwgbnVsbD4obnVsbClcclxuICAgIGNvbnN0IGZvb2RSZWYgPSB1c2VSZWY8Rm9vZFtdPihbXSlcclxuICAgIGNvbnN0IGFpU25ha2VzUmVmID0gdXNlUmVmPEFJU25ha2VbXT4oW10pXHJcbiAgICBjb25zdCBwYXJ0aWNsZVN5c3RlbXNSZWYgPSB1c2VSZWY8UGFydGljbGVTeXN0ZW1bXT4oW10pXHJcbiAgICBjb25zdCBwb3dlclVwc1JlZiA9IHVzZVJlZjxQb3dlclVwW10+KFtdKVxyXG4gICAgY29uc3Qgc2V0dGluZ3NSZWYgPSB1c2VSZWY8U2V0dGluZ3NNYW5hZ2VyPihTZXR0aW5nc01hbmFnZXIuZ2V0SW5zdGFuY2UoKSlcclxuICAgIGNvbnN0IGF1ZGlvUmVmID0gdXNlUmVmPEF1ZGlvU3lzdGVtPihBdWRpb1N5c3RlbS5nZXRJbnN0YW5jZSgpKVxyXG4gICAgY29uc3QgYXNzZXRNYW5hZ2VyUmVmID0gdXNlUmVmPEFzc2V0TWFuYWdlcj4oQXNzZXRNYW5hZ2VyLmdldEluc3RhbmNlKCkpXHJcblxyXG4gIC8vIElucHV0IHN0YXRlXHJcbiAgICBjb25zdCBrZXlzUHJlc3NlZCA9IHVzZVJlZjxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKVxyXG5cclxuICAvLyBDYW52YXMgZGltZW5zaW9uc1xyXG4gICAgY29uc3QgY2FudmFzV2lkdGggPSA4MDBcclxuICAgIGNvbnN0IGNhbnZhc0hlaWdodCA9IDYwMFxyXG5cclxuICAvLyBBZGQgcmVzcG9uc2l2ZSBzdGF0ZVxyXG4gIGNvbnN0IGlzTW9iaWxlID0gdXNlTWVkaWFRdWVyeShcIihtYXgtd2lkdGg6IDc2OHB4KVwiKVxyXG4gIGNvbnN0IFt0b3VjaERpcmVjdGlvbiwgc2V0VG91Y2hEaXJlY3Rpb25dID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwIH0pXHJcbiAgY29uc3QgW2lzQm9vc3RpbmcsIHNldElzQm9vc3RpbmddID0gdXNlU3RhdGUoZmFsc2UpXHJcblxyXG4gIC8vIEluaXRpYWxpemUgZ2FtZVxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdDb21wb25lbnQgbW91bnRlZCcpO1xyXG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnRcclxuICAgIGlmICghY2FudmFzKSByZXR1cm5cclxuXHJcbiAgICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aFxyXG4gICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodFxyXG4gICAgY29uc29sZS5sb2coJ0NhbnZhcyBpbml0aWFsaXplZDonLCB7IHdpZHRoOiBjYW52YXNXaWR0aCwgaGVpZ2h0OiBjYW52YXNIZWlnaHQgfSk7XHJcblxyXG4gICAgLy8gTG9hZCBoaWdoIHNjb3JlIGZyb20gbG9jYWxTdG9yYWdlXHJcbiAgICBjb25zdCBzYXZlZEhpZ2hTY29yZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic25ha2VIaWdoU2NvcmVcIilcclxuICAgIGlmIChzYXZlZEhpZ2hTY29yZSkge1xyXG4gICAgICBzZXRIaWdoU2NvcmUoTnVtYmVyLnBhcnNlSW50KHNhdmVkSGlnaFNjb3JlKSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBMb2FkIHNldHRpbmdzXHJcbiAgICBjb25zdCBzZXR0aW5ncyA9IHNldHRpbmdzUmVmLmN1cnJlbnQuZ2V0U2V0dGluZ3MoKVxyXG4gICAgXHJcbiAgICAvLyBTdGFydCBiYWNrZ3JvdW5kIG11c2ljXHJcbiAgICBpZiAoc2V0dGluZ3Muc291bmRFbmFibGVkKSB7XHJcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGxheU11c2ljKClcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXQgdXAgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgY29uc3Qga2V5ID0gZS5rZXkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgY29uc29sZS5sb2coJ0tleSBwcmVzc2VkOicsIGtleSk7XHJcbiAgICAgIGtleXNQcmVzc2VkLmN1cnJlbnQuYWRkKGtleSk7XHJcblxyXG4gICAgICAvLyBHYW1lIGNvbnRyb2wga2V5c1xyXG4gICAgICBpZiAoa2V5ID09PSBcImVzY2FwZVwiICYmIGdhbWVTdGF0ZSA9PT0gXCJwbGF5aW5nXCIpIHtcclxuICAgICAgICBzZXRHYW1lU3RhdGUoXCJwYXVzZWRcIik7XHJcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcImVzY2FwZVwiICYmIGdhbWVTdGF0ZSA9PT0gXCJwYXVzZWRcIikge1xyXG4gICAgICAgIHNldEdhbWVTdGF0ZShcInBsYXlpbmdcIik7XHJcbiAgICAgIH0gZWxzZSBpZiAoKGtleSA9PT0gXCIgXCIgfHwga2V5ID09PSBcImVudGVyXCIpICYmIGdhbWVTdGF0ZSA9PT0gXCJtZW51XCIpIHtcclxuICAgICAgICBzdGFydEdhbWUoKTtcclxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IFwiclwiICYmIGdhbWVTdGF0ZSA9PT0gXCJnYW1lT3ZlclwiKSB7XHJcbiAgICAgICAgc3RhcnRHYW1lKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaGFuZGxlS2V5VXAgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgICBjb25zdCBrZXkgPSBlLmtleS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICBjb25zb2xlLmxvZygnS2V5IHJlbGVhc2VkOicsIGtleSk7XHJcbiAgICAgIGtleXNQcmVzc2VkLmN1cnJlbnQuZGVsZXRlKGtleSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBoYW5kbGVLZXlVcCk7XHJcblxyXG4gICAgLy8gRHJhdyBpbml0aWFsIGdyaWRcclxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgaWYgKGN0eCkge1xyXG4gICAgICBjdHguZmlsbFN0eWxlID0gJyMwMDAnO1xyXG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XHJcbiAgICAgIGRyYXdHcmlkKGN0eCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgaGFuZGxlS2V5VXApO1xyXG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShnYW1lTG9vcFJlZi5jdXJyZW50KVxyXG4gICAgfVxyXG4gIH0sIFtdKVxyXG5cclxuICAvLyBBZGQgbG9hZGluZyBlZmZlY3RcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgbG9hZEFzc2V0cyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBhc3NldE1hbmFnZXJSZWYuY3VycmVudC5sb2FkQWxsKClcclxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGFzc2V0czonLCBlcnJvcilcclxuICAgICAgICAvLyBIYW5kbGUgZXJyb3IgYXBwcm9wcmlhdGVseVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXBkYXRlUHJvZ3Jlc3MgPSAoKSA9PiB7XHJcbiAgICAgIHNldExvYWRpbmdQcm9ncmVzcyhhc3NldE1hbmFnZXJSZWYuY3VycmVudC5nZXRMb2FkaW5nUHJvZ3Jlc3MoKSlcclxuICAgICAgaWYgKGxvYWRpbmcpIHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlUHJvZ3Jlc3MpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsb2FkQXNzZXRzKClcclxuICAgIHVwZGF0ZVByb2dyZXNzKClcclxuICB9LCBbXSlcclxuXHJcbiAgLy8gQWRkIHRvIHRoZSB0b3Agb2YgdGhlIGNvbXBvbmVudFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnR2FtZSBzdGF0ZSBjaGFuZ2VkOicsIGdhbWVTdGF0ZSk7XHJcbiAgfSwgW2dhbWVTdGF0ZV0pO1xyXG5cclxuICAvLyBTdGFydCBhIG5ldyBnYW1lXHJcbiAgY29uc3Qgc3RhcnRHYW1lID0gKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ1N0YXJ0IGJ1dHRvbiBjbGlja2VkJyk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IGdhbWUgc3RhdGU6JywgZ2FtZVN0YXRlKTtcclxuICAgICAgY29uc29sZS5sb2coJ0luaXRpYWxpemluZyBnYW1lIG9iamVjdHMuLi4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFJlc2V0IGdhbWUgb2JqZWN0c1xyXG4gICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50ID0gbmV3IFNuYWtlKHtcclxuICAgICAgICB4OiBjYW52YXNXaWR0aCAvIDIsXHJcbiAgICAgICAgeTogY2FudmFzSGVpZ2h0IC8gMixcclxuICAgICAgICBjb2xvcjogXCIjMGZmXCIsXHJcbiAgICAgICAgaGVhZENvbG9yOiBcIiNmMGZcIixcclxuICAgICAgICBpbml0aWFsTGVuZ3RoOiA1LFxyXG4gICAgICAgIGluaXRpYWxBbmdsZTogTWF0aC5QSSAvIDIsXHJcbiAgICAgICAgc3BlZWQ6IDIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zb2xlLmxvZygnUGxheWVyIHNuYWtlIGNyZWF0ZWQ6JywgcGxheWVyU25ha2VSZWYuY3VycmVudCk7XHJcblxyXG4gICAgICAvLyBJbml0aWFsaXplIGNhbnZhcyBkaW1lbnNpb25zXHJcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgICBpZiAoY2FudmFzKSB7XHJcbiAgICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ2FudmFzIGRpbWVuc2lvbnMgc2V0OicsIHsgd2lkdGg6IGNhbnZhc1dpZHRoLCBoZWlnaHQ6IGNhbnZhc0hlaWdodCB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSW5pdGlhbGl6ZSBvdGhlciBnYW1lIG9iamVjdHNcclxuICAgICAgY29uc29sZS5sb2coJ0luaXRpYWxpemluZyBnYW1lIG9iamVjdHMuLi4nKTtcclxuICAgICAgXHJcbiAgICAgIGZvb2RSZWYuY3VycmVudCA9IFtcclxuICAgICAgICBuZXcgRm9vZCh7XHJcbiAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogKGNhbnZhc1dpZHRoIC0gNDApICsgMjAsXHJcbiAgICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogKGNhbnZhc0hlaWdodCAtIDQwKSArIDIwLFxyXG4gICAgICAgICAgdHlwZTogXCJyZWd1bGFyXCIsXHJcbiAgICAgICAgfSksXHJcbiAgICAgIF07XHJcbiAgICAgIGNvbnNvbGUubG9nKCdGb29kIGNyZWF0ZWQ6JywgZm9vZFJlZi5jdXJyZW50KTtcclxuXHJcbiAgICAgIGFpU25ha2VzUmVmLmN1cnJlbnQgPSBbXHJcbiAgICAgICAgbmV3IEFJU25ha2Uoe1xyXG4gICAgICAgICAgeDogMTAwLFxyXG4gICAgICAgICAgeTogMTAwLFxyXG4gICAgICAgICAgY29sb3I6IFwiIzBmMFwiLFxyXG4gICAgICAgICAgaGVhZENvbG9yOiBcIiNmZjBcIixcclxuICAgICAgICAgIGluaXRpYWxMZW5ndGg6IDMsXHJcbiAgICAgICAgICBpbml0aWFsQW5nbGU6IDAsXHJcbiAgICAgICAgICBzcGVlZDogMS41LFxyXG4gICAgICAgICAgYmVoYXZpb3I6IFwicGFzc2l2ZVwiLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIG5ldyBBSVNuYWtlKHtcclxuICAgICAgICAgIHg6IGNhbnZhc1dpZHRoIC0gMTAwLFxyXG4gICAgICAgICAgeTogY2FudmFzSGVpZ2h0IC0gMTAwLFxyXG4gICAgICAgICAgY29sb3I6IFwiI2YwMFwiLFxyXG4gICAgICAgICAgaGVhZENvbG9yOiBcIiNmODBcIixcclxuICAgICAgICAgIGluaXRpYWxMZW5ndGg6IDMsXHJcbiAgICAgICAgICBpbml0aWFsQW5nbGU6IE1hdGguUEksXHJcbiAgICAgICAgICBzcGVlZDogMS44LFxyXG4gICAgICAgICAgYmVoYXZpb3I6IFwiYWdncmVzc2l2ZVwiLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICBdO1xyXG4gICAgICBjb25zb2xlLmxvZygnQUkgc25ha2VzIGNyZWF0ZWQ6JywgYWlTbmFrZXNSZWYuY3VycmVudCk7XHJcblxyXG4gICAgICBwYXJ0aWNsZVN5c3RlbXNSZWYuY3VycmVudCA9IFtdO1xyXG4gICAgICBwb3dlclVwc1JlZi5jdXJyZW50ID0gW107XHJcblxyXG4gICAgICAvLyBSZXNldCBzY29yZVxyXG4gICAgICBzZXRTY29yZSgwKTtcclxuXHJcbiAgICAgIC8vIFN0YXJ0IGdhbWVcclxuICAgICAgY29uc29sZS5sb2coJ1NldHRpbmcgZ2FtZSBzdGF0ZSB0byBwbGF5aW5nJyk7XHJcbiAgICAgIHNldEdhbWVTdGF0ZShcInBsYXlpbmdcIik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBBZGQgYSBzbWFsbCBkZWxheSB0byBlbnN1cmUgc3RhdGUgaXMgdXBkYXRlZCBiZWZvcmUgc3RhcnRpbmcgZ2FtZSBsb29wXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBnYW1lIGxvb3AnKTtcclxuICAgICAgICBpZiAoY2FudmFzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIGdhbWVMb29wUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgMCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBQbGF5IHN0YXJ0IHNvdW5kXHJcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGxheVNvdW5kKFwiY29sbGVjdFwiKTtcclxuICAgICAgY29uc29sZS5sb2coJ0dhbWUgc3RhcnRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIHN0YXJ0R2FtZTonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gTWFpbiBnYW1lIGxvb3BcclxuICBjb25zdCBnYW1lTG9vcCA9ICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgaWYgKCFjdHgpIHJldHVybjtcclxuXHJcbiAgICAgIGlmIChnYW1lU3RhdGUgPT09IFwicGxheWluZ1wiKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgbG9vcCBjeWNsZScpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEhhbmRsZSBpbnB1dCBmaXJzdFxyXG4gICAgICAgIGlucHV0U3lzdGVtKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVGhlbiB1cGRhdGUgcGh5c2ljc1xyXG4gICAgICAgIHBoeXNpY3NTeXN0ZW0oY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBUaGVuIGNoZWNrIGNvbGxpc2lvbnNcclxuICAgICAgICBjb2xsaXNpb25TeXN0ZW0oY3R4KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBUaGVuIHJlbmRlclxyXG4gICAgICAgIHJlbmRlclN5c3RlbShjdHgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFVwZGF0ZSBBSSBhbmQgcGFydGljbGVzIGxhc3RcclxuICAgICAgICBhaVN5c3RlbShjdHgpO1xyXG4gICAgICAgIHBhcnRpY2xlU3lzdGVtKGN0eCk7XHJcbiAgICAgICAgaHVkU3lzdGVtKGN0eCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZ2FtZUxvb3BSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGdhbWUgbG9vcDonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyAxLiBSZW5kZXJpbmcgU3lzdGVtXHJcbiAgY29uc3QgcmVuZGVyU3lzdGVtID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAvLyBDbGVhciBjYW52YXNcclxuICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwMCc7XHJcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XHJcbiAgICBcclxuICAgIC8vIERyYXcgZ3JpZFxyXG4gICAgZHJhd0dyaWQoY3R4KTtcclxuXHJcbiAgICAvLyBEcmF3IGdhbWUgZW50aXRpZXNcclxuICAgIGlmIChwbGF5ZXJTbmFrZVJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHBsYXllclNuYWtlUmVmLmN1cnJlbnQuZHJhdyhjdHgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERyYXcgQUkgc25ha2VzXHJcbiAgICBmb3IgKGNvbnN0IGFpU25ha2Ugb2YgYWlTbmFrZXNSZWYuY3VycmVudCkge1xyXG4gICAgICBhaVNuYWtlLmRyYXcoY3R4KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRHJhdyBmb29kXHJcbiAgICBmb3IgKGNvbnN0IGZvb2Qgb2YgZm9vZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGZvb2QudXBkYXRlKCk7XHJcbiAgICAgIGZvb2QuZHJhdyhjdHgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERyYXcgcG93ZXItdXBzXHJcbiAgICBmb3IgKGNvbnN0IHBvd2VyVXAgb2YgcG93ZXJVcHNSZWYuY3VycmVudCkge1xyXG4gICAgICBwb3dlclVwLnVwZGF0ZSgpO1xyXG4gICAgICBwb3dlclVwLmRyYXcoY3R4KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEcmF3IHBhcnRpY2xlc1xyXG4gICAgZm9yIChjb25zdCBwYXJ0aWNsZXMgb2YgcGFydGljbGVTeXN0ZW1zUmVmLmN1cnJlbnQpIHtcclxuICAgICAgcGFydGljbGVzLmRyYXcoY3R4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIDMuIFBoeXNpY3MgU3lzdGVtXHJcbiAgY29uc3QgcGh5c2ljc1N5c3RlbSA9ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgLy8gVXBkYXRlIHBsYXllciBzbmFrZVxyXG4gICAgaWYgKHBsYXllclNuYWtlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgcGxheWVyU25ha2VSZWYuY3VycmVudC51cGRhdGUod2lkdGgsIGhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIEFJIHNuYWtlc1xyXG4gICAgZm9yIChjb25zdCBhaVNuYWtlIG9mIGFpU25ha2VzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgYWlTbmFrZS51cGRhdGUod2lkdGgsIGhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGZvb2QgYW5pbWF0aW9uc1xyXG4gICAgZm9yIChjb25zdCBmb29kIG9mIGZvb2RSZWYuY3VycmVudCkge1xyXG4gICAgICBmb29kLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSBwb3dlci11cHNcclxuICAgIGZvciAoY29uc3QgcG93ZXJVcCBvZiBwb3dlclVwc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIHBvd2VyVXAudXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIHBhcnRpY2xlc1xyXG4gICAgcGFydGljbGVTeXN0ZW1zUmVmLmN1cnJlbnQgPSBwYXJ0aWNsZVN5c3RlbXNSZWYuY3VycmVudC5maWx0ZXIoKHN5c3RlbSkgPT4ge1xyXG4gICAgICBzeXN0ZW0udXBkYXRlKCk7XHJcbiAgICAgIHJldHVybiAhc3lzdGVtLmlzRGVhZCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyA0LiBDb2xsaXNpb24gU3lzdGVtXHJcbiAgY29uc3QgY29sbGlzaW9uU3lzdGVtID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICBjaGVja0Zvb2RDb2xsaXNpb25zKClcclxuICAgIGNoZWNrU25ha2VDb2xsaXNpb25zKClcclxuICAgIGNoZWNrUG93ZXJVcENvbGxpc2lvbnMoKVxyXG4gIH1cclxuXHJcbiAgLy8gNS4gQUkgU3lzdGVtXHJcbiAgY29uc3QgYWlTeXN0ZW0gPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgIHVwZGF0ZUFJU25ha2VzKGN0eClcclxuICB9XHJcblxyXG4gIC8vIDYuIFBhcnRpY2xlIFN5c3RlbVxyXG4gIGNvbnN0IHBhcnRpY2xlU3lzdGVtID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICB1cGRhdGVQYXJ0aWNsZXMoY3R4KVxyXG4gIH1cclxuXHJcbiAgLy8gNy4gSFVEIFN5c3RlbVxyXG4gIGNvbnN0IGh1ZFN5c3RlbSA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgZHJhd0hVRChjdHgpXHJcbiAgfVxyXG5cclxuICAvLyBEcmF3IGdyaWQgbGluZXMgZm9yIGZ1dHVyaXN0aWMgZWZmZWN0XHJcbiAgY29uc3QgZHJhd0dyaWQgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgIGN0eC5zdHJva2VTdHlsZSA9IFwicmdiYSgwLCAyNTUsIDI1NSwgMC4xKVwiO1xyXG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XHJcblxyXG4gICAgLy8gVmVydGljYWwgbGluZXNcclxuICAgIGZvciAobGV0IHggPSAwOyB4IDw9IGNhbnZhc1dpZHRoOyB4ICs9IDQwKSB7XHJcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgY3R4Lm1vdmVUbyh4LCAwKTtcclxuICAgICAgY3R4LmxpbmVUbyh4LCBjYW52YXNIZWlnaHQpO1xyXG4gICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSG9yaXpvbnRhbCBsaW5lc1xyXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPD0gY2FudmFzSGVpZ2h0OyB5ICs9IDQwKSB7XHJcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgY3R4Lm1vdmVUbygwLCB5KTtcclxuICAgICAgY3R4LmxpbmVUbyhjYW52YXNXaWR0aCwgeSk7XHJcbiAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEhhbmRsZSBrZXlib2FyZCBpbnB1dFxyXG4gIGNvbnN0IGhhbmRsZUlucHV0ID0gKCkgPT4ge1xyXG4gICAgaWYgKCFwbGF5ZXJTbmFrZVJlZi5jdXJyZW50KSByZXR1cm47XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0lucHV0IHN0YXRlOicsIHtcclxuICAgICAgbGVmdDoga2V5c1ByZXNzZWQuY3VycmVudC5oYXMoXCJhcnJvd2xlZnRcIikgfHwga2V5c1ByZXNzZWQuY3VycmVudC5oYXMoXCJhXCIpLFxyXG4gICAgICByaWdodDoga2V5c1ByZXNzZWQuY3VycmVudC5oYXMoXCJhcnJvd3JpZ2h0XCIpIHx8IGtleXNQcmVzc2VkLmN1cnJlbnQuaGFzKFwiZFwiKSxcclxuICAgICAgYm9vc3Q6IGtleXNQcmVzc2VkLmN1cnJlbnQuaGFzKFwiYXJyb3d1cFwiKSB8fCBrZXlzUHJlc3NlZC5jdXJyZW50LmhhcyhcIndcIiksXHJcbiAgICAgIGtleXM6IEFycmF5LmZyb20oa2V5c1ByZXNzZWQuY3VycmVudClcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFR1cm4gbGVmdCB3aXRoIGxlZnQgYXJyb3cgb3IgQVxyXG4gICAgaWYgKGtleXNQcmVzc2VkLmN1cnJlbnQuaGFzKFwiYXJyb3dsZWZ0XCIpIHx8IGtleXNQcmVzc2VkLmN1cnJlbnQuaGFzKFwiYVwiKSkge1xyXG4gICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LnR1cm5MZWZ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVHVybiByaWdodCB3aXRoIHJpZ2h0IGFycm93IG9yIERcclxuICAgIGlmIChrZXlzUHJlc3NlZC5jdXJyZW50LmhhcyhcImFycm93cmlnaHRcIikgfHwga2V5c1ByZXNzZWQuY3VycmVudC5oYXMoXCJkXCIpKSB7XHJcbiAgICAgIHBsYXllclNuYWtlUmVmLmN1cnJlbnQudHVyblJpZ2h0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3BlZWQgYm9vc3Qgd2l0aCB1cCBhcnJvdyBvciBXXHJcbiAgICBpZiAoa2V5c1ByZXNzZWQuY3VycmVudC5oYXMoXCJhcnJvd3VwXCIpIHx8IGtleXNQcmVzc2VkLmN1cnJlbnQuaGFzKFwid1wiKSkge1xyXG4gICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LmJvb3N0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50Lm5vcm1hbFNwZWVkKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gQ2hlY2sgZm9yIGZvb2QgY29sbGlzaW9uc1xyXG4gIGNvbnN0IGNoZWNrRm9vZENvbGxpc2lvbnMgPSAoKSA9PiB7XHJcbiAgICBpZiAoIXBsYXllclNuYWtlUmVmLmN1cnJlbnQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBwbGF5ZXJIZWFkID0gcGxheWVyU25ha2VSZWYuY3VycmVudC5nZXRIZWFkKCk7XHJcbiAgICBcclxuICAgIGZvb2RSZWYuY3VycmVudCA9IGZvb2RSZWYuY3VycmVudC5maWx0ZXIoKGZvb2QpID0+IHtcclxuICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmh5cG90KFxyXG4gICAgICAgIHBsYXllckhlYWQueCAtIGZvb2QucG9zaXRpb24ueCxcclxuICAgICAgICBwbGF5ZXJIZWFkLnkgLSBmb29kLnBvc2l0aW9uLnlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IGNvbGxpc2lvbkRpc3RhbmNlID0gcGxheWVySGVhZC5yYWRpdXMgKyBmb29kLnJhZGl1cztcclxuXHJcbiAgICAgIGlmIChkaXN0YW5jZSA8IGNvbGxpc2lvbkRpc3RhbmNlKSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHBhcnRpY2xlIGVmZmVjdFxyXG4gICAgICAgIHBhcnRpY2xlU3lzdGVtc1JlZi5jdXJyZW50LnB1c2goXHJcbiAgICAgICAgICBuZXcgUGFydGljbGVTeXN0ZW0oe1xyXG4gICAgICAgICAgICB4OiBmb29kLnBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IGZvb2QucG9zaXRpb24ueSxcclxuICAgICAgICAgICAgY29sb3I6IGZvb2QuY29sb3IsXHJcbiAgICAgICAgICAgIHBhcnRpY2xlQ291bnQ6IDE1LFxyXG4gICAgICAgICAgICBsaWZldGltZTogMjUsXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIEdyb3cgc25ha2VcclxuICAgICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50Py5ncm93KGZvb2QudmFsdWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFBsYXkgc291bmRcclxuICAgICAgICBhdWRpb1JlZi5jdXJyZW50LnBsYXlTb3VuZChcImNvbGxlY3RcIik7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBzY29yZSBhbmQgaGlnaCBzY29yZVxyXG4gICAgICAgIHNldFNjb3JlKChwcmV2U2NvcmUpID0+IHtcclxuICAgICAgICAgIGNvbnN0IG5ld1Njb3JlID0gcHJldlNjb3JlICsgKGZvb2QudHlwZSA9PT0gJ3NwZWNpYWwnID8gMzAgOiAxMCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFVwZGF0ZSBoaWdoIHNjb3JlIGlmIG5lZWRlZFxyXG4gICAgICAgICAgaWYgKG5ld1Njb3JlID4gaGlnaFNjb3JlKSB7XHJcbiAgICAgICAgICAgIHNldEhpZ2hTY29yZShuZXdTY29yZSk7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic25ha2VIaWdoU2NvcmVcIiwgbmV3U2NvcmUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiBuZXdTY29yZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU3Bhd24gbmV3IGZvb2RcclxuICAgICAgICBzcGF3bkZvb2QoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gQ2hlY2sgZm9yIHNuYWtlIGNvbGxpc2lvbnNcclxuICBjb25zdCBjaGVja1NuYWtlQ29sbGlzaW9ucyA9ICgpID0+IHtcclxuICAgIGlmICghcGxheWVyU25ha2VSZWYuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHBsYXllckhlYWQgPSBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LmdldEhlYWQoKTtcclxuXHJcbiAgICAvLyBDaGVjayBjb2xsaXNpb24gd2l0aCBwbGF5ZXIncyBvd24gYm9keVxyXG4gICAgaWYgKHBsYXllclNuYWtlUmVmLmN1cnJlbnQuY2hlY2tTZWxmQ29sbGlzaW9uKCkpIHtcclxuICAgICAgZ2FtZU92ZXIoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGNvbGxpc2lvbiB3aXRoIEFJIHNuYWtlc1xyXG4gICAgZm9yIChjb25zdCBhaVNuYWtlIG9mIGFpU25ha2VzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgaWYgKGFpU25ha2UuY2hlY2tDb2xsaXNpb25XaXRoKHBsYXllckhlYWQpKSB7XHJcbiAgICAgICAgZ2FtZU92ZXIoKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiBBSSBzbmFrZSBoZWFkIGNvbGxpZGVzIHdpdGggcGxheWVyIGJvZHlcclxuICAgICAgY29uc3QgYWlIZWFkID0gYWlTbmFrZS5nZXRIZWFkKClcclxuICAgICAgaWYgKHBsYXllclNuYWtlUmVmLmN1cnJlbnQuY2hlY2tDb2xsaXNpb25XaXRoUG9pbnQoYWlIZWFkKSkge1xyXG4gICAgICAgIC8vIENyZWF0ZSBwYXJ0aWNsZSBlZmZlY3RcclxuICAgICAgICBwYXJ0aWNsZVN5c3RlbXNSZWYuY3VycmVudC5wdXNoKFxyXG4gICAgICAgICAgbmV3IFBhcnRpY2xlU3lzdGVtKHtcclxuICAgICAgICAgICAgeDogYWlIZWFkLngsXHJcbiAgICAgICAgICAgIHk6IGFpSGVhZC55LFxyXG4gICAgICAgICAgICBjb2xvcjogYWlTbmFrZS5jb2xvcixcclxuICAgICAgICAgICAgcGFydGljbGVDb3VudDogMzAsXHJcbiAgICAgICAgICAgIGxpZmV0aW1lOiA0MCxcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIEFJIHNuYWtlXHJcbiAgICAgICAgYWlTbmFrZXNSZWYuY3VycmVudCA9IGFpU25ha2VzUmVmLmN1cnJlbnQuZmlsdGVyKChzbmFrZSkgPT4gc25ha2UgIT09IGFpU25ha2UpXHJcblxyXG4gICAgICAgIC8vIEluY3JlYXNlIHNjb3JlXHJcbiAgICAgICAgc2V0U2NvcmUoKHByZXZTY29yZSkgPT4gcHJldlNjb3JlICsgNTApXHJcblxyXG4gICAgICAgIC8vIFNwYXduIG5ldyBBSSBzbmFrZSBhZnRlciBkZWxheVxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKGdhbWVTdGF0ZSA9PT0gXCJwbGF5aW5nXCIpIHtcclxuICAgICAgICAgICAgc3Bhd25BSVNuYWtlKClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MDAwKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGUgYW5kIGRyYXcgQUkgc25ha2VzXHJcbiAgY29uc3QgdXBkYXRlQUlTbmFrZXMgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgIGZvciAoY29uc3QgYWlTbmFrZSBvZiBhaVNuYWtlc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIC8vIFVwZGF0ZSBBSSBiZWhhdmlvclxyXG4gICAgICBhaVNuYWtlLnVwZGF0ZUFJKFxyXG4gICAgICAgIGZvb2RSZWYuY3VycmVudCxcclxuICAgICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LFxyXG4gICAgICAgIGFpU25ha2VzUmVmLmN1cnJlbnQuZmlsdGVyKChzbmFrZSkgPT4gc25ha2UgIT09IGFpU25ha2UpLFxyXG4gICAgICAgIGNhbnZhc1dpZHRoLFxyXG4gICAgICAgIGNhbnZhc0hlaWdodFxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXHJcbiAgICAgIGFpU25ha2UudXBkYXRlKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgZm9yIGZvb2QgY29sbGlzaW9uXHJcbiAgICAgIGNvbnN0IGFpSGVhZCA9IGFpU25ha2UuZ2V0SGVhZCgpO1xyXG4gICAgICBmb29kUmVmLmN1cnJlbnQgPSBmb29kUmVmLmN1cnJlbnQuZmlsdGVyKChmb29kKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmh5cG90KFxyXG4gICAgICAgICAgYWlIZWFkLnggLSBmb29kLnBvc2l0aW9uLngsXHJcbiAgICAgICAgICBhaUhlYWQueSAtIGZvb2QucG9zaXRpb24ueVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChkaXN0YW5jZSA8IGFpSGVhZC5yYWRpdXMgKyBmb29kLnJhZGl1cykge1xyXG4gICAgICAgICAgLy8gQ3JlYXRlIHBhcnRpY2xlIGVmZmVjdFxyXG4gICAgICAgICAgcGFydGljbGVTeXN0ZW1zUmVmLmN1cnJlbnQucHVzaChcclxuICAgICAgICAgICAgbmV3IFBhcnRpY2xlU3lzdGVtKHtcclxuICAgICAgICAgICAgICB4OiBmb29kLnBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgICAgeTogZm9vZC5wb3NpdGlvbi55LFxyXG4gICAgICAgICAgICAgIGNvbG9yOiBmb29kLmNvbG9yLFxyXG4gICAgICAgICAgICAgIHBhcnRpY2xlQ291bnQ6IDE1LFxyXG4gICAgICAgICAgICAgIGxpZmV0aW1lOiAyNSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgLy8gR3JvdyBzbmFrZVxyXG4gICAgICAgICAgYWlTbmFrZS5ncm93KGZvb2QudmFsdWUpO1xyXG5cclxuICAgICAgICAgIC8vIFNwYXduIG5ldyBmb29kXHJcbiAgICAgICAgICBzcGF3bkZvb2QoKTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFJlbW92ZSB0aGlzIGZvb2RcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIEtlZXAgdGhpcyBmb29kXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gRHJhdyBzbmFrZVxyXG4gICAgICBhaVNuYWtlLmRyYXcoY3R4KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBTcGF3biBuZXcgZm9vZFxyXG4gIGNvbnN0IHNwYXduRm9vZCA9ICgpID0+IHtcclxuICAgIC8vIFJhbmRvbSBwb3NpdGlvbiBhd2F5IGZyb20gc25ha2VzXHJcbiAgICBsZXQgdmFsaWRQb3NpdGlvbiA9IGZhbHNlXHJcbiAgICBsZXQgeCwgeVxyXG5cclxuICAgIHdoaWxlICghdmFsaWRQb3NpdGlvbikge1xyXG4gICAgICB4ID0gTWF0aC5yYW5kb20oKSAqIChjYW52YXNXaWR0aCAtIDQwKSArIDIwO1xyXG4gICAgICB5ID0gTWF0aC5yYW5kb20oKSAqIChjYW52YXNIZWlnaHQgLSA0MCkgKyAyMDtcclxuICAgICAgdmFsaWRQb3NpdGlvbiA9IHRydWU7XHJcblxyXG4gICAgICAvLyBDaGVjayBkaXN0YW5jZSBmcm9tIHBsYXllciBzbmFrZVxyXG4gICAgICBpZiAocGxheWVyU25ha2VSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5oeXBvdChcclxuICAgICAgICAgIHBsYXllclNuYWtlUmVmLmN1cnJlbnQuZ2V0SGVhZCgpLnggLSB4LFxyXG4gICAgICAgICAgcGxheWVyU25ha2VSZWYuY3VycmVudC5nZXRIZWFkKCkueSAtIHlcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmIChkaXN0YW5jZSA8IDUwKSB7XHJcbiAgICAgICAgICB2YWxpZFBvc2l0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENoZWNrIGRpc3RhbmNlIGZyb20gQUkgc25ha2VzXHJcbiAgICAgIGZvciAoY29uc3QgYWlTbmFrZSBvZiBhaVNuYWtlc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmh5cG90KFxyXG4gICAgICAgICAgYWlTbmFrZS5nZXRIZWFkKCkueCAtIHgsXHJcbiAgICAgICAgICBhaVNuYWtlLmdldEhlYWQoKS55IC0geVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgNTApIHtcclxuICAgICAgICAgIHZhbGlkUG9zaXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvb2RSZWYuY3VycmVudC5wdXNoKFxyXG4gICAgICBuZXcgRm9vZCh7XHJcbiAgICAgICAgeDogeCEsXHJcbiAgICAgICAgeTogeSEsXHJcbiAgICAgICAgdHlwZTogTWF0aC5yYW5kb20oKSA8IDAuMSA/IFwic3BlY2lhbFwiIDogXCJyZWd1bGFyXCIsXHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gU3Bhd24gbmV3IEFJIHNuYWtlXHJcbiAgY29uc3Qgc3Bhd25BSVNuYWtlID0gKCkgPT4ge1xyXG4gICAgLy8gUmFuZG9tIHBvc2l0aW9uIGF0IHRoZSBlZGdlIG9mIHRoZSBjYW52YXNcclxuICAgIGxldCB4LCB5LCBhbmdsZVxyXG5cclxuICAgIGNvbnN0IHNpZGUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KVxyXG5cclxuICAgIHN3aXRjaCAoc2lkZSkge1xyXG4gICAgICBjYXNlIDA6IC8vIFRvcFxyXG4gICAgICAgIHggPSBNYXRoLnJhbmRvbSgpICogY2FudmFzV2lkdGhcclxuICAgICAgICB5ID0gMjBcclxuICAgICAgICBhbmdsZSA9IE1hdGguUEkgLyAyXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAxOiAvLyBSaWdodFxyXG4gICAgICAgIHggPSBjYW52YXNXaWR0aCAtIDIwXHJcbiAgICAgICAgeSA9IE1hdGgucmFuZG9tKCkgKiBjYW52YXNIZWlnaHRcclxuICAgICAgICBhbmdsZSA9IE1hdGguUElcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIDI6IC8vIEJvdHRvbVxyXG4gICAgICAgIHggPSBNYXRoLnJhbmRvbSgpICogY2FudmFzV2lkdGhcclxuICAgICAgICB5ID0gY2FudmFzSGVpZ2h0IC0gMjBcclxuICAgICAgICBhbmdsZSA9IC1NYXRoLlBJIC8gMlxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgMzogLy8gTGVmdFxyXG4gICAgICAgIHggPSAyMFxyXG4gICAgICAgIHkgPSBNYXRoLnJhbmRvbSgpICogY2FudmFzSGVpZ2h0XHJcbiAgICAgICAgYW5nbGUgPSAwXHJcbiAgICAgICAgYnJlYWtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSYW5kb20gYmVoYXZpb3JcclxuICAgIGNvbnN0IGJlaGF2aW9yczogKFwicGFzc2l2ZVwiIHwgXCJhZ2dyZXNzaXZlXCIgfCBcInRlcnJpdG9yaWFsXCIpW10gPSBbXCJwYXNzaXZlXCIsIFwiYWdncmVzc2l2ZVwiLCBcInRlcnJpdG9yaWFsXCJdXHJcbiAgICBjb25zdCBiZWhhdmlvciA9IGJlaGF2aW9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBiZWhhdmlvcnMubGVuZ3RoKV1cclxuXHJcbiAgICAvLyBSYW5kb20gY29sb3IgKG5lb24pXHJcbiAgICBjb25zdCBjb2xvcnMgPSBbXCIjMGYwXCIsIFwiI2YwMFwiLCBcIiNmZjBcIiwgXCIjZjBmXCIsIFwiIzBmZlwiXVxyXG4gICAgY29uc3QgY29sb3IgPSBjb2xvcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY29sb3JzLmxlbmd0aCldXHJcblxyXG4gICAgLy8gQ3JlYXRlIG5ldyBBSSBzbmFrZVxyXG4gICAgYWlTbmFrZXNSZWYuY3VycmVudC5wdXNoKFxyXG4gICAgICBuZXcgQUlTbmFrZSh7XHJcbiAgICAgICAgeDogeCEsXHJcbiAgICAgICAgeTogeSEsXHJcbiAgICAgICAgY29sb3IsXHJcbiAgICAgICAgaGVhZENvbG9yOiBcIiNmZmZcIixcclxuICAgICAgICBpbml0aWFsTGVuZ3RoOiAzLFxyXG4gICAgICAgIGluaXRpYWxBbmdsZTogYW5nbGUhLFxyXG4gICAgICAgIHNwZWVkOiAxLjUgKyBNYXRoLnJhbmRvbSgpICogMC41LFxyXG4gICAgICAgIGJlaGF2aW9yLFxyXG4gICAgICB9KSxcclxuICAgIClcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZSBhbmQgZHJhdyBwYXJ0aWNsZSBzeXN0ZW1zXHJcbiAgY29uc3QgdXBkYXRlUGFydGljbGVzID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICBwYXJ0aWNsZVN5c3RlbXNSZWYuY3VycmVudCA9IHBhcnRpY2xlU3lzdGVtc1JlZi5jdXJyZW50LmZpbHRlcigoc3lzdGVtKSA9PiB7XHJcbiAgICAgIHN5c3RlbS51cGRhdGUoKVxyXG4gICAgICBzeXN0ZW0uZHJhdyhjdHgpXHJcbiAgICAgIHJldHVybiAhc3lzdGVtLmlzRGVhZCgpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLy8gRHJhdyBIVUQgKHNjb3JlLCBldGMuKVxyXG4gIGNvbnN0IGRyYXdIVUQgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgIGN0eC5maWxsU3R5bGUgPSBcIiNmZmZcIjtcclxuICAgIGN0eC5mb250ID0gJzIwcHggXCJDb3VyaWVyIE5ld1wiLCBtb25vc3BhY2UnO1xyXG4gICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgY3R4LmZpbGxUZXh0KGBTQ09SRTogJHtzY29yZX1gLCAyMCwgMzApO1xyXG4gICAgY3R4LmZpbGxUZXh0KGBISUdIIFNDT1JFOiAke2hpZ2hTY29yZX1gLCAyMCwgNjApO1xyXG5cclxuICAgIC8vIERyYXcgYWN0aXZlIHBvd2VyLXVwc1xyXG4gICAgaWYgKHBsYXllclNuYWtlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc3QgYWN0aXZlUG93ZXJVcHMgPSBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LmFjdGl2ZVBvd2VyVXBzO1xyXG4gICAgICBsZXQgaSA9IDA7XHJcbiAgICAgIGFjdGl2ZVBvd2VyVXBzLmZvckVhY2goKGVuZFRpbWUsIHR5cGUpID0+IHtcclxuICAgICAgICBpZiAoRGF0ZS5ub3coKSA8IGVuZFRpbWUpIHtcclxuICAgICAgICAgIGNvbnN0IHRpbWVMZWZ0ID0gTWF0aC5jZWlsKChlbmRUaW1lIC0gRGF0ZS5ub3coKSkgLyAxMDAwKTtcclxuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiNmZmZcIjtcclxuICAgICAgICAgIGN0eC5mb250ID0gJzE2cHggXCJDb3VyaWVyIE5ld1wiLCBtb25vc3BhY2UnO1xyXG4gICAgICAgICAgY3R4LmZpbGxUZXh0KFxyXG4gICAgICAgICAgICBgJHt0eXBlLnRvVXBwZXJDYXNlKCl9OiAke3RpbWVMZWZ0fXNgLFxyXG4gICAgICAgICAgICAyMCxcclxuICAgICAgICAgICAgMTAwICsgaSAqIDI1XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgaSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBHYW1lIG92ZXJcclxuICBjb25zdCBnYW1lT3ZlciA9ICgpID0+IHtcclxuICAgIHNldEdhbWVTdGF0ZShcImdhbWVPdmVyXCIpXHJcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZShnYW1lTG9vcFJlZi5jdXJyZW50KVxyXG4gICAgYXVkaW9SZWYuY3VycmVudC5wbGF5U291bmQoXCJnYW1lb3ZlclwiKVxyXG5cclxuICAgIC8vIENyZWF0ZSBleHBsb3Npb24gZWZmZWN0IGF0IHBsYXllciBoZWFkXHJcbiAgICBpZiAocGxheWVyU25ha2VSZWYuY3VycmVudCkge1xyXG4gICAgICBjb25zdCBoZWFkID0gcGxheWVyU25ha2VSZWYuY3VycmVudC5nZXRIZWFkKClcclxuICAgICAgcGFydGljbGVTeXN0ZW1zUmVmLmN1cnJlbnQucHVzaChcclxuICAgICAgICBuZXcgUGFydGljbGVTeXN0ZW0oe1xyXG4gICAgICAgICAgeDogaGVhZC54LFxyXG4gICAgICAgICAgeTogaGVhZC55LFxyXG4gICAgICAgICAgY29sb3I6IHBsYXllclNuYWtlUmVmLmN1cnJlbnQuaGVhZENvbG9yLFxyXG4gICAgICAgICAgcGFydGljbGVDb3VudDogNTAsXHJcbiAgICAgICAgICBsaWZldGltZTogNjAsXHJcbiAgICAgICAgICBzcGVlZDogMyxcclxuICAgICAgICB9KSxcclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVuZGVyTWVudSA9ICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdSZW5kZXJpbmcgbWVudSBzY3JlZW4nKTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjayBiZy1vcGFjaXR5LTgwIHotMTBcIj5cclxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC01eGwgZm9udC1ib2xkIG1iLTggdGV4dC10cmFuc3BhcmVudCBiZy1jbGlwLXRleHQgYmctZ3JhZGllbnQtdG8tciBmcm9tLWN5YW4tNDAwIHRvLXB1cnBsZS02MDBcIj5cclxuICAgICAgICAgIE5FT04gU05BS0VcclxuICAgICAgICA8L2gxPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IHctNjRcIj5cclxuICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1jeWFuLTUwMCB0by1wdXJwbGUtNjAwIGhvdmVyOmZyb20tY3lhbi02MDAgaG92ZXI6dG8tcHVycGxlLTcwMFwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU3RhcnQgYnV0dG9uIGNsaWNrZWQgaW4gbWVudScpO1xyXG4gICAgICAgICAgICAgIHN0YXJ0R2FtZSgpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8UGxheSBjbGFzc05hbWU9XCJtci0yIGgtNCB3LTRcIiAvPlxyXG4gICAgICAgICAgICBQTEFZXHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1ncmF5LTQwMCB0ZXh0LXNtIG10LThcIj5cclxuICAgICAgICAgICAgPHA+VXNlIEFSUk9XIEtFWVMgb3IgV0FTRCB0byBjb250cm9sPC9wPlxyXG4gICAgICAgICAgICA8cD5QcmVzcyBVUCBvciBXIGZvciBzcGVlZCBib29zdDwvcD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcblxyXG4gIC8vIFJlbmRlciBwYXVzZSBzY3JlZW5cclxuICBjb25zdCByZW5kZXJQYXVzZVNjcmVlbiA9ICgpID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjayBiZy1vcGFjaXR5LTgwIHotMTBcIj5cclxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIG1iLTggdGV4dC1jeWFuLTQwMFwiPlBBVVNFRDwvaDI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgdy02NFwiPlxyXG4gICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JhZGllbnQtdG8tciBmcm9tLWN5YW4tNTAwIHRvLXB1cnBsZS02MDAgaG92ZXI6ZnJvbS1jeWFuLTYwMCBob3Zlcjp0by1wdXJwbGUtNzAwXCJcclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgIHNldEdhbWVTdGF0ZShcInBsYXlpbmdcIilcclxuICAgICAgICAgICAgICBnYW1lTG9vcFJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKVxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8UGxheSBjbGFzc05hbWU9XCJtci0yIGgtNCB3LTRcIiAvPlxyXG4gICAgICAgICAgICBSRVNVTUVcclxuICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXItY3lhbi01MDAgdGV4dC1jeWFuLTQwMCBob3ZlcjpiZy1jeWFuLTk1MFwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEdhbWVTdGF0ZShcIm1lbnVcIil9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIE1BSU4gTUVOVVxyXG4gICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgLy8gUmVuZGVyIGdhbWUgb3ZlciBzY3JlZW5cclxuICBjb25zdCByZW5kZXJHYW1lT3ZlclNjcmVlbiA9ICgpID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjayBiZy1vcGFjaXR5LTgwIHotMTBcIj5cclxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC00eGwgZm9udC1ib2xkIG1iLTIgdGV4dC1yZWQtNTAwXCI+R0FNRSBPVkVSPC9oMj5cclxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBtYi04IHRleHQtY3lhbi00MDBcIj5TQ09SRToge3Njb3JlfTwvcD5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNCB3LTY0XCI+XHJcbiAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmFkaWVudC10by1yIGZyb20tY3lhbi01MDAgdG8tcHVycGxlLTYwMCBob3Zlcjpmcm9tLWN5YW4tNjAwIGhvdmVyOnRvLXB1cnBsZS03MDBcIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXtzdGFydEdhbWV9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwibXItMiBoLTQgdy00XCIgLz5cclxuICAgICAgICAgICAgUExBWSBBR0FJTlxyXG4gICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlci1jeWFuLTUwMCB0ZXh0LWN5YW4tNDAwIGhvdmVyOmJnLWN5YW4tOTUwXCJcclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0R2FtZVN0YXRlKFwibWVudVwiKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgTUFJTiBNRU5VXHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICAvLyBSZW5kZXIgZ2FtZSBjb250cm9sc1xyXG4gIGNvbnN0IHJlbmRlckdhbWVDb250cm9scyA9ICgpID0+IHtcclxuICAgIGlmIChnYW1lU3RhdGUgIT09IFwicGxheWluZ1wiKSByZXR1cm4gbnVsbFxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTQgcmlnaHQtNCB6LTEwXCI+XHJcbiAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxyXG4gICAgICAgICAgc2l6ZT1cImljb25cIlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyLWN5YW4tNTAwIHRleHQtY3lhbi00MDAgaG92ZXI6YmctY3lhbi05NTBcIlxyXG4gICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRHYW1lU3RhdGUoXCJwYXVzZWRcIilcclxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3BSZWYuY3VycmVudClcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPFBhdXNlIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxyXG4gICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcblxyXG4gIC8vIEFkZCBwb3dlci11cCBzcGF3bmluZ1xyXG4gIGNvbnN0IHNwYXduUG93ZXJVcCA9ICgpID0+IHtcclxuICAgIGNvbnN0IHR5cGVzOiBQb3dlclVwVHlwZVtdID0gW1wic3BlZWRcIiwgXCJpbnZ1bG5lcmFiaWxpdHlcIiwgXCJnaG9zdFwiXVxyXG4gICAgY29uc3QgcmFuZG9tVHlwZSA9IHR5cGVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHR5cGVzLmxlbmd0aCldXHJcblxyXG4gICAgbGV0IHZhbGlkUG9zaXRpb24gPSBmYWxzZVxyXG4gICAgbGV0IHgsIHlcclxuXHJcbiAgICB3aGlsZSAoIXZhbGlkUG9zaXRpb24pIHtcclxuICAgICAgeCA9IE1hdGgucmFuZG9tKCkgKiAoY2FudmFzV2lkdGggLSA0MCkgKyAyMFxyXG4gICAgICB5ID0gTWF0aC5yYW5kb20oKSAqIChjYW52YXNIZWlnaHQgLSA0MCkgKyAyMFxyXG4gICAgICB2YWxpZFBvc2l0aW9uID0gdHJ1ZVxyXG5cclxuICAgICAgLy8gQ2hlY2sgZGlzdGFuY2UgZnJvbSBwbGF5ZXIgYW5kIEFJIHNuYWtlc1xyXG4gICAgICBpZiAocGxheWVyU25ha2VSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LnNlZ21lbnRzKSB7XHJcbiAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguaHlwb3Qoc2VnbWVudC54IC0geCwgc2VnbWVudC55IC0geSlcclxuICAgICAgICAgIGlmIChkaXN0YW5jZSA8IDUwKSB7XHJcbiAgICAgICAgICAgIHZhbGlkUG9zaXRpb24gPSBmYWxzZVxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHZhbGlkUG9zaXRpb24pIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGFpU25ha2Ugb2YgYWlTbmFrZXNSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIGFpU25ha2Uuc2VnbWVudHMpIHtcclxuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmh5cG90KHNlZ21lbnQueCAtIHgsIHNlZ21lbnQueSAtIHkpXHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IDUwKSB7XHJcbiAgICAgICAgICAgICAgdmFsaWRQb3NpdGlvbiA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCF2YWxpZFBvc2l0aW9uKSBicmVha1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBvd2VyVXBzUmVmLmN1cnJlbnQucHVzaChcclxuICAgICAgbmV3IFBvd2VyVXAoe1xyXG4gICAgICAgIHg6IHghLFxyXG4gICAgICAgIHk6IHkhLFxyXG4gICAgICAgIHR5cGU6IHJhbmRvbVR5cGUsXHJcbiAgICAgIH0pXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICAvLyBDaGVjayBwb3dlci11cCBjb2xsaXNpb25zXHJcbiAgY29uc3QgY2hlY2tQb3dlclVwQ29sbGlzaW9ucyA9ICgpID0+IHtcclxuICAgIGlmICghcGxheWVyU25ha2VSZWYuY3VycmVudCkgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgcGxheWVySGVhZCA9IHBsYXllclNuYWtlUmVmLmN1cnJlbnQuZ2V0SGVhZCgpXHJcbiAgICBwb3dlclVwc1JlZi5jdXJyZW50ID0gcG93ZXJVcHNSZWYuY3VycmVudC5maWx0ZXIoKHBvd2VyVXApID0+IHtcclxuICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmh5cG90KFxyXG4gICAgICAgIHBsYXllckhlYWQueCAtIHBvd2VyVXAucG9zaXRpb24ueCxcclxuICAgICAgICBwbGF5ZXJIZWFkLnkgLSBwb3dlclVwLnBvc2l0aW9uLnlcclxuICAgICAgKVxyXG5cclxuICAgICAgaWYgKGRpc3RhbmNlIDwgcGxheWVySGVhZC5yYWRpdXMgKyBwb3dlclVwLnJhZGl1cykge1xyXG4gICAgICAgIC8vIEFwcGx5IHBvd2VyLXVwIGVmZmVjdFxyXG4gICAgICAgIHBsYXllclNuYWtlUmVmLmN1cnJlbnQ/LmNvbGxlY3RQb3dlclVwKHBvd2VyVXApXHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBwYXJ0aWNsZSBlZmZlY3RcclxuICAgICAgICBwYXJ0aWNsZVN5c3RlbXNSZWYuY3VycmVudC5wdXNoKFxyXG4gICAgICAgICAgbmV3IFBhcnRpY2xlU3lzdGVtKHtcclxuICAgICAgICAgICAgeDogcG93ZXJVcC5wb3NpdGlvbi54LFxyXG4gICAgICAgICAgICB5OiBwb3dlclVwLnBvc2l0aW9uLnksXHJcbiAgICAgICAgICAgIGNvbG9yOiBwb3dlclVwLmNvbG9yLFxyXG4gICAgICAgICAgICBwYXJ0aWNsZUNvdW50OiAzMCxcclxuICAgICAgICAgICAgbGlmZXRpbWU6IDQwLFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLy8gT2NjYXNpb25hbGx5IHNwYXduIHBvd2VyLXVwc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoZ2FtZVN0YXRlICE9PSBcInBsYXlpbmdcIikgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgcG93ZXJVcEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMyAmJiBwb3dlclVwc1JlZi5jdXJyZW50Lmxlbmd0aCA8IDMpIHtcclxuICAgICAgICBzcGF3blBvd2VyVXAoKVxyXG4gICAgICB9XHJcbiAgICB9LCAxMDAwMCkgLy8gRXZlcnkgMTAgc2Vjb25kc1xyXG5cclxuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKHBvd2VyVXBJbnRlcnZhbClcclxuICB9LCBbZ2FtZVN0YXRlXSlcclxuXHJcbiAgLy8gVXBkYXRlIHN0YXRlIHRyYW5zaXRpb25zXHJcbiAgY29uc3QgY2hhbmdlR2FtZVN0YXRlID0gYXN5bmMgKG5ld1N0YXRlOiBHYW1lU3RhdGUpID0+IHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50XHJcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuXHJcbiAgICBcclxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXHJcbiAgICBpZiAoIWN0eCkgcmV0dXJuXHJcblxyXG4gICAgLy8gRXhpdCB0cmFuc2l0aW9uXHJcbiAgICBhd2FpdCBUcmFuc2l0aW9ucy5mYWRlKGN0eCwgJ291dCcsIDMwMClcclxuICAgIFxyXG4gICAgc2V0R2FtZVN0YXRlKG5ld1N0YXRlKVxyXG4gICAgXHJcbiAgICAvLyBFbnRlciB0cmFuc2l0aW9uXHJcbiAgICBhd2FpdCBUcmFuc2l0aW9ucy5mYWRlKGN0eCwgJ2luJywgMzAwKVxyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlIGNhbnZhcyBzaXplIG9uIHdpbmRvdyByZXNpemVcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcclxuICAgICAgaWYgKCFjYW52YXMpIHJldHVybjtcclxuXHJcbiAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gZ2V0Q2FudmFzRGltZW5zaW9ucygpO1xyXG4gICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XHJcbiAgICBoYW5kbGVSZXNpemUoKTsgLy8gSW5pdGlhbCBzaXplXHJcblxyXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xyXG4gIH0sIFtpc01vYmlsZV0pO1xyXG5cclxuICAvLyBIYW5kbGUgdG91Y2ggY29udHJvbHNcclxuICBjb25zdCBoYW5kbGVEaXJlY3Rpb25DaGFuZ2UgPSAoZGlyZWN0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pID0+IHtcclxuICAgIHNldFRvdWNoRGlyZWN0aW9uKGRpcmVjdGlvbik7XHJcbiAgfTtcclxuXHJcbiAgLy8gVXBkYXRlIGlucHV0IHN5c3RlbSB0byBoYW5kbGUgYm90aCBrZXlib2FyZCBhbmQgdG91Y2hcclxuICBjb25zdCBpbnB1dFN5c3RlbSA9ICgpID0+IHtcclxuICAgIGlmICghcGxheWVyU25ha2VSZWYuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuICAgIGlmIChpc01vYmlsZSkge1xyXG4gICAgICAvLyBDb252ZXJ0IHRvdWNoIGRpcmVjdGlvbiB0byBhbmdsZVxyXG4gICAgICBpZiAodG91Y2hEaXJlY3Rpb24ueCAhPT0gMCB8fCB0b3VjaERpcmVjdGlvbi55ICE9PSAwKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0QW5nbGUgPSBNYXRoLmF0YW4yKHRvdWNoRGlyZWN0aW9uLnksIHRvdWNoRGlyZWN0aW9uLngpO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRBbmdsZSA9IHBsYXllclNuYWtlUmVmLmN1cnJlbnQuYW5nbGU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU21vb3RoIHJvdGF0aW9uIHRvd2FyZHMgdGFyZ2V0IGFuZ2xlXHJcbiAgICAgICAgY29uc3QgYW5nbGVEaWZmID0gdGFyZ2V0QW5nbGUgLSBjdXJyZW50QW5nbGU7XHJcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZERpZmYgPSBNYXRoLmF0YW4yKE1hdGguc2luKGFuZ2xlRGlmZiksIE1hdGguY29zKGFuZ2xlRGlmZikpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChub3JtYWxpemVkRGlmZiA+IDAuMSkge1xyXG4gICAgICAgICAgcGxheWVyU25ha2VSZWYuY3VycmVudC50dXJuUmlnaHQoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWREaWZmIDwgLTAuMSkge1xyXG4gICAgICAgICAgcGxheWVyU25ha2VSZWYuY3VycmVudC50dXJuTGVmdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSGFuZGxlIGJvb3N0XHJcbiAgICAgIGlmIChpc0Jvb3N0aW5nKSB7XHJcbiAgICAgICAgcGxheWVyU25ha2VSZWYuY3VycmVudC5ib29zdCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBsYXllclNuYWtlUmVmLmN1cnJlbnQubm9ybWFsU3BlZWQoKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gRXhpc3Rpbmcga2V5Ym9hcmQgY29udHJvbHNcclxuICAgICAgaGFuZGxlSW5wdXQoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBBZGQgdGhpcyBmdW5jdGlvbiBuZWFyIHRoZSB0b3Agb2YgdGhlIGNvbXBvbmVudFxyXG4gIGNvbnN0IGdldENhbnZhc0RpbWVuc2lvbnMgPSAoKSA9PiB7XHJcbiAgICBpZiAoaXNNb2JpbGUpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB3aWR0aDogTWF0aC5taW4od2luZG93LmlubmVyV2lkdGggLSAzMiwgNjAwKSxcclxuICAgICAgICBoZWlnaHQ6IE1hdGgubWluKHdpbmRvdy5pbm5lckhlaWdodCAtIDIwMCwgODAwKVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgd2lkdGg6IDgwMCxcclxuICAgICAgaGVpZ2h0OiA2MDBcclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgLy8gVXBkYXRlIGdhbWUgbG9vcCBvbiBnYW1lIHN0YXRlIGNoYW5nZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoY2FudmFzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XHJcbiAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xyXG4gICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzSGVpZ2h0O1xyXG4gICAgICBcclxuICAgICAgLy8gU3RhcnQgZ2FtZSBsb29wXHJcbiAgICAgIGlmIChnYW1lU3RhdGUgPT09IFwicGxheWluZ1wiKSB7XHJcbiAgICAgICAgZ2FtZUxvb3BSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKGdhbWVMb29wUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShnYW1lTG9vcFJlZi5jdXJyZW50KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbZ2FtZVN0YXRlXSk7XHJcblxyXG4gIC8vIEFkZCBuZWFyIHRoZSB0b3Agb2YgdGhlIGNvbXBvbmVudFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBWZXJpZnkgYWxsIHJlcXVpcmVkIGZ1bmN0aW9ucyBleGlzdFxyXG4gICAgY29uc3QgcmVxdWlyZWRGdW5jdGlvbnMgPSB7XHJcbiAgICAgIHJlbmRlclN5c3RlbSxcclxuICAgICAgaW5wdXRTeXN0ZW0sXHJcbiAgICAgIHBoeXNpY3NTeXN0ZW0sXHJcbiAgICAgIGNvbGxpc2lvblN5c3RlbSxcclxuICAgICAgYWlTeXN0ZW0sXHJcbiAgICAgIHBhcnRpY2xlU3lzdGVtLFxyXG4gICAgICBodWRTeXN0ZW0sXHJcbiAgICAgIGhhbmRsZUlucHV0LFxyXG4gICAgICBjaGVja0Zvb2RDb2xsaXNpb25zLFxyXG4gICAgICBjaGVja1NuYWtlQ29sbGlzaW9ucyxcclxuICAgICAgdXBkYXRlQUlTbmFrZXMsXHJcbiAgICAgIHVwZGF0ZVBhcnRpY2xlcyxcclxuICAgICAgZHJhd0hVRCxcclxuICAgICAgZHJhd0dyaWRcclxuICAgIH07XHJcblxyXG4gICAgT2JqZWN0LmVudHJpZXMocmVxdWlyZWRGdW5jdGlvbnMpLmZvckVhY2goKFtuYW1lLCBmdW5jXSkgPT4ge1xyXG4gICAgICBpZiAoIWZ1bmMpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBNaXNzaW5nIHJlcXVpcmVkIGZ1bmN0aW9uOiAke25hbWV9YCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gUmVuZGVyIGdhbWUgY29udHJvbHNcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICB7bG9hZGluZyA/IChcclxuICAgICAgICA8TG9hZGluZ1NjcmVlbiBwcm9ncmVzcz17bG9hZGluZ1Byb2dyZXNzfSAvPlxyXG4gICAgICApIDogKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICAgICA8Y2FudmFzXHJcbiAgICAgICAgICAgIHJlZj17Y2FudmFzUmVmfVxyXG4gICAgICAgICAgICB3aWR0aD17Y2FudmFzV2lkdGh9XHJcbiAgICAgICAgICAgIGhlaWdodD17Y2FudmFzSGVpZ2h0fVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXIgYm9yZGVyLWN5YW4tOTAwIHJvdW5kZWQtbGcgc2hhZG93LWxnIHNoYWRvdy1jeWFuLTUwMC8yMFwiXHJcbiAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgIHtnYW1lU3RhdGUgPT09IFwibWVudVwiICYmIHJlbmRlck1lbnUoKX1cclxuICAgICAgICAgIHtnYW1lU3RhdGUgPT09IFwicGF1c2VkXCIgJiYgcmVuZGVyUGF1c2VTY3JlZW4oKX1cclxuICAgICAgICAgIHtnYW1lU3RhdGUgPT09IFwiZ2FtZU92ZXJcIiAmJiByZW5kZXJHYW1lT3ZlclNjcmVlbigpfVxyXG4gICAgICAgICAge3JlbmRlckdhbWVDb250cm9scygpfVxyXG5cclxuICAgICAgICAgIHsvKiBTaG93IHRvdWNoIGNvbnRyb2xzIG9uIG1vYmlsZSBkdXJpbmcgZ2FtZXBsYXkgKi99XHJcbiAgICAgICAgICB7aXNNb2JpbGUgJiYgZ2FtZVN0YXRlID09PSBcInBsYXlpbmdcIiAmJiAoXHJcbiAgICAgICAgICAgIDxUb3VjaENvbnRyb2xzXHJcbiAgICAgICAgICAgICAgb25EaXJlY3Rpb25DaGFuZ2U9e2hhbmRsZURpcmVjdGlvbkNoYW5nZX1cclxuICAgICAgICAgICAgICBvbkJvb3N0U3RhcnQ9eygpID0+IHNldElzQm9vc3RpbmcodHJ1ZSl9XHJcbiAgICAgICAgICAgICAgb25Cb29zdEVuZD17KCkgPT4gc2V0SXNCb29zdGluZyhmYWxzZSl9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvPlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiQnV0dG9uIiwiUGxheSIsIlBhdXNlIiwiUmVmcmVzaEN3IiwiUGFydGljbGVTeXN0ZW0iLCJTbmFrZSIsIkZvb2QiLCJBSVNuYWtlIiwiU2V0dGluZ3NNYW5hZ2VyIiwiQXVkaW9TeXN0ZW0iLCJQb3dlclVwIiwiQXNzZXRNYW5hZ2VyIiwiVHJhbnNpdGlvbnMiLCJMb2FkaW5nU2NyZWVuIiwiVG91Y2hDb250cm9scyIsInVzZU1lZGlhUXVlcnkiLCJTbmFrZUdhbWUiLCJjYW52YXNSZWYiLCJnYW1lU3RhdGUiLCJzZXRHYW1lU3RhdGUiLCJzY29yZSIsInNldFNjb3JlIiwiaGlnaFNjb3JlIiwic2V0SGlnaFNjb3JlIiwibG9hZGluZyIsInNldExvYWRpbmciLCJsb2FkaW5nUHJvZ3Jlc3MiLCJzZXRMb2FkaW5nUHJvZ3Jlc3MiLCJnYW1lTG9vcFJlZiIsInBsYXllclNuYWtlUmVmIiwiZm9vZFJlZiIsImFpU25ha2VzUmVmIiwicGFydGljbGVTeXN0ZW1zUmVmIiwicG93ZXJVcHNSZWYiLCJzZXR0aW5nc1JlZiIsImdldEluc3RhbmNlIiwiYXVkaW9SZWYiLCJhc3NldE1hbmFnZXJSZWYiLCJrZXlzUHJlc3NlZCIsIlNldCIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiaXNNb2JpbGUiLCJ0b3VjaERpcmVjdGlvbiIsInNldFRvdWNoRGlyZWN0aW9uIiwieCIsInkiLCJpc0Jvb3N0aW5nIiwic2V0SXNCb29zdGluZyIsImNvbnNvbGUiLCJsb2ciLCJjYW52YXMiLCJjdXJyZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJzYXZlZEhpZ2hTY29yZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJOdW1iZXIiLCJwYXJzZUludCIsInNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJzb3VuZEVuYWJsZWQiLCJwbGF5TXVzaWMiLCJoYW5kbGVLZXlEb3duIiwiZSIsImtleSIsInRvTG93ZXJDYXNlIiwiYWRkIiwic3RhcnRHYW1lIiwiaGFuZGxlS2V5VXAiLCJkZWxldGUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY3R4IiwiZ2V0Q29udGV4dCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZHJhd0dyaWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJsb2FkQXNzZXRzIiwibG9hZEFsbCIsImVycm9yIiwidXBkYXRlUHJvZ3Jlc3MiLCJnZXRMb2FkaW5nUHJvZ3Jlc3MiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjb2xvciIsImhlYWRDb2xvciIsImluaXRpYWxMZW5ndGgiLCJpbml0aWFsQW5nbGUiLCJNYXRoIiwiUEkiLCJzcGVlZCIsInJhbmRvbSIsInR5cGUiLCJiZWhhdmlvciIsInNldFRpbWVvdXQiLCJnYW1lTG9vcCIsInBsYXlTb3VuZCIsImlucHV0U3lzdGVtIiwicGh5c2ljc1N5c3RlbSIsImNvbGxpc2lvblN5c3RlbSIsInJlbmRlclN5c3RlbSIsImFpU3lzdGVtIiwicGFydGljbGVTeXN0ZW0iLCJodWRTeXN0ZW0iLCJkcmF3IiwiYWlTbmFrZSIsImZvb2QiLCJ1cGRhdGUiLCJwb3dlclVwIiwicGFydGljbGVzIiwiZmlsdGVyIiwic3lzdGVtIiwiaXNEZWFkIiwiY2hlY2tGb29kQ29sbGlzaW9ucyIsImNoZWNrU25ha2VDb2xsaXNpb25zIiwiY2hlY2tQb3dlclVwQ29sbGlzaW9ucyIsInVwZGF0ZUFJU25ha2VzIiwidXBkYXRlUGFydGljbGVzIiwiZHJhd0hVRCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiaGFuZGxlSW5wdXQiLCJsZWZ0IiwiaGFzIiwicmlnaHQiLCJib29zdCIsImtleXMiLCJBcnJheSIsImZyb20iLCJ0dXJuTGVmdCIsInR1cm5SaWdodCIsIm5vcm1hbFNwZWVkIiwicGxheWVySGVhZCIsImdldEhlYWQiLCJkaXN0YW5jZSIsImh5cG90IiwicG9zaXRpb24iLCJjb2xsaXNpb25EaXN0YW5jZSIsInJhZGl1cyIsInB1c2giLCJwYXJ0aWNsZUNvdW50IiwibGlmZXRpbWUiLCJncm93IiwidmFsdWUiLCJwcmV2U2NvcmUiLCJuZXdTY29yZSIsInNldEl0ZW0iLCJ0b1N0cmluZyIsInNwYXduRm9vZCIsImNoZWNrU2VsZkNvbGxpc2lvbiIsImdhbWVPdmVyIiwiY2hlY2tDb2xsaXNpb25XaXRoIiwiYWlIZWFkIiwiY2hlY2tDb2xsaXNpb25XaXRoUG9pbnQiLCJzbmFrZSIsInNwYXduQUlTbmFrZSIsInVwZGF0ZUFJIiwidmFsaWRQb3NpdGlvbiIsImFuZ2xlIiwic2lkZSIsImZsb29yIiwiYmVoYXZpb3JzIiwibGVuZ3RoIiwiY29sb3JzIiwiZm9udCIsInRleHRBbGlnbiIsImZpbGxUZXh0IiwiYWN0aXZlUG93ZXJVcHMiLCJpIiwiZm9yRWFjaCIsImVuZFRpbWUiLCJEYXRlIiwibm93IiwidGltZUxlZnQiLCJjZWlsIiwidG9VcHBlckNhc2UiLCJoZWFkIiwicmVuZGVyTWVudSIsImRpdiIsImNsYXNzTmFtZSIsImgxIiwib25DbGljayIsInAiLCJyZW5kZXJQYXVzZVNjcmVlbiIsImgyIiwidmFyaWFudCIsInJlbmRlckdhbWVPdmVyU2NyZWVuIiwicmVuZGVyR2FtZUNvbnRyb2xzIiwic2l6ZSIsInNwYXduUG93ZXJVcCIsInR5cGVzIiwicmFuZG9tVHlwZSIsInNlZ21lbnQiLCJzZWdtZW50cyIsImNvbGxlY3RQb3dlclVwIiwicG93ZXJVcEludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiY2hhbmdlR2FtZVN0YXRlIiwibmV3U3RhdGUiLCJmYWRlIiwiaGFuZGxlUmVzaXplIiwiZ2V0Q2FudmFzRGltZW5zaW9ucyIsImhhbmRsZURpcmVjdGlvbkNoYW5nZSIsImRpcmVjdGlvbiIsInRhcmdldEFuZ2xlIiwiYXRhbjIiLCJjdXJyZW50QW5nbGUiLCJhbmdsZURpZmYiLCJub3JtYWxpemVkRGlmZiIsInNpbiIsImNvcyIsIm1pbiIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInJlcXVpcmVkRnVuY3Rpb25zIiwiT2JqZWN0IiwiZW50cmllcyIsIm5hbWUiLCJmdW5jIiwicHJvZ3Jlc3MiLCJyZWYiLCJvbkRpcmVjdGlvbkNoYW5nZSIsIm9uQm9vc3RTdGFydCIsIm9uQm9vc3RFbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/game.tsx\n"));

/***/ })

});