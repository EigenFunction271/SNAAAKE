"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/game.tsx":
/*!*****************************!*\
  !*** ./components/game.tsx ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ SnakeGame; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Pause,Play,RefreshCw!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=Pause,Play,RefreshCw!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=Pause,Play,RefreshCw!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/pause.js\");\n/* harmony import */ var _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/particle-system */ \"(app-pages-browser)/./utils/particle-system.tsx\");\n/* harmony import */ var _utils_snake__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/utils/snake */ \"(app-pages-browser)/./utils/snake.tsx\");\n/* harmony import */ var _utils_food__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/utils/food */ \"(app-pages-browser)/./utils/food.tsx\");\n/* harmony import */ var _utils_ai_snake__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/utils/ai-snake */ \"(app-pages-browser)/./utils/ai-snake.tsx\");\n/* harmony import */ var _utils_settings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/utils/settings */ \"(app-pages-browser)/./utils/settings.tsx\");\n/* harmony import */ var _utils_audio_system__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/utils/audio-system */ \"(app-pages-browser)/./utils/audio-system.tsx\");\n/* harmony import */ var _utils_power_up__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/utils/power-up */ \"(app-pages-browser)/./utils/power-up.tsx\");\n/* harmony import */ var _utils_asset_manager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/utils/asset-manager */ \"(app-pages-browser)/./utils/asset-manager.tsx\");\n/* harmony import */ var _utils_transitions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/utils/transitions */ \"(app-pages-browser)/./utils/transitions.tsx\");\n/* harmony import */ var _components_loading_screen__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/loading-screen */ \"(app-pages-browser)/./components/loading-screen.tsx\");\n/* harmony import */ var _components_touch_controls__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/touch-controls */ \"(app-pages-browser)/./components/touch-controls.tsx\");\n/* harmony import */ var _hooks_use_media_query__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/hooks/use-media-query */ \"(app-pages-browser)/./hooks/use-media-query.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction SnakeGame() {\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"menu\");\n    const [score, setScore] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [highScore, setHighScore] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [loadingProgress, setLoadingProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Game loop reference to store animation frame ID\n    const gameLoopRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // Game objects references\n    const playerSnakeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const foodRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const aiSnakesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const particleSystemsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const powerUpsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const settingsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(_utils_settings__WEBPACK_IMPORTED_MODULE_7__.SettingsManager.getInstance());\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(_utils_audio_system__WEBPACK_IMPORTED_MODULE_8__.AudioSystem.getInstance());\n    const assetManagerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(_utils_asset_manager__WEBPACK_IMPORTED_MODULE_10__.AssetManager.getInstance());\n    // Input state\n    const keysPressed = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    // Canvas dimensions\n    const canvasWidth = 800;\n    const canvasHeight = 600;\n    // Add responsive state\n    const isMobile = (0,_hooks_use_media_query__WEBPACK_IMPORTED_MODULE_14__.useMediaQuery)(\"(max-width: 768px)\");\n    const [touchDirection, setTouchDirection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [isBoosting, setIsBoosting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Initialize game\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"Component mounted\");\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        canvas.width = canvasWidth;\n        canvas.height = canvasHeight;\n        console.log(\"Canvas initialized:\", {\n            width: canvasWidth,\n            height: canvasHeight\n        });\n        // Load high score from localStorage\n        const savedHighScore = localStorage.getItem(\"snakeHighScore\");\n        if (savedHighScore) {\n            setHighScore(Number.parseInt(savedHighScore));\n        }\n        // Load settings\n        const settings = settingsRef.current.getSettings();\n        // Start background music\n        if (settings.soundEnabled) {\n            audioRef.current.playMusic();\n        }\n        // Set up event listeners\n        window.addEventListener(\"keydown\", handleKeyDown);\n        window.addEventListener(\"keyup\", handleKeyUp);\n        // Draw initial grid\n        const ctx = canvas.getContext(\"2d\");\n        if (ctx) {\n            ctx.fillStyle = \"#000\";\n            ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n            drawGrid(ctx);\n        }\n        return ()=>{\n            window.removeEventListener(\"keydown\", handleKeyDown);\n            window.removeEventListener(\"keyup\", handleKeyUp);\n            cancelAnimationFrame(gameLoopRef.current);\n        };\n    }, []);\n    // Add loading effect\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadAssets = async ()=>{\n            try {\n                await assetManagerRef.current.loadAll();\n                setLoading(false);\n            } catch (error) {\n                console.error(\"Failed to load assets:\", error);\n            // Handle error appropriately\n            }\n        };\n        const updateProgress = ()=>{\n            setLoadingProgress(assetManagerRef.current.getLoadingProgress());\n            if (loading) {\n                requestAnimationFrame(updateProgress);\n            }\n        };\n        loadAssets();\n        updateProgress();\n    }, []);\n    // Handle key press\n    const handleKeyDown = (e)=>{\n        keysPressed.current.add(e.key.toLowerCase());\n        // Handle pause\n        if (e.key === \"Escape\" && gameState === \"playing\") {\n            setGameState(\"paused\");\n            cancelAnimationFrame(gameLoopRef.current);\n        } else if (e.key === \"Escape\" && gameState === \"paused\") {\n            setGameState(\"playing\");\n            gameLoopRef.current = requestAnimationFrame(gameLoop);\n        }\n        // Start game with space or enter\n        if ((e.key === \" \" || e.key === \"Enter\") && gameState === \"menu\") {\n            startGame();\n        }\n        // Restart game with R\n        if (e.key.toLowerCase() === \"r\" && gameState === \"gameOver\") {\n            startGame();\n        }\n    };\n    // Handle key release\n    const handleKeyUp = (e)=>{\n        keysPressed.current.delete(e.key.toLowerCase());\n    };\n    // Start a new game\n    const startGame = ()=>{\n        console.log(\"Starting game...\");\n        // Reset game objects\n        playerSnakeRef.current = new _utils_snake__WEBPACK_IMPORTED_MODULE_4__.Snake({\n            x: canvasWidth / 2,\n            y: canvasHeight / 2,\n            color: \"#0ff\",\n            headColor: \"#f0f\",\n            initialLength: 5,\n            initialAngle: Math.PI / 2,\n            speed: 2\n        });\n        console.log(\"Player snake created:\", playerSnakeRef.current);\n        // Initialize canvas dimensions\n        const canvas = canvasRef.current;\n        if (canvas) {\n            canvas.width = canvasWidth;\n            canvas.height = canvasHeight;\n            console.log(\"Canvas dimensions set:\", {\n                width: canvasWidth,\n                height: canvasHeight\n            });\n        }\n        foodRef.current = [\n            new _utils_food__WEBPACK_IMPORTED_MODULE_5__.Food({\n                x: Math.random() * (canvasWidth - 40) + 20,\n                y: Math.random() * (canvasHeight - 40) + 20,\n                type: \"regular\"\n            })\n        ];\n        aiSnakesRef.current = [\n            new _utils_ai_snake__WEBPACK_IMPORTED_MODULE_6__.AISnake({\n                x: 100,\n                y: 100,\n                color: \"#0f0\",\n                headColor: \"#ff0\",\n                initialLength: 3,\n                initialAngle: 0,\n                speed: 1.5,\n                behavior: \"passive\"\n            }),\n            new _utils_ai_snake__WEBPACK_IMPORTED_MODULE_6__.AISnake({\n                x: canvasWidth - 100,\n                y: canvasHeight - 100,\n                color: \"#f00\",\n                headColor: \"#f80\",\n                initialLength: 3,\n                initialAngle: Math.PI,\n                speed: 1.8,\n                behavior: \"aggressive\"\n            })\n        ];\n        particleSystemsRef.current = [];\n        // Reset power-ups\n        powerUpsRef.current = [];\n        // Reset score\n        setScore(0);\n        // Start game\n        setGameState(\"playing\");\n        console.log(\"Game state set to playing\");\n        gameLoopRef.current = requestAnimationFrame(gameLoop);\n        // Play start sound\n        audioRef.current.playSound(\"collect\");\n    };\n    // Main game loop\n    const gameLoop = ()=>{\n        const canvas = canvasRef.current;\n        if (!canvas) {\n            console.error(\"Canvas not found\");\n            return;\n        }\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) {\n            console.error(\"Context not found\");\n            return;\n        }\n        console.log(\"Game Loop Running\", {\n            gameState,\n            canvasWidth: canvas.width,\n            canvasHeight: canvas.height,\n            playerSnake: playerSnakeRef.current ? {\n                x: playerSnakeRef.current.segments[0].x,\n                y: playerSnakeRef.current.segments[0].y\n            } : null,\n            food: foodRef.current.length,\n            aiSnakes: aiSnakesRef.current.length\n        });\n        if (gameState !== \"playing\") return;\n        // Split into core systems\n        renderSystem(ctx);\n        inputSystem();\n        physicsSystem(canvas.width, canvas.height);\n        collisionSystem(ctx);\n        aiSystem(ctx);\n        particleSystem(ctx);\n        hudSystem(ctx);\n        // Continue game loop\n        gameLoopRef.current = requestAnimationFrame(gameLoop);\n    };\n    // 1. Rendering System\n    const renderSystem = (ctx)=>{\n        // Clear canvas\n        ctx.fillStyle = \"#000\";\n        ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n        // Draw grid\n        drawGrid(ctx);\n        // Draw game entities\n        if (playerSnakeRef.current) {\n            playerSnakeRef.current.draw(ctx);\n        }\n        // Draw AI snakes\n        for (const aiSnake of aiSnakesRef.current){\n            aiSnake.draw(ctx);\n        }\n        // Draw food\n        for (const food of foodRef.current){\n            food.update();\n            food.draw(ctx);\n        }\n        // Draw power-ups\n        for (const powerUp of powerUpsRef.current){\n            powerUp.update();\n            powerUp.draw(ctx);\n        }\n        // Draw particles\n        for (const particles of particleSystemsRef.current){\n            particles.draw(ctx);\n        }\n    };\n    // 3. Physics System\n    const physicsSystem = (width, height)=>{\n        if (playerSnakeRef.current) {\n            playerSnakeRef.current.update(width, height);\n        }\n        // Update AI snake positions\n        for (const aiSnake of aiSnakesRef.current){\n            aiSnake.update(width, height);\n        }\n    };\n    // 4. Collision System\n    const collisionSystem = (ctx)=>{\n        checkFoodCollisions(ctx);\n        checkSnakeCollisions();\n        checkPowerUpCollisions();\n    };\n    // 5. AI System\n    const aiSystem = (ctx)=>{\n        updateAISnakes(ctx);\n    };\n    // 6. Particle System\n    const particleSystem = (ctx)=>{\n        updateParticles(ctx);\n    };\n    // 7. HUD System\n    const hudSystem = (ctx)=>{\n        drawHUD(ctx);\n    };\n    // Draw grid lines for futuristic effect\n    const drawGrid = (ctx)=>{\n        ctx.strokeStyle = \"rgba(0, 255, 255, 0.1)\";\n        ctx.lineWidth = 1;\n        // Vertical lines\n        for(let x = 0; x <= canvasWidth; x += 40){\n            ctx.beginPath();\n            ctx.moveTo(x, 0);\n            ctx.lineTo(x, canvasHeight);\n            ctx.stroke();\n        }\n        // Horizontal lines\n        for(let y = 0; y <= canvasHeight; y += 40){\n            ctx.beginPath();\n            ctx.moveTo(0, y);\n            ctx.lineTo(canvasWidth, y);\n            ctx.stroke();\n        }\n    };\n    // Handle keyboard input\n    const handleInput = ()=>{\n        if (!playerSnakeRef.current) return;\n        // Turn left with left arrow or A\n        if (keysPressed.current.has(\"arrowleft\") || keysPressed.current.has(\"a\")) {\n            playerSnakeRef.current.turnLeft();\n        }\n        // Turn right with right arrow or D\n        if (keysPressed.current.has(\"arrowright\") || keysPressed.current.has(\"d\")) {\n            playerSnakeRef.current.turnRight();\n        }\n        // Speed boost with up arrow or W\n        if (keysPressed.current.has(\"arrowup\") || keysPressed.current.has(\"w\")) {\n            playerSnakeRef.current.boost();\n        } else {\n            playerSnakeRef.current.normalSpeed();\n        }\n    };\n    // Check for food collisions\n    const checkFoodCollisions = (ctx)=>{\n        if (!playerSnakeRef.current) return;\n        const playerHead = playerSnakeRef.current.getHead();\n        foodRef.current = foodRef.current.filter((food)=>{\n            const distance = Math.hypot(playerHead.x - food.position.x, playerHead.y - food.position.y);\n            if (distance < playerHead.radius + food.radius) {\n                var // Grow snake\n                _playerSnakeRef_current;\n                // Create particle effect\n                particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                    x: food.position.x,\n                    y: food.position.y,\n                    color: food.color,\n                    particleCount: 20,\n                    lifetime: 30\n                }));\n                (_playerSnakeRef_current = playerSnakeRef.current) === null || _playerSnakeRef_current === void 0 ? void 0 : _playerSnakeRef_current.grow(food.value);\n                // Increase score\n                setScore((prevScore)=>{\n                    const newScore = prevScore + food.value * 10;\n                    // Update high score if needed\n                    if (newScore > highScore) {\n                        setHighScore(newScore);\n                        localStorage.setItem(\"snakeHighScore\", newScore.toString());\n                    }\n                    return newScore;\n                });\n                // Spawn new food\n                spawnFood();\n                return false;\n            }\n            return true;\n        });\n    };\n    // Check for snake collisions\n    const checkSnakeCollisions = ()=>{\n        if (!playerSnakeRef.current) return;\n        const playerHead = playerSnakeRef.current.getHead();\n        // Check collision with player's own body\n        if (playerSnakeRef.current.checkSelfCollision()) {\n            gameOver();\n            return;\n        }\n        // Check collision with AI snakes\n        for (const aiSnake of aiSnakesRef.current){\n            if (aiSnake.checkCollisionWith(playerHead)) {\n                gameOver();\n                return;\n            }\n            // Check if AI snake head collides with player body\n            const aiHead = aiSnake.getHead();\n            if (playerSnakeRef.current.checkCollisionWithPoint(aiHead)) {\n                // Create particle effect\n                particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                    x: aiHead.x,\n                    y: aiHead.y,\n                    color: aiSnake.color,\n                    particleCount: 30,\n                    lifetime: 40\n                }));\n                // Remove AI snake\n                aiSnakesRef.current = aiSnakesRef.current.filter((snake)=>snake !== aiSnake);\n                // Increase score\n                setScore((prevScore)=>prevScore + 50);\n                // Spawn new AI snake after delay\n                setTimeout(()=>{\n                    if (gameState === \"playing\") {\n                        spawnAISnake();\n                    }\n                }, 5000);\n            }\n        }\n    };\n    // Update and draw AI snakes\n    const updateAISnakes = (ctx)=>{\n        for (const aiSnake of aiSnakesRef.current){\n            // Update AI behavior\n            aiSnake.updateAI(foodRef.current, playerSnakeRef.current, aiSnakesRef.current.filter((snake)=>snake !== aiSnake), canvasWidth, canvasHeight);\n            // Update position\n            aiSnake.update(canvasWidth, canvasHeight);\n            // Draw snake\n            aiSnake.draw(ctx);\n            // Check for food collision\n            const aiHead = aiSnake.getHead();\n            foodRef.current = foodRef.current.filter((food)=>{\n                const distance = Math.hypot(aiHead.x - food.position.x, aiHead.y - food.position.y);\n                if (distance < aiHead.radius + food.radius) {\n                    // Create particle effect\n                    particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                        x: food.position.x,\n                        y: food.position.y,\n                        color: food.color,\n                        particleCount: 15,\n                        lifetime: 25\n                    }));\n                    // Grow snake\n                    aiSnake.grow(food.value);\n                    // Spawn new food\n                    spawnFood();\n                    return false;\n                }\n                return true;\n            });\n        }\n    };\n    // Spawn new food\n    const spawnFood = ()=>{\n        // Random position away from snakes\n        let validPosition = false;\n        let x, y;\n        while(!validPosition){\n            x = Math.random() * (canvasWidth - 40) + 20;\n            y = Math.random() * (canvasHeight - 40) + 20;\n            validPosition = true;\n            // Check distance from player snake\n            if (playerSnakeRef.current) {\n                for (const segment of playerSnakeRef.current.segments){\n                    const distance = Math.hypot(segment.x - x, segment.y - y);\n                    if (distance < 50) {\n                        validPosition = false;\n                        break;\n                    }\n                }\n            }\n            // Check distance from AI snakes\n            if (validPosition) {\n                for (const aiSnake of aiSnakesRef.current){\n                    for (const segment of aiSnake.segments){\n                        const distance = Math.hypot(segment.x - x, segment.y - y);\n                        if (distance < 50) {\n                            validPosition = false;\n                            break;\n                        }\n                    }\n                    if (!validPosition) break;\n                }\n            }\n        }\n        // Determine food type (10% chance for special food)\n        const foodType = Math.random() < 0.1 ? \"special\" : \"regular\";\n        // Create new food\n        foodRef.current.push(new _utils_food__WEBPACK_IMPORTED_MODULE_5__.Food({\n            x: x,\n            y: y,\n            type: foodType\n        }));\n    };\n    // Spawn new AI snake\n    const spawnAISnake = ()=>{\n        // Random position at the edge of the canvas\n        let x, y, angle;\n        const side = Math.floor(Math.random() * 4);\n        switch(side){\n            case 0:\n                x = Math.random() * canvasWidth;\n                y = 20;\n                angle = Math.PI / 2;\n                break;\n            case 1:\n                x = canvasWidth - 20;\n                y = Math.random() * canvasHeight;\n                angle = Math.PI;\n                break;\n            case 2:\n                x = Math.random() * canvasWidth;\n                y = canvasHeight - 20;\n                angle = -Math.PI / 2;\n                break;\n            case 3:\n                x = 20;\n                y = Math.random() * canvasHeight;\n                angle = 0;\n                break;\n        }\n        // Random behavior\n        const behaviors = [\n            \"passive\",\n            \"aggressive\",\n            \"territorial\"\n        ];\n        const behavior = behaviors[Math.floor(Math.random() * behaviors.length)];\n        // Random color (neon)\n        const colors = [\n            \"#0f0\",\n            \"#f00\",\n            \"#ff0\",\n            \"#f0f\",\n            \"#0ff\"\n        ];\n        const color = colors[Math.floor(Math.random() * colors.length)];\n        // Create new AI snake\n        aiSnakesRef.current.push(new _utils_ai_snake__WEBPACK_IMPORTED_MODULE_6__.AISnake({\n            x: x,\n            y: y,\n            color,\n            headColor: \"#fff\",\n            initialLength: 3,\n            initialAngle: angle,\n            speed: 1.5 + Math.random() * 0.5,\n            behavior\n        }));\n    };\n    // Update and draw particle systems\n    const updateParticles = (ctx)=>{\n        particleSystemsRef.current = particleSystemsRef.current.filter((system)=>{\n            system.update();\n            system.draw(ctx);\n            return !system.isDead();\n        });\n    };\n    // Draw HUD (score, etc.)\n    const drawHUD = (ctx)=>{\n        ctx.fillStyle = \"#fff\";\n        ctx.font = '20px \"Courier New\", monospace';\n        ctx.textAlign = \"left\";\n        ctx.fillText(\"SCORE: \".concat(score), 20, 30);\n        ctx.fillText(\"HIGH SCORE: \".concat(highScore), 20, 60);\n        // Draw active power-ups\n        if (playerSnakeRef.current) {\n            const activePowerUps = playerSnakeRef.current.activePowerUps;\n            let i = 0;\n            activePowerUps.forEach((endTime, type)=>{\n                if (Date.now() < endTime) {\n                    const timeLeft = Math.ceil((endTime - Date.now()) / 1000);\n                    ctx.fillStyle = \"#fff\";\n                    ctx.font = '16px \"Courier New\", monospace';\n                    ctx.fillText(\"\".concat(type.toUpperCase(), \": \").concat(timeLeft, \"s\"), 20, 100 + i * 25);\n                    i++;\n                }\n            });\n        }\n    };\n    // Game over\n    const gameOver = ()=>{\n        setGameState(\"gameOver\");\n        cancelAnimationFrame(gameLoopRef.current);\n        audioRef.current.playSound(\"gameover\");\n        // Create explosion effect at player head\n        if (playerSnakeRef.current) {\n            const head = playerSnakeRef.current.getHead();\n            particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                x: head.x,\n                y: head.y,\n                color: playerSnakeRef.current.headColor,\n                particleCount: 50,\n                lifetime: 60,\n                speed: 3\n            }));\n        }\n    };\n    const renderMenu = ()=>{\n        console.log(\"Rendering menu\");\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-80 z-10\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-5xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-600\",\n                    children: \"NEON SNAKE\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 691,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4 w-64\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            className: \"w-full bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-600 hover:to-purple-700\",\n                            onClick: ()=>{\n                                console.log(\"Start button clicked\");\n                                startGame();\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                    className: \"mr-2 h-4 w-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 702,\n                                    columnNumber: 13\n                                }, this),\n                                \"PLAY\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 695,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center text-gray-400 text-sm mt-8\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Use ARROW KEYS or WASD to control\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 706,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Press UP or W for speed boost\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 707,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 705,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 694,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 690,\n            columnNumber: 7\n        }, this);\n    };\n    // Render pause screen\n    const renderPauseScreen = ()=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-80 z-10\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-3xl font-bold mb-8 text-cyan-400\",\n                    children: \"PAUSED\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 718,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4 w-64\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            className: \"w-full bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-600 hover:to-purple-700\",\n                            onClick: ()=>{\n                                setGameState(\"playing\");\n                                gameLoopRef.current = requestAnimationFrame(gameLoop);\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                    className: \"mr-2 h-4 w-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 727,\n                                    columnNumber: 13\n                                }, this),\n                                \"RESUME\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 720,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            variant: \"outline\",\n                            className: \"w-full border-cyan-500 text-cyan-400 hover:bg-cyan-950\",\n                            onClick: ()=>setGameState(\"menu\"),\n                            children: \"MAIN MENU\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 730,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 719,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 717,\n            columnNumber: 7\n        }, this);\n    };\n    // Render game over screen\n    const renderGameOverScreen = ()=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-80 z-10\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-4xl font-bold mb-2 text-red-500\",\n                    children: \"GAME OVER\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 746,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-2xl mb-8 text-cyan-400\",\n                    children: [\n                        \"SCORE: \",\n                        score\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 747,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4 w-64\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            className: \"w-full bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-600 hover:to-purple-700\",\n                            onClick: startGame,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                    className: \"mr-2 h-4 w-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 753,\n                                    columnNumber: 13\n                                }, this),\n                                \"PLAY AGAIN\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 749,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            variant: \"outline\",\n                            className: \"w-full border-cyan-500 text-cyan-400 hover:bg-cyan-950\",\n                            onClick: ()=>setGameState(\"menu\"),\n                            children: \"MAIN MENU\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 756,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 748,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 745,\n            columnNumber: 7\n        }, this);\n    };\n    // Render game controls\n    const renderGameControls = ()=>{\n        if (gameState !== \"playing\") return null;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute top-4 right-4 z-10\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                variant: \"outline\",\n                size: \"icon\",\n                className: \"border-cyan-500 text-cyan-400 hover:bg-cyan-950\",\n                onClick: ()=>{\n                    setGameState(\"paused\");\n                    cancelAnimationFrame(gameLoopRef.current);\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                    className: \"h-4 w-4\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 783,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                lineNumber: 774,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 773,\n            columnNumber: 7\n        }, this);\n    };\n    // Add power-up spawning\n    const spawnPowerUp = ()=>{\n        const types = [\n            \"speed\",\n            \"invulnerability\",\n            \"ghost\"\n        ];\n        const randomType = types[Math.floor(Math.random() * types.length)];\n        let validPosition = false;\n        let x, y;\n        while(!validPosition){\n            x = Math.random() * (canvasWidth - 40) + 20;\n            y = Math.random() * (canvasHeight - 40) + 20;\n            validPosition = true;\n            // Check distance from player and AI snakes\n            if (playerSnakeRef.current) {\n                for (const segment of playerSnakeRef.current.segments){\n                    const distance = Math.hypot(segment.x - x, segment.y - y);\n                    if (distance < 50) {\n                        validPosition = false;\n                        break;\n                    }\n                }\n            }\n            if (validPosition) {\n                for (const aiSnake of aiSnakesRef.current){\n                    for (const segment of aiSnake.segments){\n                        const distance = Math.hypot(segment.x - x, segment.y - y);\n                        if (distance < 50) {\n                            validPosition = false;\n                            break;\n                        }\n                    }\n                    if (!validPosition) break;\n                }\n            }\n        }\n        powerUpsRef.current.push(new _utils_power_up__WEBPACK_IMPORTED_MODULE_9__.PowerUp({\n            x: x,\n            y: y,\n            type: randomType\n        }));\n    };\n    // Check power-up collisions\n    const checkPowerUpCollisions = ()=>{\n        if (!playerSnakeRef.current) return;\n        const playerHead = playerSnakeRef.current.getHead();\n        powerUpsRef.current = powerUpsRef.current.filter((powerUp)=>{\n            const distance = Math.hypot(playerHead.x - powerUp.position.x, playerHead.y - powerUp.position.y);\n            if (distance < playerHead.radius + powerUp.radius) {\n                var // Apply power-up effect\n                _playerSnakeRef_current;\n                (_playerSnakeRef_current = playerSnakeRef.current) === null || _playerSnakeRef_current === void 0 ? void 0 : _playerSnakeRef_current.collectPowerUp(powerUp);\n                // Create particle effect\n                particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                    x: powerUp.position.x,\n                    y: powerUp.position.y,\n                    color: powerUp.color,\n                    particleCount: 30,\n                    lifetime: 40\n                }));\n                return false;\n            }\n            return true;\n        });\n    };\n    // Occasionally spawn power-ups\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== \"playing\") return;\n        const powerUpInterval = setInterval(()=>{\n            if (Math.random() < 0.3 && powerUpsRef.current.length < 3) {\n                spawnPowerUp();\n            }\n        }, 10000) // Every 10 seconds\n        ;\n        return ()=>clearInterval(powerUpInterval);\n    }, [\n        gameState\n    ]);\n    // Update state transitions\n    const changeGameState = async (newState)=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return;\n        // Exit transition\n        await _utils_transitions__WEBPACK_IMPORTED_MODULE_11__.Transitions.fade(ctx, \"out\", 300);\n        setGameState(newState);\n        // Enter transition\n        await _utils_transitions__WEBPACK_IMPORTED_MODULE_11__.Transitions.fade(ctx, \"in\", 300);\n    };\n    // Update canvas size on window resize\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleResize = ()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const { width, height } = getCanvasDimensions();\n            canvas.width = width;\n            canvas.height = height;\n        };\n        window.addEventListener(\"resize\", handleResize);\n        handleResize(); // Initial size\n        return ()=>window.removeEventListener(\"resize\", handleResize);\n    }, [\n        isMobile\n    ]);\n    // Handle touch controls\n    const handleDirectionChange = (direction)=>{\n        setTouchDirection(direction);\n    };\n    // Update input system to handle both keyboard and touch\n    const inputSystem = ()=>{\n        if (!playerSnakeRef.current) return;\n        if (isMobile) {\n            // Convert touch direction to angle\n            if (touchDirection.x !== 0 || touchDirection.y !== 0) {\n                const targetAngle = Math.atan2(touchDirection.y, touchDirection.x);\n                const currentAngle = playerSnakeRef.current.angle;\n                // Smooth rotation towards target angle\n                const angleDiff = targetAngle - currentAngle;\n                const normalizedDiff = Math.atan2(Math.sin(angleDiff), Math.cos(angleDiff));\n                if (normalizedDiff > 0.1) {\n                    playerSnakeRef.current.turnRight();\n                } else if (normalizedDiff < -0.1) {\n                    playerSnakeRef.current.turnLeft();\n                }\n            }\n            // Handle boost\n            if (isBoosting) {\n                playerSnakeRef.current.boost();\n            } else {\n                playerSnakeRef.current.normalSpeed();\n            }\n        } else {\n            // Existing keyboard controls\n            handleInput();\n        }\n    };\n    // Add this function near the top of the component\n    const getCanvasDimensions = ()=>{\n        if (isMobile) {\n            return {\n                width: Math.min(window.innerWidth - 32, 600),\n                height: Math.min(window.innerHeight - 200, 800)\n            };\n        }\n        return {\n            width: 800,\n            height: 600\n        };\n    };\n    // Update game loop on game state change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (canvasRef.current) {\n            const canvas = canvasRef.current;\n            canvas.width = canvasWidth;\n            canvas.height = canvasHeight;\n            // Start game loop\n            if (gameState === \"playing\") {\n                gameLoopRef.current = requestAnimationFrame(gameLoop);\n            }\n        }\n        return ()=>{\n            if (gameLoopRef.current) {\n                cancelAnimationFrame(gameLoopRef.current);\n            }\n        };\n    }, [\n        gameState\n    ]);\n    // Render game controls\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative\",\n        children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_loading_screen__WEBPACK_IMPORTED_MODULE_12__.LoadingScreen, {\n            progress: loadingProgress\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 991,\n            columnNumber: 9\n        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                    ref: canvasRef,\n                    width: canvasWidth,\n                    height: canvasHeight,\n                    className: \"border border-cyan-900 rounded-lg shadow-lg shadow-cyan-500/20\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 994,\n                    columnNumber: 11\n                }, this),\n                gameState === \"menu\" && renderMenu(),\n                gameState === \"paused\" && renderPauseScreen(),\n                gameState === \"gameOver\" && renderGameOverScreen(),\n                renderGameControls(),\n                isMobile && gameState === \"playing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_touch_controls__WEBPACK_IMPORTED_MODULE_13__.TouchControls, {\n                    onDirectionChange: handleDirectionChange,\n                    onBoostStart: ()=>setIsBoosting(true),\n                    onBoostEnd: ()=>setIsBoosting(false)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 1008,\n                    columnNumber: 13\n                }, this)\n            ]\n        }, void 0, true)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n        lineNumber: 989,\n        columnNumber: 5\n    }, this);\n}\n_s(SnakeGame, \"rmSfJqBspZ/5HVskNlRwcsTiVMA=\", false, function() {\n    return [\n        _hooks_use_media_query__WEBPACK_IMPORTED_MODULE_14__.useMediaQuery\n    ];\n});\n_c = SnakeGame;\nvar _c;\n$RefreshReg$(_c, \"SnakeGame\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvZ2FtZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVtRDtBQUNKO0FBQ007QUFDRDtBQUNmO0FBQ0Y7QUFDTztBQUNRO0FBQ0E7QUFDSztBQUNIO0FBQ0g7QUFDVTtBQUNBO0FBQ0o7QUFLeEMsU0FBU21COztJQUNwQixNQUFNQyxZQUFZbkIsNkNBQU1BLENBQW9CO0lBQzVDLE1BQU0sQ0FBQ29CLFdBQVdDLGFBQWEsR0FBR3BCLCtDQUFRQSxDQUFZO0lBQ3RELE1BQU0sQ0FBQ3FCLE9BQU9DLFNBQVMsR0FBR3RCLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ3VCLFdBQVdDLGFBQWEsR0FBR3hCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3lCLFNBQVNDLFdBQVcsR0FBRzFCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQzJCLGlCQUFpQkMsbUJBQW1CLEdBQUc1QiwrQ0FBUUEsQ0FBQztJQUV6RCxrREFBa0Q7SUFDaEQsTUFBTTZCLGNBQWM5Qiw2Q0FBTUEsQ0FBUztJQUVyQywwQkFBMEI7SUFDeEIsTUFBTStCLGlCQUFpQi9CLDZDQUFNQSxDQUFlO0lBQzVDLE1BQU1nQyxVQUFVaEMsNkNBQU1BLENBQVMsRUFBRTtJQUNqQyxNQUFNaUMsY0FBY2pDLDZDQUFNQSxDQUFZLEVBQUU7SUFDeEMsTUFBTWtDLHFCQUFxQmxDLDZDQUFNQSxDQUFtQixFQUFFO0lBQ3RELE1BQU1tQyxjQUFjbkMsNkNBQU1BLENBQVksRUFBRTtJQUN4QyxNQUFNb0MsY0FBY3BDLDZDQUFNQSxDQUFrQlUsNERBQWVBLENBQUMyQixXQUFXO0lBQ3ZFLE1BQU1DLFdBQVd0Qyw2Q0FBTUEsQ0FBY1csNERBQVdBLENBQUMwQixXQUFXO0lBQzVELE1BQU1FLGtCQUFrQnZDLDZDQUFNQSxDQUFlYSwrREFBWUEsQ0FBQ3dCLFdBQVc7SUFFdkUsY0FBYztJQUNaLE1BQU1HLGNBQWN4Qyw2Q0FB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QUFhQTtvQkFDWitNLG1CQUFtQmQ7b0JBQ25CZSxjQUFjLElBQU05SyxjQUFjO29CQUNsQytLLFlBQVksSUFBTS9LLGNBQWM7Ozs7Ozs7Ozs7Ozs7QUFPOUM7R0FwK0J3QmhDOztRQTZCTEQsa0VBQWFBOzs7S0E3QlJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvZ2FtZS50c3g/ZGZmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxyXG5cclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCJcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxyXG5pbXBvcnQgeyBQbGF5LCBQYXVzZSwgUmVmcmVzaEN3IH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXHJcbmltcG9ydCBQYXJ0aWNsZVN5c3RlbSBmcm9tIFwiQC91dGlscy9wYXJ0aWNsZS1zeXN0ZW1cIlxyXG5pbXBvcnQgeyBTbmFrZSB9IGZyb20gXCJAL3V0aWxzL3NuYWtlXCJcclxuaW1wb3J0IHsgRm9vZCB9IGZyb20gXCJAL3V0aWxzL2Zvb2RcIlxyXG5pbXBvcnQgeyBBSVNuYWtlIH0gZnJvbSBcIkAvdXRpbHMvYWktc25ha2VcIlxyXG5pbXBvcnQgeyBTZXR0aW5nc01hbmFnZXIgfSBmcm9tIFwiQC91dGlscy9zZXR0aW5nc1wiXHJcbmltcG9ydCB7IEF1ZGlvU3lzdGVtIH0gZnJvbSBcIkAvdXRpbHMvYXVkaW8tc3lzdGVtXCJcclxuaW1wb3J0IHsgUG93ZXJVcCwgUG93ZXJVcFR5cGUgfSBmcm9tIFwiQC91dGlscy9wb3dlci11cFwiXHJcbmltcG9ydCB7IEFzc2V0TWFuYWdlciB9IGZyb20gXCJAL3V0aWxzL2Fzc2V0LW1hbmFnZXJcIlxyXG5pbXBvcnQgeyBUcmFuc2l0aW9ucyB9IGZyb20gXCJAL3V0aWxzL3RyYW5zaXRpb25zXCJcclxuaW1wb3J0IHsgTG9hZGluZ1NjcmVlbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvbG9hZGluZy1zY3JlZW5cIlxyXG5pbXBvcnQgeyBUb3VjaENvbnRyb2xzIH0gZnJvbSBcIkAvY29tcG9uZW50cy90b3VjaC1jb250cm9sc1wiXHJcbmltcG9ydCB7IHVzZU1lZGlhUXVlcnkgfSBmcm9tIFwiQC9ob29rcy91c2UtbWVkaWEtcXVlcnlcIlxyXG5cclxuLy8gR2FtZSBzdGF0ZXNcclxudHlwZSBHYW1lU3RhdGUgPSBcIm1lbnVcIiB8IFwicGxheWluZ1wiIHwgXCJwYXVzZWRcIiB8IFwiZ2FtZU92ZXJcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU25ha2VHYW1lKCkge1xyXG4gICAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKVxyXG4gICAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlPEdhbWVTdGF0ZT4oXCJtZW51XCIpXHJcbiAgICBjb25zdCBbc2NvcmUsIHNldFNjb3JlXSA9IHVzZVN0YXRlKDApXHJcbiAgICBjb25zdCBbaGlnaFNjb3JlLCBzZXRIaWdoU2NvcmVdID0gdXNlU3RhdGUoMClcclxuICAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXHJcbiAgICBjb25zdCBbbG9hZGluZ1Byb2dyZXNzLCBzZXRMb2FkaW5nUHJvZ3Jlc3NdID0gdXNlU3RhdGUoMClcclxuXHJcbiAgLy8gR2FtZSBsb29wIHJlZmVyZW5jZSB0byBzdG9yZSBhbmltYXRpb24gZnJhbWUgSURcclxuICAgIGNvbnN0IGdhbWVMb29wUmVmID0gdXNlUmVmPG51bWJlcj4oMClcclxuXHJcbiAgLy8gR2FtZSBvYmplY3RzIHJlZmVyZW5jZXNcclxuICAgIGNvbnN0IHBsYXllclNuYWtlUmVmID0gdXNlUmVmPFNuYWtlIHwgbnVsbD4obnVsbClcclxuICAgIGNvbnN0IGZvb2RSZWYgPSB1c2VSZWY8Rm9vZFtdPihbXSlcclxuICAgIGNvbnN0IGFpU25ha2VzUmVmID0gdXNlUmVmPEFJU25ha2VbXT4oW10pXHJcbiAgICBjb25zdCBwYXJ0aWNsZVN5c3RlbXNSZWYgPSB1c2VSZWY8UGFydGljbGVTeXN0ZW1bXT4oW10pXHJcbiAgICBjb25zdCBwb3dlclVwc1JlZiA9IHVzZVJlZjxQb3dlclVwW10+KFtdKVxyXG4gICAgY29uc3Qgc2V0dGluZ3NSZWYgPSB1c2VSZWY8U2V0dGluZ3NNYW5hZ2VyPihTZXR0aW5nc01hbmFnZXIuZ2V0SW5zdGFuY2UoKSlcclxuICAgIGNvbnN0IGF1ZGlvUmVmID0gdXNlUmVmPEF1ZGlvU3lzdGVtPihBdWRpb1N5c3RlbS5nZXRJbnN0YW5jZSgpKVxyXG4gICAgY29uc3QgYXNzZXRNYW5hZ2VyUmVmID0gdXNlUmVmPEFzc2V0TWFuYWdlcj4oQXNzZXRNYW5hZ2VyLmdldEluc3RhbmNlKCkpXHJcblxyXG4gIC8vIElucHV0IHN0YXRlXHJcbiAgICBjb25zdCBrZXlzUHJlc3NlZCA9IHVzZVJlZjxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKVxyXG5cclxuICAvLyBDYW52YXMgZGltZW5zaW9uc1xyXG4gICAgY29uc3QgY2FudmFzV2lkdGggPSA4MDBcclxuICAgIGNvbnN0IGNhbnZhc0hlaWdodCA9IDYwMFxyXG5cclxuICAvLyBBZGQgcmVzcG9uc2l2ZSBzdGF0ZVxyXG4gIGNvbnN0IGlzTW9iaWxlID0gdXNlTWVkaWFRdWVyeShcIihtYXgtd2lkdGg6IDc2OHB4KVwiKVxyXG4gIGNvbnN0IFt0b3VjaERpcmVjdGlvbiwgc2V0VG91Y2hEaXJlY3Rpb25dID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwIH0pXHJcbiAgY29uc3QgW2lzQm9vc3RpbmcsIHNldElzQm9vc3RpbmddID0gdXNlU3RhdGUoZmFsc2UpXHJcblxyXG4gIC8vIEluaXRpYWxpemUgZ2FtZVxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdDb21wb25lbnQgbW91bnRlZCcpO1xyXG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnRcclxuICAgIGlmICghY2FudmFzKSByZXR1cm5cclxuXHJcbiAgICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aFxyXG4gICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodFxyXG4gICAgY29uc29sZS5sb2coJ0NhbnZhcyBpbml0aWFsaXplZDonLCB7IHdpZHRoOiBjYW52YXNXaWR0aCwgaGVpZ2h0OiBjYW52YXNIZWlnaHQgfSk7XHJcblxyXG4gICAgLy8gTG9hZCBoaWdoIHNjb3JlIGZyb20gbG9jYWxTdG9yYWdlXHJcbiAgICBjb25zdCBzYXZlZEhpZ2hTY29yZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic25ha2VIaWdoU2NvcmVcIilcclxuICAgIGlmIChzYXZlZEhpZ2hTY29yZSkge1xyXG4gICAgICBzZXRIaWdoU2NvcmUoTnVtYmVyLnBhcnNlSW50KHNhdmVkSGlnaFNjb3JlKSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBMb2FkIHNldHRpbmdzXHJcbiAgICBjb25zdCBzZXR0aW5ncyA9IHNldHRpbmdzUmVmLmN1cnJlbnQuZ2V0U2V0dGluZ3MoKVxyXG4gICAgXHJcbiAgICAvLyBTdGFydCBiYWNrZ3JvdW5kIG11c2ljXHJcbiAgICBpZiAoc2V0dGluZ3Muc291bmRFbmFibGVkKSB7XHJcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGxheU11c2ljKClcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXQgdXAgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bilcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgaGFuZGxlS2V5VXApXHJcblxyXG4gICAgLy8gRHJhdyBpbml0aWFsIGdyaWRcclxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgaWYgKGN0eCkge1xyXG4gICAgICBjdHguZmlsbFN0eWxlID0gJyMwMDAnO1xyXG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XHJcbiAgICAgIGRyYXdHcmlkKGN0eCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pXHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgaGFuZGxlS2V5VXApXHJcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wUmVmLmN1cnJlbnQpXHJcbiAgICB9XHJcbiAgfSwgW10pXHJcblxyXG4gIC8vIEFkZCBsb2FkaW5nIGVmZmVjdFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBsb2FkQXNzZXRzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IGFzc2V0TWFuYWdlclJlZi5jdXJyZW50LmxvYWRBbGwoKVxyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpXHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgYXNzZXRzOicsIGVycm9yKVxyXG4gICAgICAgIC8vIEhhbmRsZSBlcnJvciBhcHByb3ByaWF0ZWx5XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVQcm9ncmVzcyA9ICgpID0+IHtcclxuICAgICAgc2V0TG9hZGluZ1Byb2dyZXNzKGFzc2V0TWFuYWdlclJlZi5jdXJyZW50LmdldExvYWRpbmdQcm9ncmVzcygpKVxyXG4gICAgICBpZiAobG9hZGluZykge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVQcm9ncmVzcylcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxvYWRBc3NldHMoKVxyXG4gICAgdXBkYXRlUHJvZ3Jlc3MoKVxyXG4gIH0sIFtdKVxyXG5cclxuICAvLyBIYW5kbGUga2V5IHByZXNzXHJcbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICBrZXlzUHJlc3NlZC5jdXJyZW50LmFkZChlLmtleS50b0xvd2VyQ2FzZSgpKVxyXG5cclxuICAgIC8vIEhhbmRsZSBwYXVzZVxyXG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiICYmIGdhbWVTdGF0ZSA9PT0gXCJwbGF5aW5nXCIpIHtcclxuICAgICAgc2V0R2FtZVN0YXRlKFwicGF1c2VkXCIpXHJcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wUmVmLmN1cnJlbnQpXHJcbiAgICB9IGVsc2UgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiICYmIGdhbWVTdGF0ZSA9PT0gXCJwYXVzZWRcIikge1xyXG4gICAgICBzZXRHYW1lU3RhdGUoXCJwbGF5aW5nXCIpXHJcbiAgICAgIGdhbWVMb29wUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApXHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3RhcnQgZ2FtZSB3aXRoIHNwYWNlIG9yIGVudGVyXHJcbiAgICBpZiAoKGUua2V5ID09PSBcIiBcIiB8fCBlLmtleSA9PT0gXCJFbnRlclwiKSAmJiBnYW1lU3RhdGUgPT09IFwibWVudVwiKSB7XHJcbiAgICAgIHN0YXJ0R2FtZSgpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVzdGFydCBnYW1lIHdpdGggUlxyXG4gICAgaWYgKGUua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiclwiICYmIGdhbWVTdGF0ZSA9PT0gXCJnYW1lT3ZlclwiKSB7XHJcbiAgICAgIHN0YXJ0R2FtZSgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBIYW5kbGUga2V5IHJlbGVhc2VcclxuICBjb25zdCBoYW5kbGVLZXlVcCA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICBrZXlzUHJlc3NlZC5jdXJyZW50LmRlbGV0ZShlLmtleS50b0xvd2VyQ2FzZSgpKVxyXG4gIH1cclxuXHJcbiAgLy8gU3RhcnQgYSBuZXcgZ2FtZVxyXG4gIGNvbnN0IHN0YXJ0R2FtZSA9ICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBnYW1lLi4uJyk7XHJcbiAgICBcclxuICAgIC8vIFJlc2V0IGdhbWUgb2JqZWN0c1xyXG4gICAgcGxheWVyU25ha2VSZWYuY3VycmVudCA9IG5ldyBTbmFrZSh7XHJcbiAgICAgIHg6IGNhbnZhc1dpZHRoIC8gMixcclxuICAgICAgeTogY2FudmFzSGVpZ2h0IC8gMixcclxuICAgICAgY29sb3I6IFwiIzBmZlwiLFxyXG4gICAgICBoZWFkQ29sb3I6IFwiI2YwZlwiLFxyXG4gICAgICBpbml0aWFsTGVuZ3RoOiA1LFxyXG4gICAgICBpbml0aWFsQW5nbGU6IE1hdGguUEkgLyAyLFxyXG4gICAgICBzcGVlZDogMixcclxuICAgIH0pO1xyXG4gICAgY29uc29sZS5sb2coJ1BsYXllciBzbmFrZSBjcmVhdGVkOicsIHBsYXllclNuYWtlUmVmLmN1cnJlbnQpO1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgY2FudmFzIGRpbWVuc2lvbnNcclxuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgaWYgKGNhbnZhcykge1xyXG4gICAgICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aDtcclxuICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcclxuICAgICAgY29uc29sZS5sb2coJ0NhbnZhcyBkaW1lbnNpb25zIHNldDonLCB7IHdpZHRoOiBjYW52YXNXaWR0aCwgaGVpZ2h0OiBjYW52YXNIZWlnaHQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9vZFJlZi5jdXJyZW50ID0gW1xyXG4gICAgICBuZXcgRm9vZCh7XHJcbiAgICAgICAgeDogTWF0aC5yYW5kb20oKSAqIChjYW52YXNXaWR0aCAtIDQwKSArIDIwLFxyXG4gICAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiAoY2FudmFzSGVpZ2h0IC0gNDApICsgMjAsXHJcbiAgICAgICAgdHlwZTogXCJyZWd1bGFyXCIsXHJcbiAgICAgIH0pLFxyXG4gICAgXVxyXG5cclxuICAgIGFpU25ha2VzUmVmLmN1cnJlbnQgPSBbXHJcbiAgICAgIG5ldyBBSVNuYWtlKHtcclxuICAgICAgICB4OiAxMDAsXHJcbiAgICAgICAgeTogMTAwLFxyXG4gICAgICAgIGNvbG9yOiBcIiMwZjBcIixcclxuICAgICAgICBoZWFkQ29sb3I6IFwiI2ZmMFwiLFxyXG4gICAgICAgIGluaXRpYWxMZW5ndGg6IDMsXHJcbiAgICAgICAgaW5pdGlhbEFuZ2xlOiAwLFxyXG4gICAgICAgIHNwZWVkOiAxLjUsXHJcbiAgICAgICAgYmVoYXZpb3I6IFwicGFzc2l2ZVwiLFxyXG4gICAgICB9KSxcclxuICAgICAgbmV3IEFJU25ha2Uoe1xyXG4gICAgICAgIHg6IGNhbnZhc1dpZHRoIC0gMTAwLFxyXG4gICAgICAgIHk6IGNhbnZhc0hlaWdodCAtIDEwMCxcclxuICAgICAgICBjb2xvcjogXCIjZjAwXCIsXHJcbiAgICAgICAgaGVhZENvbG9yOiBcIiNmODBcIixcclxuICAgICAgICBpbml0aWFsTGVuZ3RoOiAzLFxyXG4gICAgICAgIGluaXRpYWxBbmdsZTogTWF0aC5QSSxcclxuICAgICAgICBzcGVlZDogMS44LFxyXG4gICAgICAgIGJlaGF2aW9yOiBcImFnZ3Jlc3NpdmVcIixcclxuICAgICAgfSksXHJcbiAgICBdXHJcblxyXG4gICAgcGFydGljbGVTeXN0ZW1zUmVmLmN1cnJlbnQgPSBbXVxyXG5cclxuICAgIC8vIFJlc2V0IHBvd2VyLXVwc1xyXG4gICAgcG93ZXJVcHNSZWYuY3VycmVudCA9IFtdXHJcblxyXG4gICAgLy8gUmVzZXQgc2NvcmVcclxuICAgIHNldFNjb3JlKDApXHJcblxyXG4gICAgLy8gU3RhcnQgZ2FtZVxyXG4gICAgc2V0R2FtZVN0YXRlKFwicGxheWluZ1wiKVxyXG4gICAgY29uc29sZS5sb2coJ0dhbWUgc3RhdGUgc2V0IHRvIHBsYXlpbmcnKVxyXG4gICAgZ2FtZUxvb3BSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcClcclxuICAgIFxyXG4gICAgLy8gUGxheSBzdGFydCBzb3VuZFxyXG4gICAgYXVkaW9SZWYuY3VycmVudC5wbGF5U291bmQoXCJjb2xsZWN0XCIpXHJcbiAgfVxyXG5cclxuICAvLyBNYWluIGdhbWUgbG9vcFxyXG4gIGNvbnN0IGdhbWVMb29wID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIWNhbnZhcykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdDYW52YXMgbm90IGZvdW5kJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIGlmICghY3R4KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvbnRleHQgbm90IGZvdW5kJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygnR2FtZSBMb29wIFJ1bm5pbmcnLCB7XHJcbiAgICAgIGdhbWVTdGF0ZSxcclxuICAgICAgY2FudmFzV2lkdGg6IGNhbnZhcy53aWR0aCxcclxuICAgICAgY2FudmFzSGVpZ2h0OiBjYW52YXMuaGVpZ2h0LFxyXG4gICAgICBwbGF5ZXJTbmFrZTogcGxheWVyU25ha2VSZWYuY3VycmVudCA/IHtcclxuICAgICAgICB4OiBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LnNlZ21lbnRzWzBdLngsXHJcbiAgICAgICAgeTogcGxheWVyU25ha2VSZWYuY3VycmVudC5zZWdtZW50c1swXS55XHJcbiAgICAgIH0gOiBudWxsLFxyXG4gICAgICBmb29kOiBmb29kUmVmLmN1cnJlbnQubGVuZ3RoLFxyXG4gICAgICBhaVNuYWtlczogYWlTbmFrZXNSZWYuY3VycmVudC5sZW5ndGhcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChnYW1lU3RhdGUgIT09IFwicGxheWluZ1wiKSByZXR1cm47XHJcblxyXG4gICAgLy8gU3BsaXQgaW50byBjb3JlIHN5c3RlbXNcclxuICAgIHJlbmRlclN5c3RlbShjdHgpO1xyXG4gICAgaW5wdXRTeXN0ZW0oKTtcclxuICAgIHBoeXNpY3NTeXN0ZW0oY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgIGNvbGxpc2lvblN5c3RlbShjdHgpO1xyXG4gICAgYWlTeXN0ZW0oY3R4KTtcclxuICAgIHBhcnRpY2xlU3lzdGVtKGN0eCk7XHJcbiAgICBodWRTeXN0ZW0oY3R4KTtcclxuXHJcbiAgICAvLyBDb250aW51ZSBnYW1lIGxvb3BcclxuICAgIGdhbWVMb29wUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xyXG4gIH1cclxuXHJcbiAgLy8gMS4gUmVuZGVyaW5nIFN5c3RlbVxyXG4gIGNvbnN0IHJlbmRlclN5c3RlbSA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgLy8gQ2xlYXIgY2FudmFzXHJcbiAgICBjdHguZmlsbFN0eWxlID0gJyMwMDAnO1xyXG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xyXG4gICAgXHJcbiAgICAvLyBEcmF3IGdyaWRcclxuICAgIGRyYXdHcmlkKGN0eCk7XHJcblxyXG4gICAgLy8gRHJhdyBnYW1lIGVudGl0aWVzXHJcbiAgICBpZiAocGxheWVyU25ha2VSZWYuY3VycmVudCkge1xyXG4gICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LmRyYXcoY3R4KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEcmF3IEFJIHNuYWtlc1xyXG4gICAgZm9yIChjb25zdCBhaVNuYWtlIG9mIGFpU25ha2VzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgYWlTbmFrZS5kcmF3KGN0eCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIERyYXcgZm9vZFxyXG4gICAgZm9yIChjb25zdCBmb29kIG9mIGZvb2RSZWYuY3VycmVudCkge1xyXG4gICAgICBmb29kLnVwZGF0ZSgpO1xyXG4gICAgICBmb29kLmRyYXcoY3R4KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEcmF3IHBvd2VyLXVwc1xyXG4gICAgZm9yIChjb25zdCBwb3dlclVwIG9mIHBvd2VyVXBzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgcG93ZXJVcC51cGRhdGUoKTtcclxuICAgICAgcG93ZXJVcC5kcmF3KGN0eCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRHJhdyBwYXJ0aWNsZXNcclxuICAgIGZvciAoY29uc3QgcGFydGljbGVzIG9mIHBhcnRpY2xlU3lzdGVtc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIHBhcnRpY2xlcy5kcmF3KGN0eCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyAzLiBQaHlzaWNzIFN5c3RlbVxyXG4gIGNvbnN0IHBoeXNpY3NTeXN0ZW0gPSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgIGlmIChwbGF5ZXJTbmFrZVJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHBsYXllclNuYWtlUmVmLmN1cnJlbnQudXBkYXRlKHdpZHRoLCBoZWlnaHQpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIEFJIHNuYWtlIHBvc2l0aW9uc1xyXG4gICAgZm9yIChjb25zdCBhaVNuYWtlIG9mIGFpU25ha2VzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgYWlTbmFrZS51cGRhdGUod2lkdGgsIGhlaWdodClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIDQuIENvbGxpc2lvbiBTeXN0ZW1cclxuICBjb25zdCBjb2xsaXNpb25TeXN0ZW0gPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgIGNoZWNrRm9vZENvbGxpc2lvbnMoY3R4KVxyXG4gICAgY2hlY2tTbmFrZUNvbGxpc2lvbnMoKVxyXG4gICAgY2hlY2tQb3dlclVwQ29sbGlzaW9ucygpXHJcbiAgfVxyXG5cclxuICAvLyA1LiBBSSBTeXN0ZW1cclxuICBjb25zdCBhaVN5c3RlbSA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgdXBkYXRlQUlTbmFrZXMoY3R4KVxyXG4gIH1cclxuXHJcbiAgLy8gNi4gUGFydGljbGUgU3lzdGVtXHJcbiAgY29uc3QgcGFydGljbGVTeXN0ZW0gPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgIHVwZGF0ZVBhcnRpY2xlcyhjdHgpXHJcbiAgfVxyXG5cclxuICAvLyA3LiBIVUQgU3lzdGVtXHJcbiAgY29uc3QgaHVkU3lzdGVtID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICBkcmF3SFVEKGN0eClcclxuICB9XHJcblxyXG4gIC8vIERyYXcgZ3JpZCBsaW5lcyBmb3IgZnV0dXJpc3RpYyBlZmZlY3RcclxuICBjb25zdCBkcmF3R3JpZCA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gXCJyZ2JhKDAsIDI1NSwgMjU1LCAwLjEpXCI7XHJcbiAgICBjdHgubGluZVdpZHRoID0gMTtcclxuXHJcbiAgICAvLyBWZXJ0aWNhbCBsaW5lc1xyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPD0gY2FudmFzV2lkdGg7IHggKz0gNDApIHtcclxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICBjdHgubW92ZVRvKHgsIDApO1xyXG4gICAgICBjdHgubGluZVRvKHgsIGNhbnZhc0hlaWdodCk7XHJcbiAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBIb3Jpem9udGFsIGxpbmVzXHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8PSBjYW52YXNIZWlnaHQ7IHkgKz0gNDApIHtcclxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICBjdHgubW92ZVRvKDAsIHkpO1xyXG4gICAgICBjdHgubGluZVRvKGNhbnZhc1dpZHRoLCB5KTtcclxuICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gSGFuZGxlIGtleWJvYXJkIGlucHV0XHJcbiAgY29uc3QgaGFuZGxlSW5wdXQgPSAoKSA9PiB7XHJcbiAgICBpZiAoIXBsYXllclNuYWtlUmVmLmN1cnJlbnQpIHJldHVybjtcclxuXHJcbiAgICAvLyBUdXJuIGxlZnQgd2l0aCBsZWZ0IGFycm93IG9yIEFcclxuICAgIGlmIChrZXlzUHJlc3NlZC5jdXJyZW50LmhhcyhcImFycm93bGVmdFwiKSB8fCBrZXlzUHJlc3NlZC5jdXJyZW50LmhhcyhcImFcIikpIHtcclxuICAgICAgcGxheWVyU25ha2VSZWYuY3VycmVudC50dXJuTGVmdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFR1cm4gcmlnaHQgd2l0aCByaWdodCBhcnJvdyBvciBEXHJcbiAgICBpZiAoa2V5c1ByZXNzZWQuY3VycmVudC5oYXMoXCJhcnJvd3JpZ2h0XCIpIHx8IGtleXNQcmVzc2VkLmN1cnJlbnQuaGFzKFwiZFwiKSkge1xyXG4gICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LnR1cm5SaWdodCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNwZWVkIGJvb3N0IHdpdGggdXAgYXJyb3cgb3IgV1xyXG4gICAgaWYgKGtleXNQcmVzc2VkLmN1cnJlbnQuaGFzKFwiYXJyb3d1cFwiKSB8fCBrZXlzUHJlc3NlZC5jdXJyZW50LmhhcyhcIndcIikpIHtcclxuICAgICAgcGxheWVyU25ha2VSZWYuY3VycmVudC5ib29zdCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcGxheWVyU25ha2VSZWYuY3VycmVudC5ub3JtYWxTcGVlZCgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIENoZWNrIGZvciBmb29kIGNvbGxpc2lvbnNcclxuICBjb25zdCBjaGVja0Zvb2RDb2xsaXNpb25zID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICBpZiAoIXBsYXllclNuYWtlUmVmLmN1cnJlbnQpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IHBsYXllckhlYWQgPSBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LmdldEhlYWQoKVxyXG5cclxuICAgIGZvb2RSZWYuY3VycmVudCA9IGZvb2RSZWYuY3VycmVudC5maWx0ZXIoKGZvb2QpID0+IHtcclxuICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmh5cG90KHBsYXllckhlYWQueCAtIGZvb2QucG9zaXRpb24ueCwgcGxheWVySGVhZC55IC0gZm9vZC5wb3NpdGlvbi55KVxyXG5cclxuICAgICAgaWYgKGRpc3RhbmNlIDwgcGxheWVySGVhZC5yYWRpdXMgKyBmb29kLnJhZGl1cykge1xyXG4gICAgICAgIC8vIENyZWF0ZSBwYXJ0aWNsZSBlZmZlY3RcclxuICAgICAgICBwYXJ0aWNsZVN5c3RlbXNSZWYuY3VycmVudC5wdXNoKFxyXG4gICAgICAgICAgbmV3IFBhcnRpY2xlU3lzdGVtKHtcclxuICAgICAgICAgICAgeDogZm9vZC5wb3NpdGlvbi54LFxyXG4gICAgICAgICAgICB5OiBmb29kLnBvc2l0aW9uLnksXHJcbiAgICAgICAgICAgIGNvbG9yOiBmb29kLmNvbG9yLFxyXG4gICAgICAgICAgICBwYXJ0aWNsZUNvdW50OiAyMCxcclxuICAgICAgICAgICAgbGlmZXRpbWU6IDMwLFxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICAvLyBHcm93IHNuYWtlXHJcbiAgICAgICAgcGxheWVyU25ha2VSZWYuY3VycmVudD8uZ3Jvdyhmb29kLnZhbHVlKVxyXG5cclxuICAgICAgICAvLyBJbmNyZWFzZSBzY29yZVxyXG4gICAgICAgIHNldFNjb3JlKChwcmV2U2NvcmUpID0+IHtcclxuICAgICAgICAgIGNvbnN0IG5ld1Njb3JlID0gcHJldlNjb3JlICsgZm9vZC52YWx1ZSAqIDEwXHJcblxyXG4gICAgICAgICAgLy8gVXBkYXRlIGhpZ2ggc2NvcmUgaWYgbmVlZGVkXHJcbiAgICAgICAgICBpZiAobmV3U2NvcmUgPiBoaWdoU2NvcmUpIHtcclxuICAgICAgICAgICAgc2V0SGlnaFNjb3JlKG5ld1Njb3JlKVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNuYWtlSGlnaFNjb3JlXCIsIG5ld1Njb3JlLnRvU3RyaW5nKCkpXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIG5ld1Njb3JlXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8gU3Bhd24gbmV3IGZvb2RcclxuICAgICAgICBzcGF3bkZvb2QoKVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvLyBDaGVjayBmb3Igc25ha2UgY29sbGlzaW9uc1xyXG4gIGNvbnN0IGNoZWNrU25ha2VDb2xsaXNpb25zID0gKCkgPT4ge1xyXG4gICAgaWYgKCFwbGF5ZXJTbmFrZVJlZi5jdXJyZW50KSByZXR1cm5cclxuXHJcbiAgICBjb25zdCBwbGF5ZXJIZWFkID0gcGxheWVyU25ha2VSZWYuY3VycmVudC5nZXRIZWFkKClcclxuXHJcbiAgICAvLyBDaGVjayBjb2xsaXNpb24gd2l0aCBwbGF5ZXIncyBvd24gYm9keVxyXG4gICAgaWYgKHBsYXllclNuYWtlUmVmLmN1cnJlbnQuY2hlY2tTZWxmQ29sbGlzaW9uKCkpIHtcclxuICAgICAgZ2FtZU92ZXIoKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBjb2xsaXNpb24gd2l0aCBBSSBzbmFrZXNcclxuICAgIGZvciAoY29uc3QgYWlTbmFrZSBvZiBhaVNuYWtlc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIGlmIChhaVNuYWtlLmNoZWNrQ29sbGlzaW9uV2l0aChwbGF5ZXJIZWFkKSkge1xyXG4gICAgICAgIGdhbWVPdmVyKClcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgQUkgc25ha2UgaGVhZCBjb2xsaWRlcyB3aXRoIHBsYXllciBib2R5XHJcbiAgICAgIGNvbnN0IGFpSGVhZCA9IGFpU25ha2UuZ2V0SGVhZCgpXHJcbiAgICAgIGlmIChwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LmNoZWNrQ29sbGlzaW9uV2l0aFBvaW50KGFpSGVhZCkpIHtcclxuICAgICAgICAvLyBDcmVhdGUgcGFydGljbGUgZWZmZWN0XHJcbiAgICAgICAgcGFydGljbGVTeXN0ZW1zUmVmLmN1cnJlbnQucHVzaChcclxuICAgICAgICAgIG5ldyBQYXJ0aWNsZVN5c3RlbSh7XHJcbiAgICAgICAgICAgIHg6IGFpSGVhZC54LFxyXG4gICAgICAgICAgICB5OiBhaUhlYWQueSxcclxuICAgICAgICAgICAgY29sb3I6IGFpU25ha2UuY29sb3IsXHJcbiAgICAgICAgICAgIHBhcnRpY2xlQ291bnQ6IDMwLFxyXG4gICAgICAgICAgICBsaWZldGltZTogNDAsXHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSBBSSBzbmFrZVxyXG4gICAgICAgIGFpU25ha2VzUmVmLmN1cnJlbnQgPSBhaVNuYWtlc1JlZi5jdXJyZW50LmZpbHRlcigoc25ha2UpID0+IHNuYWtlICE9PSBhaVNuYWtlKVxyXG5cclxuICAgICAgICAvLyBJbmNyZWFzZSBzY29yZVxyXG4gICAgICAgIHNldFNjb3JlKChwcmV2U2NvcmUpID0+IHByZXZTY29yZSArIDUwKVxyXG5cclxuICAgICAgICAvLyBTcGF3biBuZXcgQUkgc25ha2UgYWZ0ZXIgZGVsYXlcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGlmIChnYW1lU3RhdGUgPT09IFwicGxheWluZ1wiKSB7XHJcbiAgICAgICAgICAgIHNwYXduQUlTbmFrZSgpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgNTAwMClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlIGFuZCBkcmF3IEFJIHNuYWtlc1xyXG4gIGNvbnN0IHVwZGF0ZUFJU25ha2VzID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICBmb3IgKGNvbnN0IGFpU25ha2Ugb2YgYWlTbmFrZXNSZWYuY3VycmVudCkge1xyXG4gICAgICAvLyBVcGRhdGUgQUkgYmVoYXZpb3JcclxuICAgICAgYWlTbmFrZS51cGRhdGVBSShcclxuICAgICAgICBmb29kUmVmLmN1cnJlbnQsXHJcbiAgICAgICAgcGxheWVyU25ha2VSZWYuY3VycmVudCxcclxuICAgICAgICBhaVNuYWtlc1JlZi5jdXJyZW50LmZpbHRlcigoc25ha2UpID0+IHNuYWtlICE9PSBhaVNuYWtlKSxcclxuICAgICAgICBjYW52YXNXaWR0aCxcclxuICAgICAgICBjYW52YXNIZWlnaHQsXHJcbiAgICAgIClcclxuXHJcbiAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvblxyXG4gICAgICBhaVNuYWtlLnVwZGF0ZShjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KVxyXG5cclxuICAgICAgLy8gRHJhdyBzbmFrZVxyXG4gICAgICBhaVNuYWtlLmRyYXcoY3R4KVxyXG5cclxuICAgICAgLy8gQ2hlY2sgZm9yIGZvb2QgY29sbGlzaW9uXHJcbiAgICAgIGNvbnN0IGFpSGVhZCA9IGFpU25ha2UuZ2V0SGVhZCgpXHJcblxyXG4gICAgICBmb29kUmVmLmN1cnJlbnQgPSBmb29kUmVmLmN1cnJlbnQuZmlsdGVyKChmb29kKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmh5cG90KGFpSGVhZC54IC0gZm9vZC5wb3NpdGlvbi54LCBhaUhlYWQueSAtIGZvb2QucG9zaXRpb24ueSlcclxuXHJcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgYWlIZWFkLnJhZGl1cyArIGZvb2QucmFkaXVzKSB7XHJcbiAgICAgICAgICAvLyBDcmVhdGUgcGFydGljbGUgZWZmZWN0XHJcbiAgICAgICAgICBwYXJ0aWNsZVN5c3RlbXNSZWYuY3VycmVudC5wdXNoKFxyXG4gICAgICAgICAgICBuZXcgUGFydGljbGVTeXN0ZW0oe1xyXG4gICAgICAgICAgICAgIHg6IGZvb2QucG9zaXRpb24ueCxcclxuICAgICAgICAgICAgICB5OiBmb29kLnBvc2l0aW9uLnksXHJcbiAgICAgICAgICAgICAgY29sb3I6IGZvb2QuY29sb3IsXHJcbiAgICAgICAgICAgICAgcGFydGljbGVDb3VudDogMTUsXHJcbiAgICAgICAgICAgICAgbGlmZXRpbWU6IDI1LFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgIClcclxuXHJcbiAgICAgICAgICAvLyBHcm93IHNuYWtlXHJcbiAgICAgICAgICBhaVNuYWtlLmdyb3coZm9vZC52YWx1ZSlcclxuXHJcbiAgICAgICAgICAvLyBTcGF3biBuZXcgZm9vZFxyXG4gICAgICAgICAgc3Bhd25Gb29kKClcclxuXHJcbiAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBTcGF3biBuZXcgZm9vZFxyXG4gIGNvbnN0IHNwYXduRm9vZCA9ICgpID0+IHtcclxuICAgIC8vIFJhbmRvbSBwb3NpdGlvbiBhd2F5IGZyb20gc25ha2VzXHJcbiAgICBsZXQgdmFsaWRQb3NpdGlvbiA9IGZhbHNlXHJcbiAgICBsZXQgeCwgeVxyXG5cclxuICAgIHdoaWxlICghdmFsaWRQb3NpdGlvbikge1xyXG4gICAgICB4ID0gTWF0aC5yYW5kb20oKSAqIChjYW52YXNXaWR0aCAtIDQwKSArIDIwXHJcbiAgICAgIHkgPSBNYXRoLnJhbmRvbSgpICogKGNhbnZhc0hlaWdodCAtIDQwKSArIDIwXHJcblxyXG4gICAgICB2YWxpZFBvc2l0aW9uID0gdHJ1ZVxyXG5cclxuICAgICAgLy8gQ2hlY2sgZGlzdGFuY2UgZnJvbSBwbGF5ZXIgc25ha2VcclxuICAgICAgaWYgKHBsYXllclNuYWtlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2YgcGxheWVyU25ha2VSZWYuY3VycmVudC5zZWdtZW50cykge1xyXG4gICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmh5cG90KHNlZ21lbnQueCAtIHgsIHNlZ21lbnQueSAtIHkpXHJcbiAgICAgICAgICBpZiAoZGlzdGFuY2UgPCA1MCkge1xyXG4gICAgICAgICAgICB2YWxpZFBvc2l0aW9uID0gZmFsc2VcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENoZWNrIGRpc3RhbmNlIGZyb20gQUkgc25ha2VzXHJcbiAgICAgIGlmICh2YWxpZFBvc2l0aW9uKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBhaVNuYWtlIG9mIGFpU25ha2VzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBhaVNuYWtlLnNlZ21lbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5oeXBvdChzZWdtZW50LnggLSB4LCBzZWdtZW50LnkgLSB5KVxyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCA1MCkge1xyXG4gICAgICAgICAgICAgIHZhbGlkUG9zaXRpb24gPSBmYWxzZVxyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICghdmFsaWRQb3NpdGlvbikgYnJlYWtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgZm9vZCB0eXBlICgxMCUgY2hhbmNlIGZvciBzcGVjaWFsIGZvb2QpXHJcbiAgICBjb25zdCBmb29kVHlwZSA9IE1hdGgucmFuZG9tKCkgPCAwLjEgPyBcInNwZWNpYWxcIiA6IFwicmVndWxhclwiXHJcblxyXG4gICAgLy8gQ3JlYXRlIG5ldyBmb29kXHJcbiAgICBmb29kUmVmLmN1cnJlbnQucHVzaChcclxuICAgICAgbmV3IEZvb2Qoe1xyXG4gICAgICAgIHg6IHghLFxyXG4gICAgICAgIHk6IHkhLFxyXG4gICAgICAgIHR5cGU6IGZvb2RUeXBlLFxyXG4gICAgICB9KSxcclxuICAgIClcclxuICB9XHJcblxyXG4gIC8vIFNwYXduIG5ldyBBSSBzbmFrZVxyXG4gIGNvbnN0IHNwYXduQUlTbmFrZSA9ICgpID0+IHtcclxuICAgIC8vIFJhbmRvbSBwb3NpdGlvbiBhdCB0aGUgZWRnZSBvZiB0aGUgY2FudmFzXHJcbiAgICBsZXQgeCwgeSwgYW5nbGVcclxuXHJcbiAgICBjb25zdCBzaWRlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNClcclxuXHJcbiAgICBzd2l0Y2ggKHNpZGUpIHtcclxuICAgICAgY2FzZSAwOiAvLyBUb3BcclxuICAgICAgICB4ID0gTWF0aC5yYW5kb20oKSAqIGNhbnZhc1dpZHRoXHJcbiAgICAgICAgeSA9IDIwXHJcbiAgICAgICAgYW5nbGUgPSBNYXRoLlBJIC8gMlxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgMTogLy8gUmlnaHRcclxuICAgICAgICB4ID0gY2FudmFzV2lkdGggLSAyMFxyXG4gICAgICAgIHkgPSBNYXRoLnJhbmRvbSgpICogY2FudmFzSGVpZ2h0XHJcbiAgICAgICAgYW5nbGUgPSBNYXRoLlBJXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAyOiAvLyBCb3R0b21cclxuICAgICAgICB4ID0gTWF0aC5yYW5kb20oKSAqIGNhbnZhc1dpZHRoXHJcbiAgICAgICAgeSA9IGNhbnZhc0hlaWdodCAtIDIwXHJcbiAgICAgICAgYW5nbGUgPSAtTWF0aC5QSSAvIDJcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIDM6IC8vIExlZnRcclxuICAgICAgICB4ID0gMjBcclxuICAgICAgICB5ID0gTWF0aC5yYW5kb20oKSAqIGNhbnZhc0hlaWdodFxyXG4gICAgICAgIGFuZ2xlID0gMFxyXG4gICAgICAgIGJyZWFrXHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmFuZG9tIGJlaGF2aW9yXHJcbiAgICBjb25zdCBiZWhhdmlvcnM6IChcInBhc3NpdmVcIiB8IFwiYWdncmVzc2l2ZVwiIHwgXCJ0ZXJyaXRvcmlhbFwiKVtdID0gW1wicGFzc2l2ZVwiLCBcImFnZ3Jlc3NpdmVcIiwgXCJ0ZXJyaXRvcmlhbFwiXVxyXG4gICAgY29uc3QgYmVoYXZpb3IgPSBiZWhhdmlvcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYmVoYXZpb3JzLmxlbmd0aCldXHJcblxyXG4gICAgLy8gUmFuZG9tIGNvbG9yIChuZW9uKVxyXG4gICAgY29uc3QgY29sb3JzID0gW1wiIzBmMFwiLCBcIiNmMDBcIiwgXCIjZmYwXCIsIFwiI2YwZlwiLCBcIiMwZmZcIl1cclxuICAgIGNvbnN0IGNvbG9yID0gY29sb3JzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbG9ycy5sZW5ndGgpXVxyXG5cclxuICAgIC8vIENyZWF0ZSBuZXcgQUkgc25ha2VcclxuICAgIGFpU25ha2VzUmVmLmN1cnJlbnQucHVzaChcclxuICAgICAgbmV3IEFJU25ha2Uoe1xyXG4gICAgICAgIHg6IHghLFxyXG4gICAgICAgIHk6IHkhLFxyXG4gICAgICAgIGNvbG9yLFxyXG4gICAgICAgIGhlYWRDb2xvcjogXCIjZmZmXCIsXHJcbiAgICAgICAgaW5pdGlhbExlbmd0aDogMyxcclxuICAgICAgICBpbml0aWFsQW5nbGU6IGFuZ2xlISxcclxuICAgICAgICBzcGVlZDogMS41ICsgTWF0aC5yYW5kb20oKSAqIDAuNSxcclxuICAgICAgICBiZWhhdmlvcixcclxuICAgICAgfSksXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGUgYW5kIGRyYXcgcGFydGljbGUgc3lzdGVtc1xyXG4gIGNvbnN0IHVwZGF0ZVBhcnRpY2xlcyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgcGFydGljbGVTeXN0ZW1zUmVmLmN1cnJlbnQgPSBwYXJ0aWNsZVN5c3RlbXNSZWYuY3VycmVudC5maWx0ZXIoKHN5c3RlbSkgPT4ge1xyXG4gICAgICBzeXN0ZW0udXBkYXRlKClcclxuICAgICAgc3lzdGVtLmRyYXcoY3R4KVxyXG4gICAgICByZXR1cm4gIXN5c3RlbS5pc0RlYWQoKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8vIERyYXcgSFVEIChzY29yZSwgZXRjLilcclxuICBjb25zdCBkcmF3SFVEID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjZmZmXCI7XHJcbiAgICBjdHguZm9udCA9ICcyMHB4IFwiQ291cmllciBOZXdcIiwgbW9ub3NwYWNlJztcclxuICAgIGN0eC50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuICAgIGN0eC5maWxsVGV4dChgU0NPUkU6ICR7c2NvcmV9YCwgMjAsIDMwKTtcclxuICAgIGN0eC5maWxsVGV4dChgSElHSCBTQ09SRTogJHtoaWdoU2NvcmV9YCwgMjAsIDYwKTtcclxuXHJcbiAgICAvLyBEcmF3IGFjdGl2ZSBwb3dlci11cHNcclxuICAgIGlmIChwbGF5ZXJTbmFrZVJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IGFjdGl2ZVBvd2VyVXBzID0gcGxheWVyU25ha2VSZWYuY3VycmVudC5hY3RpdmVQb3dlclVwcztcclxuICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICBhY3RpdmVQb3dlclVwcy5mb3JFYWNoKChlbmRUaW1lLCB0eXBlKSA9PiB7XHJcbiAgICAgICAgaWYgKERhdGUubm93KCkgPCBlbmRUaW1lKSB7XHJcbiAgICAgICAgICBjb25zdCB0aW1lTGVmdCA9IE1hdGguY2VpbCgoZW5kVGltZSAtIERhdGUubm93KCkpIC8gMTAwMCk7XHJcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjZmZmXCI7XHJcbiAgICAgICAgICBjdHguZm9udCA9ICcxNnB4IFwiQ291cmllciBOZXdcIiwgbW9ub3NwYWNlJztcclxuICAgICAgICAgIGN0eC5maWxsVGV4dChcclxuICAgICAgICAgICAgYCR7dHlwZS50b1VwcGVyQ2FzZSgpfTogJHt0aW1lTGVmdH1zYCxcclxuICAgICAgICAgICAgMjAsXHJcbiAgICAgICAgICAgIDEwMCArIGkgKiAyNVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gR2FtZSBvdmVyXHJcbiAgY29uc3QgZ2FtZU92ZXIgPSAoKSA9PiB7XHJcbiAgICBzZXRHYW1lU3RhdGUoXCJnYW1lT3ZlclwiKVxyXG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3BSZWYuY3VycmVudClcclxuICAgIGF1ZGlvUmVmLmN1cnJlbnQucGxheVNvdW5kKFwiZ2FtZW92ZXJcIilcclxuXHJcbiAgICAvLyBDcmVhdGUgZXhwbG9zaW9uIGVmZmVjdCBhdCBwbGF5ZXIgaGVhZFxyXG4gICAgaWYgKHBsYXllclNuYWtlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc3QgaGVhZCA9IHBsYXllclNuYWtlUmVmLmN1cnJlbnQuZ2V0SGVhZCgpXHJcbiAgICAgIHBhcnRpY2xlU3lzdGVtc1JlZi5jdXJyZW50LnB1c2goXHJcbiAgICAgICAgbmV3IFBhcnRpY2xlU3lzdGVtKHtcclxuICAgICAgICAgIHg6IGhlYWQueCxcclxuICAgICAgICAgIHk6IGhlYWQueSxcclxuICAgICAgICAgIGNvbG9yOiBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LmhlYWRDb2xvcixcclxuICAgICAgICAgIHBhcnRpY2xlQ291bnQ6IDUwLFxyXG4gICAgICAgICAgbGlmZXRpbWU6IDYwLFxyXG4gICAgICAgICAgc3BlZWQ6IDMsXHJcbiAgICAgICAgfSksXHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IHJlbmRlck1lbnUgPSAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnUmVuZGVyaW5nIG1lbnUnKTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjayBiZy1vcGFjaXR5LTgwIHotMTBcIj5cclxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC01eGwgZm9udC1ib2xkIG1iLTggdGV4dC10cmFuc3BhcmVudCBiZy1jbGlwLXRleHQgYmctZ3JhZGllbnQtdG8tciBmcm9tLWN5YW4tNDAwIHRvLXB1cnBsZS02MDBcIj5cclxuICAgICAgICAgIE5FT04gU05BS0VcclxuICAgICAgICA8L2gxPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IHctNjRcIj5cclxuICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1jeWFuLTUwMCB0by1wdXJwbGUtNjAwIGhvdmVyOmZyb20tY3lhbi02MDAgaG92ZXI6dG8tcHVycGxlLTcwMFwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU3RhcnQgYnV0dG9uIGNsaWNrZWQnKTtcclxuICAgICAgICAgICAgICBzdGFydEdhbWUoKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPFBsYXkgY2xhc3NOYW1lPVwibXItMiBoLTQgdy00XCIgLz5cclxuICAgICAgICAgICAgUExBWVxyXG4gICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS00MDAgdGV4dC1zbSBtdC04XCI+XHJcbiAgICAgICAgICAgIDxwPlVzZSBBUlJPVyBLRVlTIG9yIFdBU0QgdG8gY29udHJvbDwvcD5cclxuICAgICAgICAgICAgPHA+UHJlc3MgVVAgb3IgVyBmb3Igc3BlZWQgYm9vc3Q8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICAvLyBSZW5kZXIgcGF1c2Ugc2NyZWVuXHJcbiAgY29uc3QgcmVuZGVyUGF1c2VTY3JlZW4gPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2sgYmctb3BhY2l0eS04MCB6LTEwXCI+XHJcbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCBtYi04IHRleHQtY3lhbi00MDBcIj5QQVVTRUQ8L2gyPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IHctNjRcIj5cclxuICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1jeWFuLTUwMCB0by1wdXJwbGUtNjAwIGhvdmVyOmZyb20tY3lhbi02MDAgaG92ZXI6dG8tcHVycGxlLTcwMFwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICBzZXRHYW1lU3RhdGUoXCJwbGF5aW5nXCIpXHJcbiAgICAgICAgICAgICAgZ2FtZUxvb3BSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcClcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPFBsYXkgY2xhc3NOYW1lPVwibXItMiBoLTQgdy00XCIgLz5cclxuICAgICAgICAgICAgUkVTVU1FXHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyLWN5YW4tNTAwIHRleHQtY3lhbi00MDAgaG92ZXI6YmctY3lhbi05NTBcIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRHYW1lU3RhdGUoXCJtZW51XCIpfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICBNQUlOIE1FTlVcclxuICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcblxyXG4gIC8vIFJlbmRlciBnYW1lIG92ZXIgc2NyZWVuXHJcbiAgY29uc3QgcmVuZGVyR2FtZU92ZXJTY3JlZW4gPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2sgYmctb3BhY2l0eS04MCB6LTEwXCI+XHJcbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtNHhsIGZvbnQtYm9sZCBtYi0yIHRleHQtcmVkLTUwMFwiPkdBTUUgT1ZFUjwvaDI+XHJcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC0yeGwgbWItOCB0ZXh0LWN5YW4tNDAwXCI+U0NPUkU6IHtzY29yZX08L3A+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgdy02NFwiPlxyXG4gICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JhZGllbnQtdG8tciBmcm9tLWN5YW4tNTAwIHRvLXB1cnBsZS02MDAgaG92ZXI6ZnJvbS1jeWFuLTYwMCBob3Zlcjp0by1wdXJwbGUtNzAwXCJcclxuICAgICAgICAgICAgb25DbGljaz17c3RhcnRHYW1lfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8UmVmcmVzaEN3IGNsYXNzTmFtZT1cIm1yLTIgaC00IHctNFwiIC8+XHJcbiAgICAgICAgICAgIFBMQVkgQUdBSU5cclxuICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXItY3lhbi01MDAgdGV4dC1jeWFuLTQwMCBob3ZlcjpiZy1jeWFuLTk1MFwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEdhbWVTdGF0ZShcIm1lbnVcIil9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIE1BSU4gTUVOVVxyXG4gICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgLy8gUmVuZGVyIGdhbWUgY29udHJvbHNcclxuICBjb25zdCByZW5kZXJHYW1lQ29udHJvbHMgPSAoKSA9PiB7XHJcbiAgICBpZiAoZ2FtZVN0YXRlICE9PSBcInBsYXlpbmdcIikgcmV0dXJuIG51bGxcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC00IHJpZ2h0LTQgei0xMFwiPlxyXG4gICAgICAgIDxCdXR0b25cclxuICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcclxuICAgICAgICAgIHNpemU9XCJpY29uXCJcclxuICAgICAgICAgIGNsYXNzTmFtZT1cImJvcmRlci1jeWFuLTUwMCB0ZXh0LWN5YW4tNDAwIGhvdmVyOmJnLWN5YW4tOTUwXCJcclxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgc2V0R2FtZVN0YXRlKFwicGF1c2VkXCIpXHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wUmVmLmN1cnJlbnQpXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxQYXVzZSBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cclxuICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICAvLyBBZGQgcG93ZXItdXAgc3Bhd25pbmdcclxuICBjb25zdCBzcGF3blBvd2VyVXAgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB0eXBlczogUG93ZXJVcFR5cGVbXSA9IFtcInNwZWVkXCIsIFwiaW52dWxuZXJhYmlsaXR5XCIsIFwiZ2hvc3RcIl1cclxuICAgIGNvbnN0IHJhbmRvbVR5cGUgPSB0eXBlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0eXBlcy5sZW5ndGgpXVxyXG5cclxuICAgIGxldCB2YWxpZFBvc2l0aW9uID0gZmFsc2VcclxuICAgIGxldCB4LCB5XHJcblxyXG4gICAgd2hpbGUgKCF2YWxpZFBvc2l0aW9uKSB7XHJcbiAgICAgIHggPSBNYXRoLnJhbmRvbSgpICogKGNhbnZhc1dpZHRoIC0gNDApICsgMjBcclxuICAgICAgeSA9IE1hdGgucmFuZG9tKCkgKiAoY2FudmFzSGVpZ2h0IC0gNDApICsgMjBcclxuICAgICAgdmFsaWRQb3NpdGlvbiA9IHRydWVcclxuXHJcbiAgICAgIC8vIENoZWNrIGRpc3RhbmNlIGZyb20gcGxheWVyIGFuZCBBSSBzbmFrZXNcclxuICAgICAgaWYgKHBsYXllclNuYWtlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2YgcGxheWVyU25ha2VSZWYuY3VycmVudC5zZWdtZW50cykge1xyXG4gICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmh5cG90KHNlZ21lbnQueCAtIHgsIHNlZ21lbnQueSAtIHkpXHJcbiAgICAgICAgICBpZiAoZGlzdGFuY2UgPCA1MCkge1xyXG4gICAgICAgICAgICB2YWxpZFBvc2l0aW9uID0gZmFsc2VcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh2YWxpZFBvc2l0aW9uKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBhaVNuYWtlIG9mIGFpU25ha2VzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBhaVNuYWtlLnNlZ21lbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5oeXBvdChzZWdtZW50LnggLSB4LCBzZWdtZW50LnkgLSB5KVxyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCA1MCkge1xyXG4gICAgICAgICAgICAgIHZhbGlkUG9zaXRpb24gPSBmYWxzZVxyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICghdmFsaWRQb3NpdGlvbikgYnJlYWtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwb3dlclVwc1JlZi5jdXJyZW50LnB1c2goXHJcbiAgICAgIG5ldyBQb3dlclVwKHtcclxuICAgICAgICB4OiB4ISxcclxuICAgICAgICB5OiB5ISxcclxuICAgICAgICB0eXBlOiByYW5kb21UeXBlLFxyXG4gICAgICB9KVxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgcG93ZXItdXAgY29sbGlzaW9uc1xyXG4gIGNvbnN0IGNoZWNrUG93ZXJVcENvbGxpc2lvbnMgPSAoKSA9PiB7XHJcbiAgICBpZiAoIXBsYXllclNuYWtlUmVmLmN1cnJlbnQpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IHBsYXllckhlYWQgPSBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LmdldEhlYWQoKVxyXG4gICAgcG93ZXJVcHNSZWYuY3VycmVudCA9IHBvd2VyVXBzUmVmLmN1cnJlbnQuZmlsdGVyKChwb3dlclVwKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5oeXBvdChcclxuICAgICAgICBwbGF5ZXJIZWFkLnggLSBwb3dlclVwLnBvc2l0aW9uLngsXHJcbiAgICAgICAgcGxheWVySGVhZC55IC0gcG93ZXJVcC5wb3NpdGlvbi55XHJcbiAgICAgIClcclxuXHJcbiAgICAgIGlmIChkaXN0YW5jZSA8IHBsYXllckhlYWQucmFkaXVzICsgcG93ZXJVcC5yYWRpdXMpIHtcclxuICAgICAgICAvLyBBcHBseSBwb3dlci11cCBlZmZlY3RcclxuICAgICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50Py5jb2xsZWN0UG93ZXJVcChwb3dlclVwKVxyXG5cclxuICAgICAgICAvLyBDcmVhdGUgcGFydGljbGUgZWZmZWN0XHJcbiAgICAgICAgcGFydGljbGVTeXN0ZW1zUmVmLmN1cnJlbnQucHVzaChcclxuICAgICAgICAgIG5ldyBQYXJ0aWNsZVN5c3RlbSh7XHJcbiAgICAgICAgICAgIHg6IHBvd2VyVXAucG9zaXRpb24ueCxcclxuICAgICAgICAgICAgeTogcG93ZXJVcC5wb3NpdGlvbi55LFxyXG4gICAgICAgICAgICBjb2xvcjogcG93ZXJVcC5jb2xvcixcclxuICAgICAgICAgICAgcGFydGljbGVDb3VudDogMzAsXHJcbiAgICAgICAgICAgIGxpZmV0aW1lOiA0MCxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8vIE9jY2FzaW9uYWxseSBzcGF3biBwb3dlci11cHNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGdhbWVTdGF0ZSAhPT0gXCJwbGF5aW5nXCIpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IHBvd2VyVXBJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjMgJiYgcG93ZXJVcHNSZWYuY3VycmVudC5sZW5ndGggPCAzKSB7XHJcbiAgICAgICAgc3Bhd25Qb3dlclVwKClcclxuICAgICAgfVxyXG4gICAgfSwgMTAwMDApIC8vIEV2ZXJ5IDEwIHNlY29uZHNcclxuXHJcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChwb3dlclVwSW50ZXJ2YWwpXHJcbiAgfSwgW2dhbWVTdGF0ZV0pXHJcblxyXG4gIC8vIFVwZGF0ZSBzdGF0ZSB0cmFuc2l0aW9uc1xyXG4gIGNvbnN0IGNoYW5nZUdhbWVTdGF0ZSA9IGFzeW5jIChuZXdTdGF0ZTogR2FtZVN0YXRlKSA9PiB7XHJcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudFxyXG4gICAgaWYgKCFjYW52YXMpIHJldHVyblxyXG4gICAgXHJcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxyXG4gICAgaWYgKCFjdHgpIHJldHVyblxyXG5cclxuICAgIC8vIEV4aXQgdHJhbnNpdGlvblxyXG4gICAgYXdhaXQgVHJhbnNpdGlvbnMuZmFkZShjdHgsICdvdXQnLCAzMDApXHJcbiAgICBcclxuICAgIHNldEdhbWVTdGF0ZShuZXdTdGF0ZSlcclxuICAgIFxyXG4gICAgLy8gRW50ZXIgdHJhbnNpdGlvblxyXG4gICAgYXdhaXQgVHJhbnNpdGlvbnMuZmFkZShjdHgsICdpbicsIDMwMClcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZSBjYW52YXMgc2l6ZSBvbiB3aW5kb3cgcmVzaXplXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XHJcbiAgICAgIGlmICghY2FudmFzKSByZXR1cm47XHJcblxyXG4gICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGdldENhbnZhc0RpbWVuc2lvbnMoKTtcclxuICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xyXG4gICAgaGFuZGxlUmVzaXplKCk7IC8vIEluaXRpYWwgc2l6ZVxyXG5cclxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcclxuICB9LCBbaXNNb2JpbGVdKTtcclxuXHJcbiAgLy8gSGFuZGxlIHRvdWNoIGNvbnRyb2xzXHJcbiAgY29uc3QgaGFuZGxlRGlyZWN0aW9uQ2hhbmdlID0gKGRpcmVjdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSA9PiB7XHJcbiAgICBzZXRUb3VjaERpcmVjdGlvbihkaXJlY3Rpb24pO1xyXG4gIH07XHJcblxyXG4gIC8vIFVwZGF0ZSBpbnB1dCBzeXN0ZW0gdG8gaGFuZGxlIGJvdGgga2V5Ym9hcmQgYW5kIHRvdWNoXHJcbiAgY29uc3QgaW5wdXRTeXN0ZW0gPSAoKSA9PiB7XHJcbiAgICBpZiAoIXBsYXllclNuYWtlUmVmLmN1cnJlbnQpIHJldHVybjtcclxuXHJcbiAgICBpZiAoaXNNb2JpbGUpIHtcclxuICAgICAgLy8gQ29udmVydCB0b3VjaCBkaXJlY3Rpb24gdG8gYW5nbGVcclxuICAgICAgaWYgKHRvdWNoRGlyZWN0aW9uLnggIT09IDAgfHwgdG91Y2hEaXJlY3Rpb24ueSAhPT0gMCkge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldEFuZ2xlID0gTWF0aC5hdGFuMih0b3VjaERpcmVjdGlvbi55LCB0b3VjaERpcmVjdGlvbi54KTtcclxuICAgICAgICBjb25zdCBjdXJyZW50QW5nbGUgPSBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LmFuZ2xlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNtb290aCByb3RhdGlvbiB0b3dhcmRzIHRhcmdldCBhbmdsZVxyXG4gICAgICAgIGNvbnN0IGFuZ2xlRGlmZiA9IHRhcmdldEFuZ2xlIC0gY3VycmVudEFuZ2xlO1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWREaWZmID0gTWF0aC5hdGFuMihNYXRoLnNpbihhbmdsZURpZmYpLCBNYXRoLmNvcyhhbmdsZURpZmYpKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAobm9ybWFsaXplZERpZmYgPiAwLjEpIHtcclxuICAgICAgICAgIHBsYXllclNuYWtlUmVmLmN1cnJlbnQudHVyblJpZ2h0KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkRGlmZiA8IC0wLjEpIHtcclxuICAgICAgICAgIHBsYXllclNuYWtlUmVmLmN1cnJlbnQudHVybkxlZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEhhbmRsZSBib29zdFxyXG4gICAgICBpZiAoaXNCb29zdGluZykge1xyXG4gICAgICAgIHBsYXllclNuYWtlUmVmLmN1cnJlbnQuYm9vc3QoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50Lm5vcm1hbFNwZWVkKCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEV4aXN0aW5nIGtleWJvYXJkIGNvbnRyb2xzXHJcbiAgICAgIGhhbmRsZUlucHV0KCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gQWRkIHRoaXMgZnVuY3Rpb24gbmVhciB0aGUgdG9wIG9mIHRoZSBjb21wb25lbnRcclxuICBjb25zdCBnZXRDYW52YXNEaW1lbnNpb25zID0gKCkgPT4ge1xyXG4gICAgaWYgKGlzTW9iaWxlKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgd2lkdGg6IE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoIC0gMzIsIDYwMCksXHJcbiAgICAgICAgaGVpZ2h0OiBNYXRoLm1pbih3aW5kb3cuaW5uZXJIZWlnaHQgLSAyMDAsIDgwMClcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHdpZHRoOiA4MDAsXHJcbiAgICAgIGhlaWdodDogNjAwXHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIC8vIFVwZGF0ZSBnYW1lIGxvb3Agb24gZ2FtZSBzdGF0ZSBjaGFuZ2VcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGNhbnZhc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aDtcclxuICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcclxuICAgICAgXHJcbiAgICAgIC8vIFN0YXJ0IGdhbWUgbG9vcFxyXG4gICAgICBpZiAoZ2FtZVN0YXRlID09PSBcInBsYXlpbmdcIikge1xyXG4gICAgICAgIGdhbWVMb29wUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGlmIChnYW1lTG9vcFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3BSZWYuY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW2dhbWVTdGF0ZV0pO1xyXG5cclxuICAvLyBSZW5kZXIgZ2FtZSBjb250cm9sc1xyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XHJcbiAgICAgIHtsb2FkaW5nID8gKFxyXG4gICAgICAgIDxMb2FkaW5nU2NyZWVuIHByb2dyZXNzPXtsb2FkaW5nUHJvZ3Jlc3N9IC8+XHJcbiAgICAgICkgOiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgIDxjYW52YXNcclxuICAgICAgICAgICAgcmVmPXtjYW52YXNSZWZ9XHJcbiAgICAgICAgICAgIHdpZHRoPXtjYW52YXNXaWR0aH1cclxuICAgICAgICAgICAgaGVpZ2h0PXtjYW52YXNIZWlnaHR9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItY3lhbi05MDAgcm91bmRlZC1sZyBzaGFkb3ctbGcgc2hhZG93LWN5YW4tNTAwLzIwXCJcclxuICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAge2dhbWVTdGF0ZSA9PT0gXCJtZW51XCIgJiYgcmVuZGVyTWVudSgpfVxyXG4gICAgICAgICAge2dhbWVTdGF0ZSA9PT0gXCJwYXVzZWRcIiAmJiByZW5kZXJQYXVzZVNjcmVlbigpfVxyXG4gICAgICAgICAge2dhbWVTdGF0ZSA9PT0gXCJnYW1lT3ZlclwiICYmIHJlbmRlckdhbWVPdmVyU2NyZWVuKCl9XHJcbiAgICAgICAgICB7cmVuZGVyR2FtZUNvbnRyb2xzKCl9XHJcblxyXG4gICAgICAgICAgey8qIFNob3cgdG91Y2ggY29udHJvbHMgb24gbW9iaWxlIGR1cmluZyBnYW1lcGxheSAqL31cclxuICAgICAgICAgIHtpc01vYmlsZSAmJiBnYW1lU3RhdGUgPT09IFwicGxheWluZ1wiICYmIChcclxuICAgICAgICAgICAgPFRvdWNoQ29udHJvbHNcclxuICAgICAgICAgICAgICBvbkRpcmVjdGlvbkNoYW5nZT17aGFuZGxlRGlyZWN0aW9uQ2hhbmdlfVxyXG4gICAgICAgICAgICAgIG9uQm9vc3RTdGFydD17KCkgPT4gc2V0SXNCb29zdGluZyh0cnVlKX1cclxuICAgICAgICAgICAgICBvbkJvb3N0RW5kPXsoKSA9PiBzZXRJc0Jvb3N0aW5nKGZhbHNlKX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC8+XHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJCdXR0b24iLCJQbGF5IiwiUGF1c2UiLCJSZWZyZXNoQ3ciLCJQYXJ0aWNsZVN5c3RlbSIsIlNuYWtlIiwiRm9vZCIsIkFJU25ha2UiLCJTZXR0aW5nc01hbmFnZXIiLCJBdWRpb1N5c3RlbSIsIlBvd2VyVXAiLCJBc3NldE1hbmFnZXIiLCJUcmFuc2l0aW9ucyIsIkxvYWRpbmdTY3JlZW4iLCJUb3VjaENvbnRyb2xzIiwidXNlTWVkaWFRdWVyeSIsIlNuYWtlR2FtZSIsImNhbnZhc1JlZiIsImdhbWVTdGF0ZSIsInNldEdhbWVTdGF0ZSIsInNjb3JlIiwic2V0U2NvcmUiLCJoaWdoU2NvcmUiLCJzZXRIaWdoU2NvcmUiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImxvYWRpbmdQcm9ncmVzcyIsInNldExvYWRpbmdQcm9ncmVzcyIsImdhbWVMb29wUmVmIiwicGxheWVyU25ha2VSZWYiLCJmb29kUmVmIiwiYWlTbmFrZXNSZWYiLCJwYXJ0aWNsZVN5c3RlbXNSZWYiLCJwb3dlclVwc1JlZiIsInNldHRpbmdzUmVmIiwiZ2V0SW5zdGFuY2UiLCJhdWRpb1JlZiIsImFzc2V0TWFuYWdlclJlZiIsImtleXNQcmVzc2VkIiwiU2V0IiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJpc01vYmlsZSIsInRvdWNoRGlyZWN0aW9uIiwic2V0VG91Y2hEaXJlY3Rpb24iLCJ4IiwieSIsImlzQm9vc3RpbmciLCJzZXRJc0Jvb3N0aW5nIiwiY29uc29sZSIsImxvZyIsImNhbnZhcyIsImN1cnJlbnQiLCJ3aWR0aCIsImhlaWdodCIsInNhdmVkSGlnaFNjb3JlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIk51bWJlciIsInBhcnNlSW50Iiwic2V0dGluZ3MiLCJnZXRTZXR0aW5ncyIsInNvdW5kRW5hYmxlZCIsInBsYXlNdXNpYyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVLZXlEb3duIiwiaGFuZGxlS2V5VXAiLCJjdHgiLCJnZXRDb250ZXh0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJkcmF3R3JpZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImxvYWRBc3NldHMiLCJsb2FkQWxsIiwiZXJyb3IiLCJ1cGRhdGVQcm9ncmVzcyIsImdldExvYWRpbmdQcm9ncmVzcyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImUiLCJhZGQiLCJrZXkiLCJ0b0xvd2VyQ2FzZSIsImdhbWVMb29wIiwic3RhcnRHYW1lIiwiZGVsZXRlIiwiY29sb3IiLCJoZWFkQ29sb3IiLCJpbml0aWFsTGVuZ3RoIiwiaW5pdGlhbEFuZ2xlIiwiTWF0aCIsIlBJIiwic3BlZWQiLCJyYW5kb20iLCJ0eXBlIiwiYmVoYXZpb3IiLCJwbGF5U291bmQiLCJwbGF5ZXJTbmFrZSIsInNlZ21lbnRzIiwiZm9vZCIsImxlbmd0aCIsImFpU25ha2VzIiwicmVuZGVyU3lzdGVtIiwiaW5wdXRTeXN0ZW0iLCJwaHlzaWNzU3lzdGVtIiwiY29sbGlzaW9uU3lzdGVtIiwiYWlTeXN0ZW0iLCJwYXJ0aWNsZVN5c3RlbSIsImh1ZFN5c3RlbSIsImRyYXciLCJhaVNuYWtlIiwidXBkYXRlIiwicG93ZXJVcCIsInBhcnRpY2xlcyIsImNoZWNrRm9vZENvbGxpc2lvbnMiLCJjaGVja1NuYWtlQ29sbGlzaW9ucyIsImNoZWNrUG93ZXJVcENvbGxpc2lvbnMiLCJ1cGRhdGVBSVNuYWtlcyIsInVwZGF0ZVBhcnRpY2xlcyIsImRyYXdIVUQiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImhhbmRsZUlucHV0IiwiaGFzIiwidHVybkxlZnQiLCJ0dXJuUmlnaHQiLCJib29zdCIsIm5vcm1hbFNwZWVkIiwicGxheWVySGVhZCIsImdldEhlYWQiLCJmaWx0ZXIiLCJkaXN0YW5jZSIsImh5cG90IiwicG9zaXRpb24iLCJyYWRpdXMiLCJwdXNoIiwicGFydGljbGVDb3VudCIsImxpZmV0aW1lIiwiZ3JvdyIsInZhbHVlIiwicHJldlNjb3JlIiwibmV3U2NvcmUiLCJzZXRJdGVtIiwidG9TdHJpbmciLCJzcGF3bkZvb2QiLCJjaGVja1NlbGZDb2xsaXNpb24iLCJnYW1lT3ZlciIsImNoZWNrQ29sbGlzaW9uV2l0aCIsImFpSGVhZCIsImNoZWNrQ29sbGlzaW9uV2l0aFBvaW50Iiwic25ha2UiLCJzZXRUaW1lb3V0Iiwic3Bhd25BSVNuYWtlIiwidXBkYXRlQUkiLCJ2YWxpZFBvc2l0aW9uIiwic2VnbWVudCIsImZvb2RUeXBlIiwiYW5nbGUiLCJzaWRlIiwiZmxvb3IiLCJiZWhhdmlvcnMiLCJjb2xvcnMiLCJzeXN0ZW0iLCJpc0RlYWQiLCJmb250IiwidGV4dEFsaWduIiwiZmlsbFRleHQiLCJhY3RpdmVQb3dlclVwcyIsImkiLCJmb3JFYWNoIiwiZW5kVGltZSIsIkRhdGUiLCJub3ciLCJ0aW1lTGVmdCIsImNlaWwiLCJ0b1VwcGVyQ2FzZSIsImhlYWQiLCJyZW5kZXJNZW51IiwiZGl2IiwiY2xhc3NOYW1lIiwiaDEiLCJvbkNsaWNrIiwicCIsInJlbmRlclBhdXNlU2NyZWVuIiwiaDIiLCJ2YXJpYW50IiwicmVuZGVyR2FtZU92ZXJTY3JlZW4iLCJyZW5kZXJHYW1lQ29udHJvbHMiLCJzaXplIiwic3Bhd25Qb3dlclVwIiwidHlwZXMiLCJyYW5kb21UeXBlIiwiY29sbGVjdFBvd2VyVXAiLCJwb3dlclVwSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJjaGFuZ2VHYW1lU3RhdGUiLCJuZXdTdGF0ZSIsImZhZGUiLCJoYW5kbGVSZXNpemUiLCJnZXRDYW52YXNEaW1lbnNpb25zIiwiaGFuZGxlRGlyZWN0aW9uQ2hhbmdlIiwiZGlyZWN0aW9uIiwidGFyZ2V0QW5nbGUiLCJhdGFuMiIsImN1cnJlbnRBbmdsZSIsImFuZ2xlRGlmZiIsIm5vcm1hbGl6ZWREaWZmIiwic2luIiwiY29zIiwibWluIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwicHJvZ3Jlc3MiLCJyZWYiLCJvbkRpcmVjdGlvbkNoYW5nZSIsIm9uQm9vc3RTdGFydCIsIm9uQm9vc3RFbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/game.tsx\n"));

/***/ })

});