"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/pause.js":
/*!***********************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/pause.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Pause; }\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst Pause = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"Pause\", [\n    [\n        \"rect\",\n        {\n            width: \"4\",\n            height: \"16\",\n            x: \"6\",\n            y: \"4\",\n            key: \"iffhe4\"\n        }\n    ],\n    [\n        \"rect\",\n        {\n            width: \"4\",\n            height: \"16\",\n            x: \"14\",\n            y: \"4\",\n            key: \"sjin7j\"\n        }\n    ]\n]);\n //# sourceMappingURL=pause.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvcGF1c2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFhTSxNQUFBQSxRQUFRQyxnRUFBZ0JBLENBQUMsU0FBUztJQUN0QztRQUFDO1FBQVE7WUFBRUMsT0FBTztZQUFLQyxRQUFRO1lBQU1DLEdBQUc7WUFBS0MsR0FBRztZQUFLQyxLQUFLO1FBQUE7S0FBVTtJQUNwRTtRQUFDO1FBQVE7WUFBRUosT0FBTztZQUFLQyxRQUFRO1lBQU1DLEdBQUc7WUFBTUMsR0FBRztZQUFLQyxLQUFLO1FBQUE7S0FBVTtDQUN0RSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vLi4vc3JjL2ljb25zL3BhdXNlLnRzPzJmYmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBQYXVzZVxuICogQGRlc2NyaXB0aW9uIEx1Y2lkZSBTVkcgaWNvbiBjb21wb25lbnQsIHJlbmRlcnMgU1ZHIEVsZW1lbnQgd2l0aCBjaGlsZHJlbi5cbiAqXG4gKiBAcHJldmlldyAhW2ltZ10oZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlBZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWdvZ0lIZHBaSFJvUFNJeU5DSUtJQ0JvWldsbmFIUTlJakkwSWdvZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSUtJQ0JtYVd4c1BTSnViMjVsSWdvZ0lITjBjbTlyWlQwaUl6QXdNQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ05tWm1ZN0lHSnZjbVJsY2kxeVlXUnBkWE02SURKd2VDSUtJQ0J6ZEhKdmEyVXRkMmxrZEdnOUlqSWlDaUFnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lnb2dJSE4wY205clpTMXNhVzVsYW05cGJqMGljbTkxYm1RaUNqNEtJQ0E4Y21WamRDQjNhV1IwYUQwaU5DSWdhR1ZwWjJoMFBTSXhOaUlnZUQwaU5pSWdlVDBpTkNJZ0x6NEtJQ0E4Y21WamRDQjNhV1IwYUQwaU5DSWdhR1ZwWjJoMFBTSXhOaUlnZUQwaU1UUWlJSGs5SWpRaUlDOCtDand2YzNablBnbz0pIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL3BhdXNlXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgUGF1c2UgPSBjcmVhdGVMdWNpZGVJY29uKCdQYXVzZScsIFtcbiAgWydyZWN0JywgeyB3aWR0aDogJzQnLCBoZWlnaHQ6ICcxNicsIHg6ICc2JywgeTogJzQnLCBrZXk6ICdpZmZoZTQnIH1dLFxuICBbJ3JlY3QnLCB7IHdpZHRoOiAnNCcsIGhlaWdodDogJzE2JywgeDogJzE0JywgeTogJzQnLCBrZXk6ICdzamluN2onIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IFBhdXNlO1xuIl0sIm5hbWVzIjpbIlBhdXNlIiwiY3JlYXRlTHVjaWRlSWNvbiIsIndpZHRoIiwiaGVpZ2h0IiwieCIsInkiLCJrZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/pause.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js":
/*!****************************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/refresh-cw.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ RefreshCw; }\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.300.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst RefreshCw = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"RefreshCw\", [\n    [\n        \"path\",\n        {\n            d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\",\n            key: \"v9h5vc\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M21 3v5h-5\",\n            key: \"1q7to0\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\",\n            key: \"3uifl3\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M8 16H3v5\",\n            key: \"1cv678\"\n        }\n    ]\n]);\n //# sourceMappingURL=refresh-cw.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvcmVmcmVzaC1jdy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQWFNLE1BQUFBLFlBQVlDLGdFQUFnQkEsQ0FBQyxhQUFhO0lBQzlDO1FBQUM7UUFBUTtZQUFFQyxHQUFHO1lBQXNEQyxLQUFLO1FBQUE7S0FBVTtJQUNuRjtRQUFDO1FBQVE7WUFBRUQsR0FBRztZQUFjQyxLQUFLO1FBQUE7S0FBVTtJQUMzQztRQUFDO1FBQVE7WUFBRUQsR0FBRztZQUF1REMsS0FBSztRQUFBO0tBQVU7SUFDcEY7UUFBQztRQUFRO1lBQUVELEdBQUc7WUFBYUMsS0FBSztRQUFBO0tBQVU7Q0FDM0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uLy4uLy4uL3NyYy9pY29ucy9yZWZyZXNoLWN3LnRzPzA5YWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbic7XG5cbi8qKlxuICogQGNvbXBvbmVudCBAbmFtZSBSZWZyZXNoQ3dcbiAqIEBkZXNjcmlwdGlvbiBMdWNpZGUgU1ZHIGljb24gY29tcG9uZW50LCByZW5kZXJzIFNWRyBFbGVtZW50IHdpdGggY2hpbGRyZW4uXG4gKlxuICogQHByZXZpZXcgIVtpbWddKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklnb2dJSGRwWkhSb1BTSXlOQ0lLSUNCb1pXbG5hSFE5SWpJMElnb2dJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lLSUNCbWFXeHNQU0p1YjI1bElnb2dJSE4wY205clpUMGlJekF3TUNJZ2MzUjViR1U5SW1KaFkydG5jbTkxYm1RdFkyOXNiM0k2SUNObVptWTdJR0p2Y21SbGNpMXlZV1JwZFhNNklESndlQ0lLSUNCemRISnZhMlV0ZDJsa2RHZzlJaklpQ2lBZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJZ29nSUhOMGNtOXJaUzFzYVc1bGFtOXBiajBpY205MWJtUWlDajRLSUNBOGNHRjBhQ0JrUFNKTk15QXhNbUU1SURrZ01DQXdJREVnT1MwNUlEa3VOelVnT1M0M05TQXdJREFnTVNBMkxqYzBJREl1TnpSTU1qRWdPQ0lnTHo0S0lDQThjR0YwYUNCa1BTSk5NakVnTTNZMWFDMDFJaUF2UGdvZ0lEeHdZWFJvSUdROUlrMHlNU0F4TW1FNUlEa2dNQ0F3SURFdE9TQTVJRGt1TnpVZ09TNDNOU0F3SURBZ01TMDJMamMwTFRJdU56Uk1NeUF4TmlJZ0x6NEtJQ0E4Y0dGMGFDQmtQU0pOT0NBeE5rZ3pkalVpSUM4K0Nqd3ZjM1puUGdvPSkgLSBodHRwczovL2x1Y2lkZS5kZXYvaWNvbnMvcmVmcmVzaC1jd1xuICogQHNlZSBodHRwczovL2x1Y2lkZS5kZXYvZ3VpZGUvcGFja2FnZXMvbHVjaWRlLXJlYWN0IC0gRG9jdW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIEx1Y2lkZSBpY29ucyBwcm9wcyBhbmQgYW55IHZhbGlkIFNWRyBhdHRyaWJ1dGVcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gSlNYIEVsZW1lbnRcbiAqXG4gKi9cbmNvbnN0IFJlZnJlc2hDdyA9IGNyZWF0ZUx1Y2lkZUljb24oJ1JlZnJlc2hDdycsIFtcbiAgWydwYXRoJywgeyBkOiAnTTMgMTJhOSA5IDAgMCAxIDktOSA5Ljc1IDkuNzUgMCAwIDEgNi43NCAyLjc0TDIxIDgnLCBrZXk6ICd2OWg1dmMnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNMjEgM3Y1aC01Jywga2V5OiAnMXE3dG8wJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTIxIDEyYTkgOSAwIDAgMS05IDkgOS43NSA5Ljc1IDAgMCAxLTYuNzQtMi43NEwzIDE2Jywga2V5OiAnM3VpZmwzJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTggMTZIM3Y1Jywga2V5OiAnMWN2Njc4JyB9XSxcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBSZWZyZXNoQ3c7XG4iXSwibmFtZXMiOlsiUmVmcmVzaEN3IiwiY3JlYXRlTHVjaWRlSWNvbiIsImQiLCJrZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/game.tsx":
/*!*****************************!*\
  !*** ./components/game.tsx ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ SnakeGame; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Pause,Play,RefreshCw!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=Pause,Play,RefreshCw!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Pause,Play,RefreshCw!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/pause.js\");\n/* harmony import */ var _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/particle-system */ \"(app-pages-browser)/./utils/particle-system.tsx\");\n/* harmony import */ var _utils_snake__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/utils/snake */ \"(app-pages-browser)/./utils/snake.tsx\");\n/* harmony import */ var _utils_food__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/utils/food */ \"(app-pages-browser)/./utils/food.tsx\");\n/* harmony import */ var _utils_ai_snake__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/utils/ai-snake */ \"(app-pages-browser)/./utils/ai-snake.tsx\");\n/* harmony import */ var _utils_settings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/utils/settings */ \"(app-pages-browser)/./utils/settings.tsx\");\n/* harmony import */ var _utils_audio_system__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/utils/audio-system */ \"(app-pages-browser)/./utils/audio-system.tsx\");\n/* harmony import */ var _utils_power_up__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/utils/power-up */ \"(app-pages-browser)/./utils/power-up.tsx\");\n/* harmony import */ var _utils_asset_manager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/utils/asset-manager */ \"(app-pages-browser)/./utils/asset-manager.tsx\");\n/* harmony import */ var _utils_transitions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/utils/transitions */ \"(app-pages-browser)/./utils/transitions.tsx\");\n/* harmony import */ var _hooks_use_media_query__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/hooks/use-media-query */ \"(app-pages-browser)/./hooks/use-media-query.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction SnakeGame() {\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"menu\");\n    const [score, setScore] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [highScore, setHighScore] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [loadingProgress, setLoadingProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Game loop reference to store animation frame ID\n    const gameLoopRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // Game objects references\n    const playerSnakeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const foodRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const aiSnakesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const particleSystemsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const powerUpsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const settingsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(_utils_settings__WEBPACK_IMPORTED_MODULE_7__.SettingsManager.getInstance());\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(_utils_audio_system__WEBPACK_IMPORTED_MODULE_8__.AudioSystem.getInstance());\n    const assetManagerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(_utils_asset_manager__WEBPACK_IMPORTED_MODULE_10__.AssetManager.getInstance());\n    // Input state\n    const keysPressed = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    // Canvas dimensions\n    const canvasWidth = 800;\n    const canvasHeight = 600;\n    // Add responsive state\n    const isMobile = (0,_hooks_use_media_query__WEBPACK_IMPORTED_MODULE_12__.useMediaQuery)(\"(max-width: 768px)\");\n    const [touchDirection, setTouchDirection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [isBoosting, setIsBoosting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Initialize game\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"Component mounted\");\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        canvas.width = canvasWidth;\n        canvas.height = canvasHeight;\n        console.log(\"Canvas initialized:\", {\n            width: canvasWidth,\n            height: canvasHeight\n        });\n        // Load high score from localStorage\n        const savedHighScore = localStorage.getItem(\"snakeHighScore\");\n        if (savedHighScore) {\n            setHighScore(Number.parseInt(savedHighScore));\n        }\n        // Load settings\n        const settings = settingsRef.current.getSettings();\n        // Start background music\n        if (settings.soundEnabled) {\n            audioRef.current.playMusic();\n        }\n        // Set up event listeners\n        window.addEventListener(\"keydown\", handleKeyDown);\n        window.addEventListener(\"keyup\", handleKeyUp);\n        // Draw initial grid\n        const ctx = canvas.getContext(\"2d\");\n        if (ctx) {\n            ctx.fillStyle = \"#000\";\n            ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n            drawGrid(ctx);\n        }\n        return ()=>{\n            window.removeEventListener(\"keydown\", handleKeyDown);\n            window.removeEventListener(\"keyup\", handleKeyUp);\n            cancelAnimationFrame(gameLoopRef.current);\n        };\n    }, []);\n    // Add loading effect\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadAssets = async ()=>{\n            try {\n                await assetManagerRef.current.loadAll();\n                setLoading(false);\n            } catch (error) {\n                console.error(\"Failed to load assets:\", error);\n            // Handle error appropriately\n            }\n        };\n        const updateProgress = ()=>{\n            setLoadingProgress(assetManagerRef.current.getLoadingProgress());\n            if (loading) {\n                requestAnimationFrame(updateProgress);\n            }\n        };\n        loadAssets();\n        updateProgress();\n    }, []);\n    // Handle key press\n    const handleKeyDown = (e)=>{\n        keysPressed.current.add(e.key.toLowerCase());\n        // Handle pause\n        if (e.key === \"Escape\" && gameState === \"playing\") {\n            setGameState(\"paused\");\n            cancelAnimationFrame(gameLoopRef.current);\n        } else if (e.key === \"Escape\" && gameState === \"paused\") {\n            setGameState(\"playing\");\n            gameLoopRef.current = requestAnimationFrame(gameLoop);\n        }\n        // Start game with space or enter\n        if ((e.key === \" \" || e.key === \"Enter\") && gameState === \"menu\") {\n            startGame();\n        }\n        // Restart game with R\n        if (e.key.toLowerCase() === \"r\" && gameState === \"gameOver\") {\n            startGame();\n        }\n    };\n    // Handle key release\n    const handleKeyUp = (e)=>{\n        keysPressed.current.delete(e.key.toLowerCase());\n    };\n    // Start a new game\n    const startGame = ()=>{\n        console.log(\"Starting game...\");\n        // Reset game objects\n        playerSnakeRef.current = new _utils_snake__WEBPACK_IMPORTED_MODULE_4__.Snake({\n            x: canvasWidth / 2,\n            y: canvasHeight / 2,\n            color: \"#0ff\",\n            headColor: \"#f0f\",\n            initialLength: 5,\n            initialAngle: Math.PI / 2,\n            speed: 2\n        });\n        console.log(\"Player snake created:\", playerSnakeRef.current);\n        // Initialize canvas dimensions\n        const canvas = canvasRef.current;\n        if (canvas) {\n            canvas.width = canvasWidth;\n            canvas.height = canvasHeight;\n            console.log(\"Canvas dimensions set:\", {\n                width: canvasWidth,\n                height: canvasHeight\n            });\n        }\n        foodRef.current = [\n            new _utils_food__WEBPACK_IMPORTED_MODULE_5__.Food({\n                x: Math.random() * (canvasWidth - 40) + 20,\n                y: Math.random() * (canvasHeight - 40) + 20,\n                type: \"regular\"\n            })\n        ];\n        aiSnakesRef.current = [\n            new _utils_ai_snake__WEBPACK_IMPORTED_MODULE_6__.AISnake({\n                x: 100,\n                y: 100,\n                color: \"#0f0\",\n                headColor: \"#ff0\",\n                initialLength: 3,\n                initialAngle: 0,\n                speed: 1.5,\n                behavior: \"passive\"\n            }),\n            new _utils_ai_snake__WEBPACK_IMPORTED_MODULE_6__.AISnake({\n                x: canvasWidth - 100,\n                y: canvasHeight - 100,\n                color: \"#f00\",\n                headColor: \"#f80\",\n                initialLength: 3,\n                initialAngle: Math.PI,\n                speed: 1.8,\n                behavior: \"aggressive\"\n            })\n        ];\n        particleSystemsRef.current = [];\n        // Reset power-ups\n        powerUpsRef.current = [];\n        // Reset score\n        setScore(0);\n        // Start game\n        setGameState(\"playing\");\n        console.log(\"Game state set to playing\");\n        gameLoopRef.current = requestAnimationFrame(gameLoop);\n        // Play start sound\n        audioRef.current.playSound(\"collect\");\n    };\n    // Main game loop\n    const gameLoop = ()=>{\n        const canvas = canvasRef.current;\n        if (!canvas) {\n            console.error(\"Canvas not found\");\n            return;\n        }\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) {\n            console.error(\"Context not found\");\n            return;\n        }\n        console.log(\"Game Loop Running\", {\n            gameState,\n            canvasWidth: canvas.width,\n            canvasHeight: canvas.height,\n            playerSnake: playerSnakeRef.current ? {\n                x: playerSnakeRef.current.segments[0].x,\n                y: playerSnakeRef.current.segments[0].y\n            } : null,\n            food: foodRef.current.length,\n            aiSnakes: aiSnakesRef.current.length\n        });\n        if (gameState !== \"playing\") return;\n        // Split into core systems\n        renderSystem(ctx);\n        inputSystem();\n        physicsSystem(canvas.width, canvas.height);\n        collisionSystem(ctx);\n        aiSystem(ctx);\n        particleSystem(ctx);\n        hudSystem(ctx);\n        // Continue game loop\n        gameLoopRef.current = requestAnimationFrame(gameLoop);\n    };\n    // 1. Rendering System\n    const renderSystem = (ctx)=>{\n        // Clear canvas\n        ctx.fillStyle = \"#000\";\n        ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n        // Draw grid\n        drawGrid(ctx);\n        // Draw game entities\n        if (playerSnakeRef.current) {\n            playerSnakeRef.current.draw(ctx);\n        }\n        // Draw AI snakes\n        for (const aiSnake of aiSnakesRef.current){\n            aiSnake.draw(ctx);\n        }\n        // Draw food\n        for (const food of foodRef.current){\n            food.update();\n            food.draw(ctx);\n        }\n        // Draw power-ups\n        for (const powerUp of powerUpsRef.current){\n            powerUp.update();\n            powerUp.draw(ctx);\n        }\n        // Draw particles\n        for (const particles of particleSystemsRef.current){\n            particles.draw(ctx);\n        }\n    };\n    // 3. Physics System\n    const physicsSystem = (width, height)=>{\n        if (playerSnakeRef.current) {\n            playerSnakeRef.current.update(width, height);\n        }\n        // Update AI snake positions\n        for (const aiSnake of aiSnakesRef.current){\n            aiSnake.update(width, height);\n        }\n    };\n    // 4. Collision System\n    const collisionSystem = (ctx)=>{\n        checkFoodCollisions(ctx);\n        checkSnakeCollisions();\n        checkPowerUpCollisions();\n    };\n    // 5. AI System\n    const aiSystem = (ctx)=>{\n        updateAISnakes(ctx);\n    };\n    // 6. Particle System\n    const particleSystem = (ctx)=>{\n        updateParticles(ctx);\n    };\n    // 7. HUD System\n    const hudSystem = (ctx)=>{\n        drawHUD(ctx);\n    };\n    // Draw grid lines for futuristic effect\n    const drawGrid = (ctx)=>{\n        ctx.strokeStyle = \"rgba(0, 255, 255, 0.1)\";\n        ctx.lineWidth = 1;\n        // Vertical lines\n        for(let x = 0; x <= canvasWidth; x += 40){\n            ctx.beginPath();\n            ctx.moveTo(x, 0);\n            ctx.lineTo(x, canvasHeight);\n            ctx.stroke();\n        }\n        // Horizontal lines\n        for(let y = 0; y <= canvasHeight; y += 40){\n            ctx.beginPath();\n            ctx.moveTo(0, y);\n            ctx.lineTo(canvasWidth, y);\n            ctx.stroke();\n        }\n    };\n    // Handle player input\n    const handleInput = ()=>{\n        if (!playerSnakeRef.current) return;\n        // Turn left with left arrow or A\n        if (keysPressed.current.has(\"arrowleft\") || keysPressed.current.has(\"a\")) {\n            playerSnakeRef.current.turnLeft();\n        }\n        // Turn right with right arrow or D\n        if (keysPressed.current.has(\"arrowright\") || keysPressed.current.has(\"d\")) {\n            playerSnakeRef.current.turnRight();\n        }\n        // Speed boost with up arrow or W\n        if (keysPressed.current.has(\"arrowup\") || keysPressed.current.has(\"w\")) {\n            playerSnakeRef.current.boost();\n        } else {\n            playerSnakeRef.current.normalSpeed();\n        }\n    };\n    // Check for food collisions\n    const checkFoodCollisions = (ctx)=>{\n        if (!playerSnakeRef.current) return;\n        const playerHead = playerSnakeRef.current.getHead();\n        foodRef.current = foodRef.current.filter((food)=>{\n            const distance = Math.hypot(playerHead.x - food.position.x, playerHead.y - food.position.y);\n            if (distance < playerHead.radius + food.radius) {\n                var // Grow snake\n                _playerSnakeRef_current;\n                // Create particle effect\n                particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                    x: food.position.x,\n                    y: food.position.y,\n                    color: food.color,\n                    particleCount: 20,\n                    lifetime: 30\n                }));\n                (_playerSnakeRef_current = playerSnakeRef.current) === null || _playerSnakeRef_current === void 0 ? void 0 : _playerSnakeRef_current.grow(food.value);\n                // Increase score\n                setScore((prevScore)=>{\n                    const newScore = prevScore + food.value * 10;\n                    // Update high score if needed\n                    if (newScore > highScore) {\n                        setHighScore(newScore);\n                        localStorage.setItem(\"snakeHighScore\", newScore.toString());\n                    }\n                    return newScore;\n                });\n                // Spawn new food\n                spawnFood();\n                return false;\n            }\n            return true;\n        });\n    };\n    // Check for snake collisions\n    const checkSnakeCollisions = ()=>{\n        if (!playerSnakeRef.current) return;\n        const playerHead = playerSnakeRef.current.getHead();\n        // Check collision with player's own body\n        if (playerSnakeRef.current.checkSelfCollision()) {\n            gameOver();\n            return;\n        }\n        // Check collision with AI snakes\n        for (const aiSnake of aiSnakesRef.current){\n            if (aiSnake.checkCollisionWith(playerHead)) {\n                gameOver();\n                return;\n            }\n            // Check if AI snake head collides with player body\n            const aiHead = aiSnake.getHead();\n            if (playerSnakeRef.current.checkCollisionWithPoint(aiHead)) {\n                // Create particle effect\n                particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                    x: aiHead.x,\n                    y: aiHead.y,\n                    color: aiSnake.color,\n                    particleCount: 30,\n                    lifetime: 40\n                }));\n                // Remove AI snake\n                aiSnakesRef.current = aiSnakesRef.current.filter((snake)=>snake !== aiSnake);\n                // Increase score\n                setScore((prevScore)=>prevScore + 50);\n                // Spawn new AI snake after delay\n                setTimeout(()=>{\n                    if (gameState === \"playing\") {\n                        spawnAISnake();\n                    }\n                }, 5000);\n            }\n        }\n    };\n    // Update and draw AI snakes\n    const updateAISnakes = (ctx)=>{\n        for (const aiSnake of aiSnakesRef.current){\n            // Update AI behavior\n            aiSnake.updateAI(foodRef.current, playerSnakeRef.current, aiSnakesRef.current.filter((snake)=>snake !== aiSnake), canvasWidth, canvasHeight);\n            // Update position\n            aiSnake.update(canvasWidth, canvasHeight);\n            // Draw snake\n            aiSnake.draw(ctx);\n            // Check for food collision\n            const aiHead = aiSnake.getHead();\n            foodRef.current = foodRef.current.filter((food)=>{\n                const distance = Math.hypot(aiHead.x - food.position.x, aiHead.y - food.position.y);\n                if (distance < aiHead.radius + food.radius) {\n                    // Create particle effect\n                    particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                        x: food.position.x,\n                        y: food.position.y,\n                        color: food.color,\n                        particleCount: 15,\n                        lifetime: 25\n                    }));\n                    // Grow snake\n                    aiSnake.grow(food.value);\n                    // Spawn new food\n                    spawnFood();\n                    return false;\n                }\n                return true;\n            });\n        }\n    };\n    // Spawn new food\n    const spawnFood = ()=>{\n        // Random position away from snakes\n        let validPosition = false;\n        let x, y;\n        while(!validPosition){\n            x = Math.random() * (canvasWidth - 40) + 20;\n            y = Math.random() * (canvasHeight - 40) + 20;\n            validPosition = true;\n            // Check distance from player snake\n            if (playerSnakeRef.current) {\n                for (const segment of playerSnakeRef.current.segments){\n                    const distance = Math.hypot(segment.x - x, segment.y - y);\n                    if (distance < 50) {\n                        validPosition = false;\n                        break;\n                    }\n                }\n            }\n            // Check distance from AI snakes\n            if (validPosition) {\n                for (const aiSnake of aiSnakesRef.current){\n                    for (const segment of aiSnake.segments){\n                        const distance = Math.hypot(segment.x - x, segment.y - y);\n                        if (distance < 50) {\n                            validPosition = false;\n                            break;\n                        }\n                    }\n                    if (!validPosition) break;\n                }\n            }\n        }\n        // Determine food type (10% chance for special food)\n        const foodType = Math.random() < 0.1 ? \"special\" : \"regular\";\n        // Create new food\n        foodRef.current.push(new _utils_food__WEBPACK_IMPORTED_MODULE_5__.Food({\n            x: x,\n            y: y,\n            type: foodType\n        }));\n    };\n    // Spawn new AI snake\n    const spawnAISnake = ()=>{\n        // Random position at the edge of the canvas\n        let x, y, angle;\n        const side = Math.floor(Math.random() * 4);\n        switch(side){\n            case 0:\n                x = Math.random() * canvasWidth;\n                y = 20;\n                angle = Math.PI / 2;\n                break;\n            case 1:\n                x = canvasWidth - 20;\n                y = Math.random() * canvasHeight;\n                angle = Math.PI;\n                break;\n            case 2:\n                x = Math.random() * canvasWidth;\n                y = canvasHeight - 20;\n                angle = -Math.PI / 2;\n                break;\n            case 3:\n                x = 20;\n                y = Math.random() * canvasHeight;\n                angle = 0;\n                break;\n        }\n        // Random behavior\n        const behaviors = [\n            \"passive\",\n            \"aggressive\",\n            \"territorial\"\n        ];\n        const behavior = behaviors[Math.floor(Math.random() * behaviors.length)];\n        // Random color (neon)\n        const colors = [\n            \"#0f0\",\n            \"#f00\",\n            \"#ff0\",\n            \"#f0f\",\n            \"#0ff\"\n        ];\n        const color = colors[Math.floor(Math.random() * colors.length)];\n        // Create new AI snake\n        aiSnakesRef.current.push(new _utils_ai_snake__WEBPACK_IMPORTED_MODULE_6__.AISnake({\n            x: x,\n            y: y,\n            color,\n            headColor: \"#fff\",\n            initialLength: 3,\n            initialAngle: angle,\n            speed: 1.5 + Math.random() * 0.5,\n            behavior\n        }));\n    };\n    // Update and draw particle systems\n    const updateParticles = (ctx)=>{\n        particleSystemsRef.current = particleSystemsRef.current.filter((system)=>{\n            system.update();\n            system.draw(ctx);\n            return !system.isDead();\n        });\n    };\n    // Draw HUD (score, etc.)\n    const drawHUD = (ctx)=>{\n        ctx.fillStyle = \"#fff\";\n        ctx.font = '20px \"Courier New\", monospace';\n        ctx.textAlign = \"left\";\n        ctx.fillText(\"SCORE: \".concat(score), 20, 30);\n        ctx.fillText(\"HIGH SCORE: \".concat(highScore), 20, 60);\n        // Draw active power-ups\n        if (playerSnakeRef.current) {\n            const activePowerUps = playerSnakeRef.current.activePowerUps;\n            let i = 0;\n            activePowerUps.forEach((endTime, type)=>{\n                if (Date.now() < endTime) {\n                    const timeLeft = Math.ceil((endTime - Date.now()) / 1000);\n                    ctx.fillStyle = \"#fff\";\n                    ctx.font = '16px \"Courier New\", monospace';\n                    ctx.fillText(\"\".concat(type.toUpperCase(), \": \").concat(timeLeft, \"s\"), 20, 100 + i * 25);\n                    i++;\n                }\n            });\n        }\n    };\n    // Game over\n    const gameOver = ()=>{\n        setGameState(\"gameOver\");\n        cancelAnimationFrame(gameLoopRef.current);\n        audioRef.current.playSound(\"gameover\");\n        // Create explosion effect at player head\n        if (playerSnakeRef.current) {\n            const head = playerSnakeRef.current.getHead();\n            particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                x: head.x,\n                y: head.y,\n                color: playerSnakeRef.current.headColor,\n                particleCount: 50,\n                lifetime: 60,\n                speed: 3\n            }));\n        }\n    };\n    const renderMenu = ()=>{\n        console.log(\"Rendering menu\");\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-80 z-10\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-5xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-600\",\n                    children: \"NEON SNAKE\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 691,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4 w-64\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            className: \"w-full bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-600 hover:to-purple-700\",\n                            onClick: ()=>{\n                                console.log(\"Start button clicked\");\n                                startGame();\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                    className: \"mr-2 h-4 w-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 702,\n                                    columnNumber: 13\n                                }, this),\n                                \"PLAY\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 695,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center text-gray-400 text-sm mt-8\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Use ARROW KEYS or WASD to control\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 706,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Press UP or W for speed boost\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 707,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 705,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 694,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 690,\n            columnNumber: 7\n        }, this);\n    };\n    // Render pause screen\n    const renderPauseScreen = ()=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-80 z-10\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-3xl font-bold mb-8 text-cyan-400\",\n                    children: \"PAUSED\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 718,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4 w-64\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            className: \"w-full bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-600 hover:to-purple-700\",\n                            onClick: ()=>{\n                                setGameState(\"playing\");\n                                gameLoopRef.current = requestAnimationFrame(gameLoop);\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                    className: \"mr-2 h-4 w-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 727,\n                                    columnNumber: 13\n                                }, this),\n                                \"RESUME\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 720,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            variant: \"outline\",\n                            className: \"w-full border-cyan-500 text-cyan-400 hover:bg-cyan-950\",\n                            onClick: ()=>setGameState(\"menu\"),\n                            children: \"MAIN MENU\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 730,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 719,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 717,\n            columnNumber: 7\n        }, this);\n    };\n    // Render game over screen\n    const renderGameOverScreen = ()=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-80 z-10\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-4xl font-bold mb-2 text-red-500\",\n                    children: \"GAME OVER\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 746,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-2xl mb-8 text-cyan-400\",\n                    children: [\n                        \"SCORE: \",\n                        score\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 747,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4 w-64\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            className: \"w-full bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-600 hover:to-purple-700\",\n                            onClick: startGame,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                    className: \"mr-2 h-4 w-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                                    lineNumber: 753,\n                                    columnNumber: 13\n                                }, this),\n                                \"PLAY AGAIN\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 749,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            variant: \"outline\",\n                            className: \"w-full border-cyan-500 text-cyan-400 hover:bg-cyan-950\",\n                            onClick: ()=>setGameState(\"menu\"),\n                            children: \"MAIN MENU\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                            lineNumber: 756,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 748,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 745,\n            columnNumber: 7\n        }, this);\n    };\n    // Render game controls\n    const renderGameControls = ()=>{\n        if (gameState !== \"playing\") return null;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute top-4 right-4 z-10\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                variant: \"outline\",\n                size: \"icon\",\n                className: \"border-cyan-500 text-cyan-400 hover:bg-cyan-950\",\n                onClick: ()=>{\n                    setGameState(\"paused\");\n                    cancelAnimationFrame(gameLoopRef.current);\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Pause_Play_RefreshCw_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                    className: \"h-4 w-4\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                    lineNumber: 783,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n                lineNumber: 774,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n            lineNumber: 773,\n            columnNumber: 7\n        }, this);\n    };\n    // Add power-up spawning\n    const spawnPowerUp = ()=>{\n        const types = [\n            \"speed\",\n            \"invulnerability\",\n            \"ghost\"\n        ];\n        const randomType = types[Math.floor(Math.random() * types.length)];\n        let validPosition = false;\n        let x, y;\n        while(!validPosition){\n            x = Math.random() * (canvasWidth - 40) + 20;\n            y = Math.random() * (canvasHeight - 40) + 20;\n            validPosition = true;\n            // Check distance from player and AI snakes\n            if (playerSnakeRef.current) {\n                for (const segment of playerSnakeRef.current.segments){\n                    const distance = Math.hypot(segment.x - x, segment.y - y);\n                    if (distance < 50) {\n                        validPosition = false;\n                        break;\n                    }\n                }\n            }\n            if (validPosition) {\n                for (const aiSnake of aiSnakesRef.current){\n                    for (const segment of aiSnake.segments){\n                        const distance = Math.hypot(segment.x - x, segment.y - y);\n                        if (distance < 50) {\n                            validPosition = false;\n                            break;\n                        }\n                    }\n                    if (!validPosition) break;\n                }\n            }\n        }\n        powerUpsRef.current.push(new _utils_power_up__WEBPACK_IMPORTED_MODULE_9__.PowerUp({\n            x: x,\n            y: y,\n            type: randomType\n        }));\n    };\n    // Check power-up collisions\n    const checkPowerUpCollisions = ()=>{\n        if (!playerSnakeRef.current) return;\n        const playerHead = playerSnakeRef.current.getHead();\n        powerUpsRef.current = powerUpsRef.current.filter((powerUp)=>{\n            const distance = Math.hypot(playerHead.x - powerUp.position.x, playerHead.y - powerUp.position.y);\n            if (distance < playerHead.radius + powerUp.radius) {\n                var // Apply power-up effect\n                _playerSnakeRef_current;\n                (_playerSnakeRef_current = playerSnakeRef.current) === null || _playerSnakeRef_current === void 0 ? void 0 : _playerSnakeRef_current.collectPowerUp(powerUp);\n                // Create particle effect\n                particleSystemsRef.current.push(new _utils_particle_system__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                    x: powerUp.position.x,\n                    y: powerUp.position.y,\n                    color: powerUp.color,\n                    particleCount: 30,\n                    lifetime: 40\n                }));\n                return false;\n            }\n            return true;\n        });\n    };\n    // Occasionally spawn power-ups\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameState !== \"playing\") return;\n        const powerUpInterval = setInterval(()=>{\n            if (Math.random() < 0.3 && powerUpsRef.current.length < 3) {\n                spawnPowerUp();\n            }\n        }, 10000) // Every 10 seconds\n        ;\n        return ()=>clearInterval(powerUpInterval);\n    }, [\n        gameState\n    ]);\n    // Update state transitions\n    const changeGameState = async (newState)=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return;\n        // Exit transition\n        await _utils_transitions__WEBPACK_IMPORTED_MODULE_11__.Transitions.fade(ctx, \"out\", 300);\n        setGameState(newState);\n        // Enter transition\n        await _utils_transitions__WEBPACK_IMPORTED_MODULE_11__.Transitions.fade(ctx, \"in\", 300);\n    };\n    // Update canvas size on window resize\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleResize = ()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const { width, height } = getCanvasDimensions();\n            canvas.width = width;\n            canvas.height = height;\n        };\n        window.addEventListener(\"resize\", handleResize);\n        handleResize(); // Initial size\n        return ()=>window.removeEventListener(\"resize\", handleResize);\n    }, [\n        isMobile\n    ]);\n    // Handle touch controls\n    const handleDirectionChange = (direction)=>{\n        setTouchDirection(direction);\n    };\n    // Update input system to handle both keyboard and touch\n    const inputSystem = ()=>{\n        if (!playerSnakeRef.current) return;\n        if (isMobile) {\n            // Convert touch direction to angle\n            if (touchDirection.x !== 0 || touchDirection.y !== 0) {\n                const targetAngle = Math.atan2(touchDirection.y, touchDirection.x);\n                const currentAngle = playerSnakeRef.current.angle;\n                // Smooth rotation towards target angle\n                const angleDiff = targetAngle - currentAngle;\n                const normalizedDiff = Math.atan2(Math.sin(angleDiff), Math.cos(angleDiff));\n                if (normalizedDiff > 0.1) {\n                    playerSnakeRef.current.turnRight();\n                } else if (normalizedDiff < -0.1) {\n                    playerSnakeRef.current.turnLeft();\n                }\n            }\n            // Handle boost\n            if (isBoosting) {\n                playerSnakeRef.current.boost();\n            } else {\n                playerSnakeRef.current.normalSpeed();\n            }\n        } else {\n            // Existing keyboard controls\n            handleInput();\n        }\n    };\n    // Add this function near the top of the component\n    const getCanvasDimensions = ()=>{\n        if (isMobile) {\n            return {\n                width: Math.min(window.innerWidth - 32, 600),\n                height: Math.min(window.innerHeight - 200, 800)\n            };\n        }\n        return {\n            width: 800,\n            height: 600\n        };\n    };\n    // Update game loop on game state change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (canvasRef.current) {\n            const canvas = canvasRef.current;\n            canvas.width = canvasWidth;\n            canvas.height = canvasHeight;\n            // Start game loop\n            if (gameState === \"playing\") {\n                gameLoopRef.current = requestAnimationFrame(gameLoop);\n            }\n        }\n        return ()=>{\n            if (gameLoopRef.current) {\n                cancelAnimationFrame(gameLoopRef.current);\n            }\n        };\n    }, [\n        gameState\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative h-full\"\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\Work\\\\Python Projects\\\\SNAAAKE\\\\components\\\\game.tsx\",\n        lineNumber: 988,\n        columnNumber: 5\n    }, this);\n}\n_s(SnakeGame, \"rmSfJqBspZ/5HVskNlRwcsTiVMA=\", false, function() {\n    return [\n        _hooks_use_media_query__WEBPACK_IMPORTED_MODULE_12__.useMediaQuery\n    ];\n});\n_c = SnakeGame;\nvar _c;\n$RefreshReg$(_c, \"SnakeGame\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTyxDQUFDaUYsV0FBVztZQUNwQztRQUNGLE9BQU87WUFDTCw2QkFBNkI7WUFDN0JMO1FBQ0Y7SUFDRjtJQUVBLGtEQUFrRDtJQUNsRCxNQUFNOEUsc0JBQXNCO1FBQzFCLElBQUlwSyxVQUFVO1lBQ1osT0FBTztnQkFDTFcsT0FBT3VDLEtBQUs0SCxHQUFHLENBQUN4SixPQUFPeUosVUFBVSxHQUFHLElBQUk7Z0JBQ3hDbkssUUFBUXNDLEtBQUs0SCxHQUFHLENBQUN4SixPQUFPMEosV0FBVyxHQUFHLEtBQUs7WUFDN0M7UUFDRjtRQUNBLE9BQU87WUFDTHJLLE9BQU87WUFDUEMsUUFBUTtRQUNWO0lBQ0Y7SUFFQSx3Q0FBd0M7SUFDeEN2RCxnREFBU0EsQ0FBQztRQUNSLElBQUlrQixVQUFVbUMsT0FBTyxFQUFFO1lBQ3JCLE1BQU1ELFNBQVNsQyxVQUFVbUMsT0FBTztZQUNoQ0QsT0FBT0UsS0FBSyxHQUFHYjtZQUNmVyxPQUFPRyxNQUFNLEdBQUdiO1lBRWhCLGtCQUFrQjtZQUNsQixJQUFJdkIsY0FBYyxXQUFXO2dCQUMzQlUsWUFBWXdCLE9BQU8sR0FBRzRCLHNCQUFzQks7WUFDOUM7UUFDRjtRQUVBLE9BQU87WUFDTCxJQUFJekQsWUFBWXdCLE9BQU8sRUFBRTtnQkFDdkJzQixxQkFBcUI5QyxZQUFZd0IsT0FBTztZQUMxQztRQUNGO0lBQ0YsR0FBRztRQUFDbEM7S0FBVTtJQUVkLHFCQUNFLDhEQUFDc0s7UUFBSUMsV0FBVTs7Ozs7O0FBSW5CO0dBMThCd0J6Szs7UUE2QkxELGtFQUFhQTs7O0tBN0JSQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL2dhbWUudHN4P2RmZmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcclxuXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiXHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCJcclxuaW1wb3J0IHsgUGxheSwgUGF1c2UsIFJlZnJlc2hDdyB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIlxyXG5pbXBvcnQgUGFydGljbGVTeXN0ZW0gZnJvbSBcIkAvdXRpbHMvcGFydGljbGUtc3lzdGVtXCJcclxuaW1wb3J0IHsgU25ha2UgfSBmcm9tIFwiQC91dGlscy9zbmFrZVwiXHJcbmltcG9ydCB7IEZvb2QgfSBmcm9tIFwiQC91dGlscy9mb29kXCJcclxuaW1wb3J0IHsgQUlTbmFrZSB9IGZyb20gXCJAL3V0aWxzL2FpLXNuYWtlXCJcclxuaW1wb3J0IHsgU2V0dGluZ3NNYW5hZ2VyIH0gZnJvbSBcIkAvdXRpbHMvc2V0dGluZ3NcIlxyXG5pbXBvcnQgeyBBdWRpb1N5c3RlbSB9IGZyb20gXCJAL3V0aWxzL2F1ZGlvLXN5c3RlbVwiXHJcbmltcG9ydCB7IFBvd2VyVXAsIFBvd2VyVXBUeXBlIH0gZnJvbSBcIkAvdXRpbHMvcG93ZXItdXBcIlxyXG5pbXBvcnQgeyBBc3NldE1hbmFnZXIgfSBmcm9tIFwiQC91dGlscy9hc3NldC1tYW5hZ2VyXCJcclxuaW1wb3J0IHsgVHJhbnNpdGlvbnMgfSBmcm9tIFwiQC91dGlscy90cmFuc2l0aW9uc1wiXHJcbmltcG9ydCB7IExvYWRpbmdTY3JlZW4gfSBmcm9tIFwiQC9jb21wb25lbnRzL2xvYWRpbmctc2NyZWVuXCJcclxuaW1wb3J0IHsgVG91Y2hDb250cm9scyB9IGZyb20gXCJAL2NvbXBvbmVudHMvdG91Y2gtY29udHJvbHNcIlxyXG5pbXBvcnQgeyB1c2VNZWRpYVF1ZXJ5IH0gZnJvbSBcIkAvaG9va3MvdXNlLW1lZGlhLXF1ZXJ5XCJcclxuXHJcbi8vIEdhbWUgc3RhdGVzXHJcbnR5cGUgR2FtZVN0YXRlID0gXCJtZW51XCIgfCBcInBsYXlpbmdcIiB8IFwicGF1c2VkXCIgfCBcImdhbWVPdmVyXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNuYWtlR2FtZSgpIHtcclxuICAgIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZjxIVE1MQ2FudmFzRWxlbWVudD4obnVsbClcclxuICAgIGNvbnN0IFtnYW1lU3RhdGUsIHNldEdhbWVTdGF0ZV0gPSB1c2VTdGF0ZTxHYW1lU3RhdGU+KFwibWVudVwiKVxyXG4gICAgY29uc3QgW3Njb3JlLCBzZXRTY29yZV0gPSB1c2VTdGF0ZSgwKVxyXG4gICAgY29uc3QgW2hpZ2hTY29yZSwgc2V0SGlnaFNjb3JlXSA9IHVzZVN0YXRlKDApXHJcbiAgICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKVxyXG4gICAgY29uc3QgW2xvYWRpbmdQcm9ncmVzcywgc2V0TG9hZGluZ1Byb2dyZXNzXSA9IHVzZVN0YXRlKDApXHJcblxyXG4gIC8vIEdhbWUgbG9vcCByZWZlcmVuY2UgdG8gc3RvcmUgYW5pbWF0aW9uIGZyYW1lIElEXHJcbiAgICBjb25zdCBnYW1lTG9vcFJlZiA9IHVzZVJlZjxudW1iZXI+KDApXHJcblxyXG4gIC8vIEdhbWUgb2JqZWN0cyByZWZlcmVuY2VzXHJcbiAgICBjb25zdCBwbGF5ZXJTbmFrZVJlZiA9IHVzZVJlZjxTbmFrZSB8IG51bGw+KG51bGwpXHJcbiAgICBjb25zdCBmb29kUmVmID0gdXNlUmVmPEZvb2RbXT4oW10pXHJcbiAgICBjb25zdCBhaVNuYWtlc1JlZiA9IHVzZVJlZjxBSVNuYWtlW10+KFtdKVxyXG4gICAgY29uc3QgcGFydGljbGVTeXN0ZW1zUmVmID0gdXNlUmVmPFBhcnRpY2xlU3lzdGVtW10+KFtdKVxyXG4gICAgY29uc3QgcG93ZXJVcHNSZWYgPSB1c2VSZWY8UG93ZXJVcFtdPihbXSlcclxuICAgIGNvbnN0IHNldHRpbmdzUmVmID0gdXNlUmVmPFNldHRpbmdzTWFuYWdlcj4oU2V0dGluZ3NNYW5hZ2VyLmdldEluc3RhbmNlKCkpXHJcbiAgICBjb25zdCBhdWRpb1JlZiA9IHVzZVJlZjxBdWRpb1N5c3RlbT4oQXVkaW9TeXN0ZW0uZ2V0SW5zdGFuY2UoKSlcclxuICAgIGNvbnN0IGFzc2V0TWFuYWdlclJlZiA9IHVzZVJlZjxBc3NldE1hbmFnZXI+KEFzc2V0TWFuYWdlci5nZXRJbnN0YW5jZSgpKVxyXG5cclxuICAvLyBJbnB1dCBzdGF0ZVxyXG4gICAgY29uc3Qga2V5c1ByZXNzZWQgPSB1c2VSZWY8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSlcclxuXHJcbiAgLy8gQ2FudmFzIGRpbWVuc2lvbnNcclxuICAgIGNvbnN0IGNhbnZhc1dpZHRoID0gODAwXHJcbiAgICBjb25zdCBjYW52YXNIZWlnaHQgPSA2MDBcclxuXHJcbiAgLy8gQWRkIHJlc3BvbnNpdmUgc3RhdGVcclxuICBjb25zdCBpc01vYmlsZSA9IHVzZU1lZGlhUXVlcnkoXCIobWF4LXdpZHRoOiA3NjhweClcIilcclxuICBjb25zdCBbdG91Y2hEaXJlY3Rpb24sIHNldFRvdWNoRGlyZWN0aW9uXSA9IHVzZVN0YXRlKHsgeDogMCwgeTogMCB9KVxyXG4gIGNvbnN0IFtpc0Jvb3N0aW5nLCBzZXRJc0Jvb3N0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG5cclxuICAvLyBJbml0aWFsaXplIGdhbWVcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnQ29tcG9uZW50IG1vdW50ZWQnKTtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50XHJcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuXHJcblxyXG4gICAgY2FudmFzLndpZHRoID0gY2FudmFzV2lkdGhcclxuICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHRcclxuICAgIGNvbnNvbGUubG9nKCdDYW52YXMgaW5pdGlhbGl6ZWQ6JywgeyB3aWR0aDogY2FudmFzV2lkdGgsIGhlaWdodDogY2FudmFzSGVpZ2h0IH0pO1xyXG5cclxuICAgIC8vIExvYWQgaGlnaCBzY29yZSBmcm9tIGxvY2FsU3RvcmFnZVxyXG4gICAgY29uc3Qgc2F2ZWRIaWdoU2NvcmUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNuYWtlSGlnaFNjb3JlXCIpXHJcbiAgICBpZiAoc2F2ZWRIaWdoU2NvcmUpIHtcclxuICAgICAgc2V0SGlnaFNjb3JlKE51bWJlci5wYXJzZUludChzYXZlZEhpZ2hTY29yZSkpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gTG9hZCBzZXR0aW5nc1xyXG4gICAgY29uc3Qgc2V0dGluZ3MgPSBzZXR0aW5nc1JlZi5jdXJyZW50LmdldFNldHRpbmdzKClcclxuICAgIFxyXG4gICAgLy8gU3RhcnQgYmFja2dyb3VuZCBtdXNpY1xyXG4gICAgaWYgKHNldHRpbmdzLnNvdW5kRW5hYmxlZCkge1xyXG4gICAgICBhdWRpb1JlZi5jdXJyZW50LnBsYXlNdXNpYygpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHVwIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGhhbmRsZUtleVVwKVxyXG5cclxuICAgIC8vIERyYXcgaW5pdGlhbCBncmlkXHJcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgIGlmIChjdHgpIHtcclxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDAwJztcclxuICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xyXG4gICAgICBkcmF3R3JpZChjdHgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKVxyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGhhbmRsZUtleVVwKVxyXG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShnYW1lTG9vcFJlZi5jdXJyZW50KVxyXG4gICAgfVxyXG4gIH0sIFtdKVxyXG5cclxuICAvLyBBZGQgbG9hZGluZyBlZmZlY3RcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgbG9hZEFzc2V0cyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBhc3NldE1hbmFnZXJSZWYuY3VycmVudC5sb2FkQWxsKClcclxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGFzc2V0czonLCBlcnJvcilcclxuICAgICAgICAvLyBIYW5kbGUgZXJyb3IgYXBwcm9wcmlhdGVseVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXBkYXRlUHJvZ3Jlc3MgPSAoKSA9PiB7XHJcbiAgICAgIHNldExvYWRpbmdQcm9ncmVzcyhhc3NldE1hbmFnZXJSZWYuY3VycmVudC5nZXRMb2FkaW5nUHJvZ3Jlc3MoKSlcclxuICAgICAgaWYgKGxvYWRpbmcpIHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlUHJvZ3Jlc3MpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsb2FkQXNzZXRzKClcclxuICAgIHVwZGF0ZVByb2dyZXNzKClcclxuICB9LCBbXSlcclxuXHJcbiAgLy8gSGFuZGxlIGtleSBwcmVzc1xyXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAga2V5c1ByZXNzZWQuY3VycmVudC5hZGQoZS5rZXkudG9Mb3dlckNhc2UoKSlcclxuXHJcbiAgICAvLyBIYW5kbGUgcGF1c2VcclxuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIiAmJiBnYW1lU3RhdGUgPT09IFwicGxheWluZ1wiKSB7XHJcbiAgICAgIHNldEdhbWVTdGF0ZShcInBhdXNlZFwiKVxyXG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShnYW1lTG9vcFJlZi5jdXJyZW50KVxyXG4gICAgfSBlbHNlIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIiAmJiBnYW1lU3RhdGUgPT09IFwicGF1c2VkXCIpIHtcclxuICAgICAgc2V0R2FtZVN0YXRlKFwicGxheWluZ1wiKVxyXG4gICAgICBnYW1lTG9vcFJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFN0YXJ0IGdhbWUgd2l0aCBzcGFjZSBvciBlbnRlclxyXG4gICAgaWYgKChlLmtleSA9PT0gXCIgXCIgfHwgZS5rZXkgPT09IFwiRW50ZXJcIikgJiYgZ2FtZVN0YXRlID09PSBcIm1lbnVcIikge1xyXG4gICAgICBzdGFydEdhbWUoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlc3RhcnQgZ2FtZSB3aXRoIFJcclxuICAgIGlmIChlLmtleS50b0xvd2VyQ2FzZSgpID09PSBcInJcIiAmJiBnYW1lU3RhdGUgPT09IFwiZ2FtZU92ZXJcIikge1xyXG4gICAgICBzdGFydEdhbWUoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gSGFuZGxlIGtleSByZWxlYXNlXHJcbiAgY29uc3QgaGFuZGxlS2V5VXAgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAga2V5c1ByZXNzZWQuY3VycmVudC5kZWxldGUoZS5rZXkudG9Mb3dlckNhc2UoKSlcclxuICB9XHJcblxyXG4gIC8vIFN0YXJ0IGEgbmV3IGdhbWVcclxuICBjb25zdCBzdGFydEdhbWUgPSAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgZ2FtZS4uLicpO1xyXG4gICAgXHJcbiAgICAvLyBSZXNldCBnYW1lIG9iamVjdHNcclxuICAgIHBsYXllclNuYWtlUmVmLmN1cnJlbnQgPSBuZXcgU25ha2Uoe1xyXG4gICAgICB4OiBjYW52YXNXaWR0aCAvIDIsXHJcbiAgICAgIHk6IGNhbnZhc0hlaWdodCAvIDIsXHJcbiAgICAgIGNvbG9yOiBcIiMwZmZcIixcclxuICAgICAgaGVhZENvbG9yOiBcIiNmMGZcIixcclxuICAgICAgaW5pdGlhbExlbmd0aDogNSxcclxuICAgICAgaW5pdGlhbEFuZ2xlOiBNYXRoLlBJIC8gMixcclxuICAgICAgc3BlZWQ6IDIsXHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKCdQbGF5ZXIgc25ha2UgY3JlYXRlZDonLCBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50KTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIGNhbnZhcyBkaW1lbnNpb25zXHJcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcclxuICAgIGlmIChjYW52YXMpIHtcclxuICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7XHJcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDYW52YXMgZGltZW5zaW9ucyBzZXQ6JywgeyB3aWR0aDogY2FudmFzV2lkdGgsIGhlaWdodDogY2FudmFzSGVpZ2h0IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvb2RSZWYuY3VycmVudCA9IFtcclxuICAgICAgbmV3IEZvb2Qoe1xyXG4gICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiAoY2FudmFzV2lkdGggLSA0MCkgKyAyMCxcclxuICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogKGNhbnZhc0hlaWdodCAtIDQwKSArIDIwLFxyXG4gICAgICAgIHR5cGU6IFwicmVndWxhclwiLFxyXG4gICAgICB9KSxcclxuICAgIF1cclxuXHJcbiAgICBhaVNuYWtlc1JlZi5jdXJyZW50ID0gW1xyXG4gICAgICBuZXcgQUlTbmFrZSh7XHJcbiAgICAgICAgeDogMTAwLFxyXG4gICAgICAgIHk6IDEwMCxcclxuICAgICAgICBjb2xvcjogXCIjMGYwXCIsXHJcbiAgICAgICAgaGVhZENvbG9yOiBcIiNmZjBcIixcclxuICAgICAgICBpbml0aWFsTGVuZ3RoOiAzLFxyXG4gICAgICAgIGluaXRpYWxBbmdsZTogMCxcclxuICAgICAgICBzcGVlZDogMS41LFxyXG4gICAgICAgIGJlaGF2aW9yOiBcInBhc3NpdmVcIixcclxuICAgICAgfSksXHJcbiAgICAgIG5ldyBBSVNuYWtlKHtcclxuICAgICAgICB4OiBjYW52YXNXaWR0aCAtIDEwMCxcclxuICAgICAgICB5OiBjYW52YXNIZWlnaHQgLSAxMDAsXHJcbiAgICAgICAgY29sb3I6IFwiI2YwMFwiLFxyXG4gICAgICAgIGhlYWRDb2xvcjogXCIjZjgwXCIsXHJcbiAgICAgICAgaW5pdGlhbExlbmd0aDogMyxcclxuICAgICAgICBpbml0aWFsQW5nbGU6IE1hdGguUEksXHJcbiAgICAgICAgc3BlZWQ6IDEuOCxcclxuICAgICAgICBiZWhhdmlvcjogXCJhZ2dyZXNzaXZlXCIsXHJcbiAgICAgIH0pLFxyXG4gICAgXVxyXG5cclxuICAgIHBhcnRpY2xlU3lzdGVtc1JlZi5jdXJyZW50ID0gW11cclxuXHJcbiAgICAvLyBSZXNldCBwb3dlci11cHNcclxuICAgIHBvd2VyVXBzUmVmLmN1cnJlbnQgPSBbXVxyXG5cclxuICAgIC8vIFJlc2V0IHNjb3JlXHJcbiAgICBzZXRTY29yZSgwKVxyXG5cclxuICAgIC8vIFN0YXJ0IGdhbWVcclxuICAgIHNldEdhbWVTdGF0ZShcInBsYXlpbmdcIilcclxuICAgIGNvbnNvbGUubG9nKCdHYW1lIHN0YXRlIHNldCB0byBwbGF5aW5nJylcclxuICAgIGdhbWVMb29wUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApXHJcbiAgICBcclxuICAgIC8vIFBsYXkgc3RhcnQgc291bmRcclxuICAgIGF1ZGlvUmVmLmN1cnJlbnQucGxheVNvdW5kKFwiY29sbGVjdFwiKVxyXG4gIH1cclxuXHJcbiAgLy8gTWFpbiBnYW1lIGxvb3BcclxuICBjb25zdCBnYW1lTG9vcCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFjYW52YXMpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQ2FudmFzIG5vdCBmb3VuZCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICBpZiAoIWN0eCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdDb250ZXh0IG5vdCBmb3VuZCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0dhbWUgTG9vcCBSdW5uaW5nJywge1xyXG4gICAgICBnYW1lU3RhdGUsXHJcbiAgICAgIGNhbnZhc1dpZHRoOiBjYW52YXMud2lkdGgsXHJcbiAgICAgIGNhbnZhc0hlaWdodDogY2FudmFzLmhlaWdodCxcclxuICAgICAgcGxheWVyU25ha2U6IHBsYXllclNuYWtlUmVmLmN1cnJlbnQgPyB7XHJcbiAgICAgICAgeDogcGxheWVyU25ha2VSZWYuY3VycmVudC5zZWdtZW50c1swXS54LFxyXG4gICAgICAgIHk6IHBsYXllclNuYWtlUmVmLmN1cnJlbnQuc2VnbWVudHNbMF0ueVxyXG4gICAgICB9IDogbnVsbCxcclxuICAgICAgZm9vZDogZm9vZFJlZi5jdXJyZW50Lmxlbmd0aCxcclxuICAgICAgYWlTbmFrZXM6IGFpU25ha2VzUmVmLmN1cnJlbnQubGVuZ3RoXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoZ2FtZVN0YXRlICE9PSBcInBsYXlpbmdcIikgcmV0dXJuXHJcbiAgICBcclxuICAgIC8vIFNwbGl0IGludG8gY29yZSBzeXN0ZW1zXHJcbiAgICByZW5kZXJTeXN0ZW0oY3R4KVxyXG4gICAgaW5wdXRTeXN0ZW0oKVxyXG4gICAgcGh5c2ljc1N5c3RlbShjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpXHJcbiAgICBjb2xsaXNpb25TeXN0ZW0oY3R4KVxyXG4gICAgYWlTeXN0ZW0oY3R4KVxyXG4gICAgcGFydGljbGVTeXN0ZW0oY3R4KVxyXG4gICAgaHVkU3lzdGVtKGN0eClcclxuXHJcbiAgICAvLyBDb250aW51ZSBnYW1lIGxvb3BcclxuICAgIGdhbWVMb29wUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApXHJcbiAgfVxyXG5cclxuICAvLyAxLiBSZW5kZXJpbmcgU3lzdGVtXHJcbiAgY29uc3QgcmVuZGVyU3lzdGVtID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAvLyBDbGVhciBjYW52YXNcclxuICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwMCc7XHJcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XHJcbiAgICBcclxuICAgIC8vIERyYXcgZ3JpZFxyXG4gICAgZHJhd0dyaWQoY3R4KTtcclxuXHJcbiAgICAvLyBEcmF3IGdhbWUgZW50aXRpZXNcclxuICAgIGlmIChwbGF5ZXJTbmFrZVJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHBsYXllclNuYWtlUmVmLmN1cnJlbnQuZHJhdyhjdHgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERyYXcgQUkgc25ha2VzXHJcbiAgICBmb3IgKGNvbnN0IGFpU25ha2Ugb2YgYWlTbmFrZXNSZWYuY3VycmVudCkge1xyXG4gICAgICBhaVNuYWtlLmRyYXcoY3R4KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRHJhdyBmb29kXHJcbiAgICBmb3IgKGNvbnN0IGZvb2Qgb2YgZm9vZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGZvb2QudXBkYXRlKCk7XHJcbiAgICAgIGZvb2QuZHJhdyhjdHgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERyYXcgcG93ZXItdXBzXHJcbiAgICBmb3IgKGNvbnN0IHBvd2VyVXAgb2YgcG93ZXJVcHNSZWYuY3VycmVudCkge1xyXG4gICAgICBwb3dlclVwLnVwZGF0ZSgpO1xyXG4gICAgICBwb3dlclVwLmRyYXcoY3R4KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEcmF3IHBhcnRpY2xlc1xyXG4gICAgZm9yIChjb25zdCBwYXJ0aWNsZXMgb2YgcGFydGljbGVTeXN0ZW1zUmVmLmN1cnJlbnQpIHtcclxuICAgICAgcGFydGljbGVzLmRyYXcoY3R4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIDMuIFBoeXNpY3MgU3lzdGVtXHJcbiAgY29uc3QgcGh5c2ljc1N5c3RlbSA9ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgaWYgKHBsYXllclNuYWtlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgcGxheWVyU25ha2VSZWYuY3VycmVudC51cGRhdGUod2lkdGgsIGhlaWdodClcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgQUkgc25ha2UgcG9zaXRpb25zXHJcbiAgICBmb3IgKGNvbnN0IGFpU25ha2Ugb2YgYWlTbmFrZXNSZWYuY3VycmVudCkge1xyXG4gICAgICBhaVNuYWtlLnVwZGF0ZSh3aWR0aCwgaGVpZ2h0KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gNC4gQ29sbGlzaW9uIFN5c3RlbVxyXG4gIGNvbnN0IGNvbGxpc2lvblN5c3RlbSA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgY2hlY2tGb29kQ29sbGlzaW9ucyhjdHgpXHJcbiAgICBjaGVja1NuYWtlQ29sbGlzaW9ucygpXHJcbiAgICBjaGVja1Bvd2VyVXBDb2xsaXNpb25zKClcclxuICB9XHJcblxyXG4gIC8vIDUuIEFJIFN5c3RlbVxyXG4gIGNvbnN0IGFpU3lzdGVtID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICB1cGRhdGVBSVNuYWtlcyhjdHgpXHJcbiAgfVxyXG5cclxuICAvLyA2LiBQYXJ0aWNsZSBTeXN0ZW1cclxuICBjb25zdCBwYXJ0aWNsZVN5c3RlbSA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgdXBkYXRlUGFydGljbGVzKGN0eClcclxuICB9XHJcblxyXG4gIC8vIDcuIEhVRCBTeXN0ZW1cclxuICBjb25zdCBodWRTeXN0ZW0gPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgIGRyYXdIVUQoY3R4KVxyXG4gIH1cclxuXHJcbiAgLy8gRHJhdyBncmlkIGxpbmVzIGZvciBmdXR1cmlzdGljIGVmZmVjdFxyXG4gIGNvbnN0IGRyYXdHcmlkID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcInJnYmEoMCwgMjU1LCAyNTUsIDAuMSlcIlxyXG4gICAgY3R4LmxpbmVXaWR0aCA9IDFcclxuXHJcbiAgICAvLyBWZXJ0aWNhbCBsaW5lc1xyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPD0gY2FudmFzV2lkdGg7IHggKz0gNDApIHtcclxuICAgICAgY3R4LmJlZ2luUGF0aCgpXHJcbiAgICAgIGN0eC5tb3ZlVG8oeCwgMClcclxuICAgICAgY3R4LmxpbmVUbyh4LCBjYW52YXNIZWlnaHQpXHJcbiAgICAgIGN0eC5zdHJva2UoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEhvcml6b250YWwgbGluZXNcclxuICAgIGZvciAobGV0IHkgPSAwOyB5IDw9IGNhbnZhc0hlaWdodDsgeSArPSA0MCkge1xyXG4gICAgICBjdHguYmVnaW5QYXRoKClcclxuICAgICAgY3R4Lm1vdmVUbygwLCB5KVxyXG4gICAgICBjdHgubGluZVRvKGNhbnZhc1dpZHRoLCB5KVxyXG4gICAgICBjdHguc3Ryb2tlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEhhbmRsZSBwbGF5ZXIgaW5wdXRcclxuICBjb25zdCBoYW5kbGVJbnB1dCA9ICgpID0+IHtcclxuICAgIGlmICghcGxheWVyU25ha2VSZWYuY3VycmVudCkgcmV0dXJuXHJcblxyXG4gICAgLy8gVHVybiBsZWZ0IHdpdGggbGVmdCBhcnJvdyBvciBBXHJcbiAgICBpZiAoa2V5c1ByZXNzZWQuY3VycmVudC5oYXMoXCJhcnJvd2xlZnRcIikgfHwga2V5c1ByZXNzZWQuY3VycmVudC5oYXMoXCJhXCIpKSB7XHJcbiAgICAgIHBsYXllclNuYWtlUmVmLmN1cnJlbnQudHVybkxlZnQoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFR1cm4gcmlnaHQgd2l0aCByaWdodCBhcnJvdyBvciBEXHJcbiAgICBpZiAoa2V5c1ByZXNzZWQuY3VycmVudC5oYXMoXCJhcnJvd3JpZ2h0XCIpIHx8IGtleXNQcmVzc2VkLmN1cnJlbnQuaGFzKFwiZFwiKSkge1xyXG4gICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LnR1cm5SaWdodCgpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3BlZWQgYm9vc3Qgd2l0aCB1cCBhcnJvdyBvciBXXHJcbiAgICBpZiAoa2V5c1ByZXNzZWQuY3VycmVudC5oYXMoXCJhcnJvd3VwXCIpIHx8IGtleXNQcmVzc2VkLmN1cnJlbnQuaGFzKFwid1wiKSkge1xyXG4gICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LmJvb3N0KClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHBsYXllclNuYWtlUmVmLmN1cnJlbnQubm9ybWFsU3BlZWQoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgZm9yIGZvb2QgY29sbGlzaW9uc1xyXG4gIGNvbnN0IGNoZWNrRm9vZENvbGxpc2lvbnMgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgIGlmICghcGxheWVyU25ha2VSZWYuY3VycmVudCkgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgcGxheWVySGVhZCA9IHBsYXllclNuYWtlUmVmLmN1cnJlbnQuZ2V0SGVhZCgpXHJcblxyXG4gICAgZm9vZFJlZi5jdXJyZW50ID0gZm9vZFJlZi5jdXJyZW50LmZpbHRlcigoZm9vZCkgPT4ge1xyXG4gICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguaHlwb3QocGxheWVySGVhZC54IC0gZm9vZC5wb3NpdGlvbi54LCBwbGF5ZXJIZWFkLnkgLSBmb29kLnBvc2l0aW9uLnkpXHJcblxyXG4gICAgICBpZiAoZGlzdGFuY2UgPCBwbGF5ZXJIZWFkLnJhZGl1cyArIGZvb2QucmFkaXVzKSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHBhcnRpY2xlIGVmZmVjdFxyXG4gICAgICAgIHBhcnRpY2xlU3lzdGVtc1JlZi5jdXJyZW50LnB1c2goXHJcbiAgICAgICAgICBuZXcgUGFydGljbGVTeXN0ZW0oe1xyXG4gICAgICAgICAgICB4OiBmb29kLnBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IGZvb2QucG9zaXRpb24ueSxcclxuICAgICAgICAgICAgY29sb3I6IGZvb2QuY29sb3IsXHJcbiAgICAgICAgICAgIHBhcnRpY2xlQ291bnQ6IDIwLFxyXG4gICAgICAgICAgICBsaWZldGltZTogMzAsXHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIC8vIEdyb3cgc25ha2VcclxuICAgICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50Py5ncm93KGZvb2QudmFsdWUpXHJcblxyXG4gICAgICAgIC8vIEluY3JlYXNlIHNjb3JlXHJcbiAgICAgICAgc2V0U2NvcmUoKHByZXZTY29yZSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgbmV3U2NvcmUgPSBwcmV2U2NvcmUgKyBmb29kLnZhbHVlICogMTBcclxuXHJcbiAgICAgICAgICAvLyBVcGRhdGUgaGlnaCBzY29yZSBpZiBuZWVkZWRcclxuICAgICAgICAgIGlmIChuZXdTY29yZSA+IGhpZ2hTY29yZSkge1xyXG4gICAgICAgICAgICBzZXRIaWdoU2NvcmUobmV3U2NvcmUpXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic25ha2VIaWdoU2NvcmVcIiwgbmV3U2NvcmUudG9TdHJpbmcoKSlcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gbmV3U2NvcmVcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyBTcGF3biBuZXcgZm9vZFxyXG4gICAgICAgIHNwYXduRm9vZCgpXHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGZvciBzbmFrZSBjb2xsaXNpb25zXHJcbiAgY29uc3QgY2hlY2tTbmFrZUNvbGxpc2lvbnMgPSAoKSA9PiB7XHJcbiAgICBpZiAoIXBsYXllclNuYWtlUmVmLmN1cnJlbnQpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IHBsYXllckhlYWQgPSBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LmdldEhlYWQoKVxyXG5cclxuICAgIC8vIENoZWNrIGNvbGxpc2lvbiB3aXRoIHBsYXllcidzIG93biBib2R5XHJcbiAgICBpZiAocGxheWVyU25ha2VSZWYuY3VycmVudC5jaGVja1NlbGZDb2xsaXNpb24oKSkge1xyXG4gICAgICBnYW1lT3ZlcigpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGNvbGxpc2lvbiB3aXRoIEFJIHNuYWtlc1xyXG4gICAgZm9yIChjb25zdCBhaVNuYWtlIG9mIGFpU25ha2VzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgaWYgKGFpU25ha2UuY2hlY2tDb2xsaXNpb25XaXRoKHBsYXllckhlYWQpKSB7XHJcbiAgICAgICAgZ2FtZU92ZXIoKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiBBSSBzbmFrZSBoZWFkIGNvbGxpZGVzIHdpdGggcGxheWVyIGJvZHlcclxuICAgICAgY29uc3QgYWlIZWFkID0gYWlTbmFrZS5nZXRIZWFkKClcclxuICAgICAgaWYgKHBsYXllclNuYWtlUmVmLmN1cnJlbnQuY2hlY2tDb2xsaXNpb25XaXRoUG9pbnQoYWlIZWFkKSkge1xyXG4gICAgICAgIC8vIENyZWF0ZSBwYXJ0aWNsZSBlZmZlY3RcclxuICAgICAgICBwYXJ0aWNsZVN5c3RlbXNSZWYuY3VycmVudC5wdXNoKFxyXG4gICAgICAgICAgbmV3IFBhcnRpY2xlU3lzdGVtKHtcclxuICAgICAgICAgICAgeDogYWlIZWFkLngsXHJcbiAgICAgICAgICAgIHk6IGFpSGVhZC55LFxyXG4gICAgICAgICAgICBjb2xvcjogYWlTbmFrZS5jb2xvcixcclxuICAgICAgICAgICAgcGFydGljbGVDb3VudDogMzAsXHJcbiAgICAgICAgICAgIGxpZmV0aW1lOiA0MCxcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIEFJIHNuYWtlXHJcbiAgICAgICAgYWlTbmFrZXNSZWYuY3VycmVudCA9IGFpU25ha2VzUmVmLmN1cnJlbnQuZmlsdGVyKChzbmFrZSkgPT4gc25ha2UgIT09IGFpU25ha2UpXHJcblxyXG4gICAgICAgIC8vIEluY3JlYXNlIHNjb3JlXHJcbiAgICAgICAgc2V0U2NvcmUoKHByZXZTY29yZSkgPT4gcHJldlNjb3JlICsgNTApXHJcblxyXG4gICAgICAgIC8vIFNwYXduIG5ldyBBSSBzbmFrZSBhZnRlciBkZWxheVxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKGdhbWVTdGF0ZSA9PT0gXCJwbGF5aW5nXCIpIHtcclxuICAgICAgICAgICAgc3Bhd25BSVNuYWtlKClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MDAwKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGUgYW5kIGRyYXcgQUkgc25ha2VzXHJcbiAgY29uc3QgdXBkYXRlQUlTbmFrZXMgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgIGZvciAoY29uc3QgYWlTbmFrZSBvZiBhaVNuYWtlc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIC8vIFVwZGF0ZSBBSSBiZWhhdmlvclxyXG4gICAgICBhaVNuYWtlLnVwZGF0ZUFJKFxyXG4gICAgICAgIGZvb2RSZWYuY3VycmVudCxcclxuICAgICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LFxyXG4gICAgICAgIGFpU25ha2VzUmVmLmN1cnJlbnQuZmlsdGVyKChzbmFrZSkgPT4gc25ha2UgIT09IGFpU25ha2UpLFxyXG4gICAgICAgIGNhbnZhc1dpZHRoLFxyXG4gICAgICAgIGNhbnZhc0hlaWdodCxcclxuICAgICAgKVxyXG5cclxuICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXHJcbiAgICAgIGFpU25ha2UudXBkYXRlKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpXHJcblxyXG4gICAgICAvLyBEcmF3IHNuYWtlXHJcbiAgICAgIGFpU25ha2UuZHJhdyhjdHgpXHJcblxyXG4gICAgICAvLyBDaGVjayBmb3IgZm9vZCBjb2xsaXNpb25cclxuICAgICAgY29uc3QgYWlIZWFkID0gYWlTbmFrZS5nZXRIZWFkKClcclxuXHJcbiAgICAgIGZvb2RSZWYuY3VycmVudCA9IGZvb2RSZWYuY3VycmVudC5maWx0ZXIoKGZvb2QpID0+IHtcclxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguaHlwb3QoYWlIZWFkLnggLSBmb29kLnBvc2l0aW9uLngsIGFpSGVhZC55IC0gZm9vZC5wb3NpdGlvbi55KVxyXG5cclxuICAgICAgICBpZiAoZGlzdGFuY2UgPCBhaUhlYWQucmFkaXVzICsgZm9vZC5yYWRpdXMpIHtcclxuICAgICAgICAgIC8vIENyZWF0ZSBwYXJ0aWNsZSBlZmZlY3RcclxuICAgICAgICAgIHBhcnRpY2xlU3lzdGVtc1JlZi5jdXJyZW50LnB1c2goXHJcbiAgICAgICAgICAgIG5ldyBQYXJ0aWNsZVN5c3RlbSh7XHJcbiAgICAgICAgICAgICAgeDogZm9vZC5wb3NpdGlvbi54LFxyXG4gICAgICAgICAgICAgIHk6IGZvb2QucG9zaXRpb24ueSxcclxuICAgICAgICAgICAgICBjb2xvcjogZm9vZC5jb2xvcixcclxuICAgICAgICAgICAgICBwYXJ0aWNsZUNvdW50OiAxNSxcclxuICAgICAgICAgICAgICBsaWZldGltZTogMjUsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgKVxyXG5cclxuICAgICAgICAgIC8vIEdyb3cgc25ha2VcclxuICAgICAgICAgIGFpU25ha2UuZ3Jvdyhmb29kLnZhbHVlKVxyXG5cclxuICAgICAgICAgIC8vIFNwYXduIG5ldyBmb29kXHJcbiAgICAgICAgICBzcGF3bkZvb2QoKVxyXG5cclxuICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFNwYXduIG5ldyBmb29kXHJcbiAgY29uc3Qgc3Bhd25Gb29kID0gKCkgPT4ge1xyXG4gICAgLy8gUmFuZG9tIHBvc2l0aW9uIGF3YXkgZnJvbSBzbmFrZXNcclxuICAgIGxldCB2YWxpZFBvc2l0aW9uID0gZmFsc2VcclxuICAgIGxldCB4LCB5XHJcblxyXG4gICAgd2hpbGUgKCF2YWxpZFBvc2l0aW9uKSB7XHJcbiAgICAgIHggPSBNYXRoLnJhbmRvbSgpICogKGNhbnZhc1dpZHRoIC0gNDApICsgMjBcclxuICAgICAgeSA9IE1hdGgucmFuZG9tKCkgKiAoY2FudmFzSGVpZ2h0IC0gNDApICsgMjBcclxuXHJcbiAgICAgIHZhbGlkUG9zaXRpb24gPSB0cnVlXHJcblxyXG4gICAgICAvLyBDaGVjayBkaXN0YW5jZSBmcm9tIHBsYXllciBzbmFrZVxyXG4gICAgICBpZiAocGxheWVyU25ha2VSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LnNlZ21lbnRzKSB7XHJcbiAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguaHlwb3Qoc2VnbWVudC54IC0geCwgc2VnbWVudC55IC0geSlcclxuICAgICAgICAgIGlmIChkaXN0YW5jZSA8IDUwKSB7XHJcbiAgICAgICAgICAgIHZhbGlkUG9zaXRpb24gPSBmYWxzZVxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2hlY2sgZGlzdGFuY2UgZnJvbSBBSSBzbmFrZXNcclxuICAgICAgaWYgKHZhbGlkUG9zaXRpb24pIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGFpU25ha2Ugb2YgYWlTbmFrZXNSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIGFpU25ha2Uuc2VnbWVudHMpIHtcclxuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmh5cG90KHNlZ21lbnQueCAtIHgsIHNlZ21lbnQueSAtIHkpXHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IDUwKSB7XHJcbiAgICAgICAgICAgICAgdmFsaWRQb3NpdGlvbiA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCF2YWxpZFBvc2l0aW9uKSBicmVha1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIERldGVybWluZSBmb29kIHR5cGUgKDEwJSBjaGFuY2UgZm9yIHNwZWNpYWwgZm9vZClcclxuICAgIGNvbnN0IGZvb2RUeXBlID0gTWF0aC5yYW5kb20oKSA8IDAuMSA/IFwic3BlY2lhbFwiIDogXCJyZWd1bGFyXCJcclxuXHJcbiAgICAvLyBDcmVhdGUgbmV3IGZvb2RcclxuICAgIGZvb2RSZWYuY3VycmVudC5wdXNoKFxyXG4gICAgICBuZXcgRm9vZCh7XHJcbiAgICAgICAgeDogeCEsXHJcbiAgICAgICAgeTogeSEsXHJcbiAgICAgICAgdHlwZTogZm9vZFR5cGUsXHJcbiAgICAgIH0pLFxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgLy8gU3Bhd24gbmV3IEFJIHNuYWtlXHJcbiAgY29uc3Qgc3Bhd25BSVNuYWtlID0gKCkgPT4ge1xyXG4gICAgLy8gUmFuZG9tIHBvc2l0aW9uIGF0IHRoZSBlZGdlIG9mIHRoZSBjYW52YXNcclxuICAgIGxldCB4LCB5LCBhbmdsZVxyXG5cclxuICAgIGNvbnN0IHNpZGUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KVxyXG5cclxuICAgIHN3aXRjaCAoc2lkZSkge1xyXG4gICAgICBjYXNlIDA6IC8vIFRvcFxyXG4gICAgICAgIHggPSBNYXRoLnJhbmRvbSgpICogY2FudmFzV2lkdGhcclxuICAgICAgICB5ID0gMjBcclxuICAgICAgICBhbmdsZSA9IE1hdGguUEkgLyAyXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAxOiAvLyBSaWdodFxyXG4gICAgICAgIHggPSBjYW52YXNXaWR0aCAtIDIwXHJcbiAgICAgICAgeSA9IE1hdGgucmFuZG9tKCkgKiBjYW52YXNIZWlnaHRcclxuICAgICAgICBhbmdsZSA9IE1hdGguUElcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIDI6IC8vIEJvdHRvbVxyXG4gICAgICAgIHggPSBNYXRoLnJhbmRvbSgpICogY2FudmFzV2lkdGhcclxuICAgICAgICB5ID0gY2FudmFzSGVpZ2h0IC0gMjBcclxuICAgICAgICBhbmdsZSA9IC1NYXRoLlBJIC8gMlxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgMzogLy8gTGVmdFxyXG4gICAgICAgIHggPSAyMFxyXG4gICAgICAgIHkgPSBNYXRoLnJhbmRvbSgpICogY2FudmFzSGVpZ2h0XHJcbiAgICAgICAgYW5nbGUgPSAwXHJcbiAgICAgICAgYnJlYWtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSYW5kb20gYmVoYXZpb3JcclxuICAgIGNvbnN0IGJlaGF2aW9yczogKFwicGFzc2l2ZVwiIHwgXCJhZ2dyZXNzaXZlXCIgfCBcInRlcnJpdG9yaWFsXCIpW10gPSBbXCJwYXNzaXZlXCIsIFwiYWdncmVzc2l2ZVwiLCBcInRlcnJpdG9yaWFsXCJdXHJcbiAgICBjb25zdCBiZWhhdmlvciA9IGJlaGF2aW9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBiZWhhdmlvcnMubGVuZ3RoKV1cclxuXHJcbiAgICAvLyBSYW5kb20gY29sb3IgKG5lb24pXHJcbiAgICBjb25zdCBjb2xvcnMgPSBbXCIjMGYwXCIsIFwiI2YwMFwiLCBcIiNmZjBcIiwgXCIjZjBmXCIsIFwiIzBmZlwiXVxyXG4gICAgY29uc3QgY29sb3IgPSBjb2xvcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY29sb3JzLmxlbmd0aCldXHJcblxyXG4gICAgLy8gQ3JlYXRlIG5ldyBBSSBzbmFrZVxyXG4gICAgYWlTbmFrZXNSZWYuY3VycmVudC5wdXNoKFxyXG4gICAgICBuZXcgQUlTbmFrZSh7XHJcbiAgICAgICAgeDogeCEsXHJcbiAgICAgICAgeTogeSEsXHJcbiAgICAgICAgY29sb3IsXHJcbiAgICAgICAgaGVhZENvbG9yOiBcIiNmZmZcIixcclxuICAgICAgICBpbml0aWFsTGVuZ3RoOiAzLFxyXG4gICAgICAgIGluaXRpYWxBbmdsZTogYW5nbGUhLFxyXG4gICAgICAgIHNwZWVkOiAxLjUgKyBNYXRoLnJhbmRvbSgpICogMC41LFxyXG4gICAgICAgIGJlaGF2aW9yLFxyXG4gICAgICB9KSxcclxuICAgIClcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZSBhbmQgZHJhdyBwYXJ0aWNsZSBzeXN0ZW1zXHJcbiAgY29uc3QgdXBkYXRlUGFydGljbGVzID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICBwYXJ0aWNsZVN5c3RlbXNSZWYuY3VycmVudCA9IHBhcnRpY2xlU3lzdGVtc1JlZi5jdXJyZW50LmZpbHRlcigoc3lzdGVtKSA9PiB7XHJcbiAgICAgIHN5c3RlbS51cGRhdGUoKVxyXG4gICAgICBzeXN0ZW0uZHJhdyhjdHgpXHJcbiAgICAgIHJldHVybiAhc3lzdGVtLmlzRGVhZCgpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLy8gRHJhdyBIVUQgKHNjb3JlLCBldGMuKVxyXG4gIGNvbnN0IGRyYXdIVUQgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgIGN0eC5maWxsU3R5bGUgPSBcIiNmZmZcIlxyXG4gICAgY3R4LmZvbnQgPSAnMjBweCBcIkNvdXJpZXIgTmV3XCIsIG1vbm9zcGFjZSdcclxuICAgIGN0eC50ZXh0QWxpZ24gPSBcImxlZnRcIlxyXG4gICAgY3R4LmZpbGxUZXh0KGBTQ09SRTogJHtzY29yZX1gLCAyMCwgMzApXHJcbiAgICBjdHguZmlsbFRleHQoYEhJR0ggU0NPUkU6ICR7aGlnaFNjb3JlfWAsIDIwLCA2MClcclxuXHJcbiAgICAvLyBEcmF3IGFjdGl2ZSBwb3dlci11cHNcclxuICAgIGlmIChwbGF5ZXJTbmFrZVJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IGFjdGl2ZVBvd2VyVXBzID0gcGxheWVyU25ha2VSZWYuY3VycmVudC5hY3RpdmVQb3dlclVwc1xyXG4gICAgICBsZXQgaSA9IDBcclxuICAgICAgYWN0aXZlUG93ZXJVcHMuZm9yRWFjaCgoZW5kVGltZSwgdHlwZSkgPT4ge1xyXG4gICAgICAgIGlmIChEYXRlLm5vdygpIDwgZW5kVGltZSkge1xyXG4gICAgICAgICAgY29uc3QgdGltZUxlZnQgPSBNYXRoLmNlaWwoKGVuZFRpbWUgLSBEYXRlLm5vdygpKSAvIDEwMDApXHJcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjZmZmXCJcclxuICAgICAgICAgIGN0eC5mb250ID0gJzE2cHggXCJDb3VyaWVyIE5ld1wiLCBtb25vc3BhY2UnXHJcbiAgICAgICAgICBjdHguZmlsbFRleHQoXHJcbiAgICAgICAgICAgIGAke3R5cGUudG9VcHBlckNhc2UoKX06ICR7dGltZUxlZnR9c2AsXHJcbiAgICAgICAgICAgIDIwLFxyXG4gICAgICAgICAgICAxMDAgKyBpICogMjVcclxuICAgICAgICAgIClcclxuICAgICAgICAgIGkrK1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEdhbWUgb3ZlclxyXG4gIGNvbnN0IGdhbWVPdmVyID0gKCkgPT4ge1xyXG4gICAgc2V0R2FtZVN0YXRlKFwiZ2FtZU92ZXJcIilcclxuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wUmVmLmN1cnJlbnQpXHJcbiAgICBhdWRpb1JlZi5jdXJyZW50LnBsYXlTb3VuZChcImdhbWVvdmVyXCIpXHJcblxyXG4gICAgLy8gQ3JlYXRlIGV4cGxvc2lvbiBlZmZlY3QgYXQgcGxheWVyIGhlYWRcclxuICAgIGlmIChwbGF5ZXJTbmFrZVJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IGhlYWQgPSBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LmdldEhlYWQoKVxyXG4gICAgICBwYXJ0aWNsZVN5c3RlbXNSZWYuY3VycmVudC5wdXNoKFxyXG4gICAgICAgIG5ldyBQYXJ0aWNsZVN5c3RlbSh7XHJcbiAgICAgICAgICB4OiBoZWFkLngsXHJcbiAgICAgICAgICB5OiBoZWFkLnksXHJcbiAgICAgICAgICBjb2xvcjogcGxheWVyU25ha2VSZWYuY3VycmVudC5oZWFkQ29sb3IsXHJcbiAgICAgICAgICBwYXJ0aWNsZUNvdW50OiA1MCxcclxuICAgICAgICAgIGxpZmV0aW1lOiA2MCxcclxuICAgICAgICAgIHNwZWVkOiAzLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCByZW5kZXJNZW51ID0gKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ1JlbmRlcmluZyBtZW51Jyk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2sgYmctb3BhY2l0eS04MCB6LTEwXCI+XHJcbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtNXhsIGZvbnQtYm9sZCBtYi04IHRleHQtdHJhbnNwYXJlbnQgYmctY2xpcC10ZXh0IGJnLWdyYWRpZW50LXRvLXIgZnJvbS1jeWFuLTQwMCB0by1wdXJwbGUtNjAwXCI+XHJcbiAgICAgICAgICBORU9OIFNOQUtFXHJcbiAgICAgICAgPC9oMT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNCB3LTY0XCI+XHJcbiAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmFkaWVudC10by1yIGZyb20tY3lhbi01MDAgdG8tcHVycGxlLTYwMCBob3Zlcjpmcm9tLWN5YW4tNjAwIGhvdmVyOnRvLXB1cnBsZS03MDBcIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0YXJ0IGJ1dHRvbiBjbGlja2VkJyk7XHJcbiAgICAgICAgICAgICAgc3RhcnRHYW1lKCk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxQbGF5IGNsYXNzTmFtZT1cIm1yLTIgaC00IHctNFwiIC8+XHJcbiAgICAgICAgICAgIFBMQVlcclxuICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNDAwIHRleHQtc20gbXQtOFwiPlxyXG4gICAgICAgICAgICA8cD5Vc2UgQVJST1cgS0VZUyBvciBXQVNEIHRvIGNvbnRyb2w8L3A+XHJcbiAgICAgICAgICAgIDxwPlByZXNzIFVQIG9yIFcgZm9yIHNwZWVkIGJvb3N0PC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgLy8gUmVuZGVyIHBhdXNlIHNjcmVlblxyXG4gIGNvbnN0IHJlbmRlclBhdXNlU2NyZWVuID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrIGJnLW9wYWNpdHktODAgei0xMFwiPlxyXG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgbWItOCB0ZXh0LWN5YW4tNDAwXCI+UEFVU0VEPC9oMj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNCB3LTY0XCI+XHJcbiAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmFkaWVudC10by1yIGZyb20tY3lhbi01MDAgdG8tcHVycGxlLTYwMCBob3Zlcjpmcm9tLWN5YW4tNjAwIGhvdmVyOnRvLXB1cnBsZS03MDBcIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgc2V0R2FtZVN0YXRlKFwicGxheWluZ1wiKVxyXG4gICAgICAgICAgICAgIGdhbWVMb29wUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxQbGF5IGNsYXNzTmFtZT1cIm1yLTIgaC00IHctNFwiIC8+XHJcbiAgICAgICAgICAgIFJFU1VNRVxyXG4gICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlci1jeWFuLTUwMCB0ZXh0LWN5YW4tNDAwIGhvdmVyOmJnLWN5YW4tOTUwXCJcclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0R2FtZVN0YXRlKFwibWVudVwiKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgTUFJTiBNRU5VXHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICAvLyBSZW5kZXIgZ2FtZSBvdmVyIHNjcmVlblxyXG4gIGNvbnN0IHJlbmRlckdhbWVPdmVyU2NyZWVuID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrIGJnLW9wYWNpdHktODAgei0xMFwiPlxyXG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBmb250LWJvbGQgbWItMiB0ZXh0LXJlZC01MDBcIj5HQU1FIE9WRVI8L2gyPlxyXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhsIG1iLTggdGV4dC1jeWFuLTQwMFwiPlNDT1JFOiB7c2NvcmV9PC9wPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IHctNjRcIj5cclxuICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1jeWFuLTUwMCB0by1wdXJwbGUtNjAwIGhvdmVyOmZyb20tY3lhbi02MDAgaG92ZXI6dG8tcHVycGxlLTcwMFwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3N0YXJ0R2FtZX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPFJlZnJlc2hDdyBjbGFzc05hbWU9XCJtci0yIGgtNCB3LTRcIiAvPlxyXG4gICAgICAgICAgICBQTEFZIEFHQUlOXHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyLWN5YW4tNTAwIHRleHQtY3lhbi00MDAgaG92ZXI6YmctY3lhbi05NTBcIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRHYW1lU3RhdGUoXCJtZW51XCIpfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICBNQUlOIE1FTlVcclxuICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcblxyXG4gIC8vIFJlbmRlciBnYW1lIGNvbnRyb2xzXHJcbiAgY29uc3QgcmVuZGVyR2FtZUNvbnRyb2xzID0gKCkgPT4ge1xyXG4gICAgaWYgKGdhbWVTdGF0ZSAhPT0gXCJwbGF5aW5nXCIpIHJldHVybiBudWxsXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCByaWdodC00IHotMTBcIj5cclxuICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXHJcbiAgICAgICAgICBzaXplPVwiaWNvblwiXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXItY3lhbi01MDAgdGV4dC1jeWFuLTQwMCBob3ZlcjpiZy1jeWFuLTk1MFwiXHJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgIHNldEdhbWVTdGF0ZShcInBhdXNlZFwiKVxyXG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShnYW1lTG9vcFJlZi5jdXJyZW50KVxyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8UGF1c2UgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XHJcbiAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgLy8gQWRkIHBvd2VyLXVwIHNwYXduaW5nXHJcbiAgY29uc3Qgc3Bhd25Qb3dlclVwID0gKCkgPT4ge1xyXG4gICAgY29uc3QgdHlwZXM6IFBvd2VyVXBUeXBlW10gPSBbXCJzcGVlZFwiLCBcImludnVsbmVyYWJpbGl0eVwiLCBcImdob3N0XCJdXHJcbiAgICBjb25zdCByYW5kb21UeXBlID0gdHlwZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdHlwZXMubGVuZ3RoKV1cclxuXHJcbiAgICBsZXQgdmFsaWRQb3NpdGlvbiA9IGZhbHNlXHJcbiAgICBsZXQgeCwgeVxyXG5cclxuICAgIHdoaWxlICghdmFsaWRQb3NpdGlvbikge1xyXG4gICAgICB4ID0gTWF0aC5yYW5kb20oKSAqIChjYW52YXNXaWR0aCAtIDQwKSArIDIwXHJcbiAgICAgIHkgPSBNYXRoLnJhbmRvbSgpICogKGNhbnZhc0hlaWdodCAtIDQwKSArIDIwXHJcbiAgICAgIHZhbGlkUG9zaXRpb24gPSB0cnVlXHJcblxyXG4gICAgICAvLyBDaGVjayBkaXN0YW5jZSBmcm9tIHBsYXllciBhbmQgQUkgc25ha2VzXHJcbiAgICAgIGlmIChwbGF5ZXJTbmFrZVJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHBsYXllclNuYWtlUmVmLmN1cnJlbnQuc2VnbWVudHMpIHtcclxuICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5oeXBvdChzZWdtZW50LnggLSB4LCBzZWdtZW50LnkgLSB5KVxyXG4gICAgICAgICAgaWYgKGRpc3RhbmNlIDwgNTApIHtcclxuICAgICAgICAgICAgdmFsaWRQb3NpdGlvbiA9IGZhbHNlXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodmFsaWRQb3NpdGlvbikge1xyXG4gICAgICAgIGZvciAoY29uc3QgYWlTbmFrZSBvZiBhaVNuYWtlc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2YgYWlTbmFrZS5zZWdtZW50cykge1xyXG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguaHlwb3Qoc2VnbWVudC54IC0geCwgc2VnbWVudC55IC0geSlcclxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgNTApIHtcclxuICAgICAgICAgICAgICB2YWxpZFBvc2l0aW9uID0gZmFsc2VcclxuICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoIXZhbGlkUG9zaXRpb24pIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcG93ZXJVcHNSZWYuY3VycmVudC5wdXNoKFxyXG4gICAgICBuZXcgUG93ZXJVcCh7XHJcbiAgICAgICAgeDogeCEsXHJcbiAgICAgICAgeTogeSEsXHJcbiAgICAgICAgdHlwZTogcmFuZG9tVHlwZSxcclxuICAgICAgfSlcclxuICAgIClcclxuICB9XHJcblxyXG4gIC8vIENoZWNrIHBvd2VyLXVwIGNvbGxpc2lvbnNcclxuICBjb25zdCBjaGVja1Bvd2VyVXBDb2xsaXNpb25zID0gKCkgPT4ge1xyXG4gICAgaWYgKCFwbGF5ZXJTbmFrZVJlZi5jdXJyZW50KSByZXR1cm5cclxuXHJcbiAgICBjb25zdCBwbGF5ZXJIZWFkID0gcGxheWVyU25ha2VSZWYuY3VycmVudC5nZXRIZWFkKClcclxuICAgIHBvd2VyVXBzUmVmLmN1cnJlbnQgPSBwb3dlclVwc1JlZi5jdXJyZW50LmZpbHRlcigocG93ZXJVcCkgPT4ge1xyXG4gICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguaHlwb3QoXHJcbiAgICAgICAgcGxheWVySGVhZC54IC0gcG93ZXJVcC5wb3NpdGlvbi54LFxyXG4gICAgICAgIHBsYXllckhlYWQueSAtIHBvd2VyVXAucG9zaXRpb24ueVxyXG4gICAgICApXHJcblxyXG4gICAgICBpZiAoZGlzdGFuY2UgPCBwbGF5ZXJIZWFkLnJhZGl1cyArIHBvd2VyVXAucmFkaXVzKSB7XHJcbiAgICAgICAgLy8gQXBwbHkgcG93ZXItdXAgZWZmZWN0XHJcbiAgICAgICAgcGxheWVyU25ha2VSZWYuY3VycmVudD8uY29sbGVjdFBvd2VyVXAocG93ZXJVcClcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHBhcnRpY2xlIGVmZmVjdFxyXG4gICAgICAgIHBhcnRpY2xlU3lzdGVtc1JlZi5jdXJyZW50LnB1c2goXHJcbiAgICAgICAgICBuZXcgUGFydGljbGVTeXN0ZW0oe1xyXG4gICAgICAgICAgICB4OiBwb3dlclVwLnBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IHBvd2VyVXAucG9zaXRpb24ueSxcclxuICAgICAgICAgICAgY29sb3I6IHBvd2VyVXAuY29sb3IsXHJcbiAgICAgICAgICAgIHBhcnRpY2xlQ291bnQ6IDMwLFxyXG4gICAgICAgICAgICBsaWZldGltZTogNDAsXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvLyBPY2Nhc2lvbmFsbHkgc3Bhd24gcG93ZXItdXBzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChnYW1lU3RhdGUgIT09IFwicGxheWluZ1wiKSByZXR1cm5cclxuXHJcbiAgICBjb25zdCBwb3dlclVwSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC4zICYmIHBvd2VyVXBzUmVmLmN1cnJlbnQubGVuZ3RoIDwgMykge1xyXG4gICAgICAgIHNwYXduUG93ZXJVcCgpXHJcbiAgICAgIH1cclxuICAgIH0sIDEwMDAwKSAvLyBFdmVyeSAxMCBzZWNvbmRzXHJcblxyXG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwocG93ZXJVcEludGVydmFsKVxyXG4gIH0sIFtnYW1lU3RhdGVdKVxyXG5cclxuICAvLyBVcGRhdGUgc3RhdGUgdHJhbnNpdGlvbnNcclxuICBjb25zdCBjaGFuZ2VHYW1lU3RhdGUgPSBhc3luYyAobmV3U3RhdGU6IEdhbWVTdGF0ZSkgPT4ge1xyXG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnRcclxuICAgIGlmICghY2FudmFzKSByZXR1cm5cclxuICAgIFxyXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcclxuICAgIGlmICghY3R4KSByZXR1cm5cclxuXHJcbiAgICAvLyBFeGl0IHRyYW5zaXRpb25cclxuICAgIGF3YWl0IFRyYW5zaXRpb25zLmZhZGUoY3R4LCAnb3V0JywgMzAwKVxyXG4gICAgXHJcbiAgICBzZXRHYW1lU3RhdGUobmV3U3RhdGUpXHJcbiAgICBcclxuICAgIC8vIEVudGVyIHRyYW5zaXRpb25cclxuICAgIGF3YWl0IFRyYW5zaXRpb25zLmZhZGUoY3R4LCAnaW4nLCAzMDApXHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGUgY2FudmFzIHNpemUgb24gd2luZG93IHJlc2l6ZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xyXG5cclxuICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBnZXRDYW52YXNEaW1lbnNpb25zKCk7XHJcbiAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcclxuICAgIGhhbmRsZVJlc2l6ZSgpOyAvLyBJbml0aWFsIHNpemVcclxuXHJcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XHJcbiAgfSwgW2lzTW9iaWxlXSk7XHJcblxyXG4gIC8vIEhhbmRsZSB0b3VjaCBjb250cm9sc1xyXG4gIGNvbnN0IGhhbmRsZURpcmVjdGlvbkNoYW5nZSA9IChkaXJlY3Rpb246IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4ge1xyXG4gICAgc2V0VG91Y2hEaXJlY3Rpb24oZGlyZWN0aW9uKTtcclxuICB9O1xyXG5cclxuICAvLyBVcGRhdGUgaW5wdXQgc3lzdGVtIHRvIGhhbmRsZSBib3RoIGtleWJvYXJkIGFuZCB0b3VjaFxyXG4gIGNvbnN0IGlucHV0U3lzdGVtID0gKCkgPT4ge1xyXG4gICAgaWYgKCFwbGF5ZXJTbmFrZVJlZi5jdXJyZW50KSByZXR1cm47XHJcblxyXG4gICAgaWYgKGlzTW9iaWxlKSB7XHJcbiAgICAgIC8vIENvbnZlcnQgdG91Y2ggZGlyZWN0aW9uIHRvIGFuZ2xlXHJcbiAgICAgIGlmICh0b3VjaERpcmVjdGlvbi54ICE9PSAwIHx8IHRvdWNoRGlyZWN0aW9uLnkgIT09IDApIHtcclxuICAgICAgICBjb25zdCB0YXJnZXRBbmdsZSA9IE1hdGguYXRhbjIodG91Y2hEaXJlY3Rpb24ueSwgdG91Y2hEaXJlY3Rpb24ueCk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudEFuZ2xlID0gcGxheWVyU25ha2VSZWYuY3VycmVudC5hbmdsZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTbW9vdGggcm90YXRpb24gdG93YXJkcyB0YXJnZXQgYW5nbGVcclxuICAgICAgICBjb25zdCBhbmdsZURpZmYgPSB0YXJnZXRBbmdsZSAtIGN1cnJlbnRBbmdsZTtcclxuICAgICAgICBjb25zdCBub3JtYWxpemVkRGlmZiA9IE1hdGguYXRhbjIoTWF0aC5zaW4oYW5nbGVEaWZmKSwgTWF0aC5jb3MoYW5nbGVEaWZmKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG5vcm1hbGl6ZWREaWZmID4gMC4xKSB7XHJcbiAgICAgICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LnR1cm5SaWdodCgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZERpZmYgPCAtMC4xKSB7XHJcbiAgICAgICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LnR1cm5MZWZ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBIYW5kbGUgYm9vc3RcclxuICAgICAgaWYgKGlzQm9vc3RpbmcpIHtcclxuICAgICAgICBwbGF5ZXJTbmFrZVJlZi5jdXJyZW50LmJvb3N0KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGxheWVyU25ha2VSZWYuY3VycmVudC5ub3JtYWxTcGVlZCgpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBFeGlzdGluZyBrZXlib2FyZCBjb250cm9sc1xyXG4gICAgICBoYW5kbGVJbnB1dCgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEFkZCB0aGlzIGZ1bmN0aW9uIG5lYXIgdGhlIHRvcCBvZiB0aGUgY29tcG9uZW50XHJcbiAgY29uc3QgZ2V0Q2FudmFzRGltZW5zaW9ucyA9ICgpID0+IHtcclxuICAgIGlmIChpc01vYmlsZSkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHdpZHRoOiBNYXRoLm1pbih3aW5kb3cuaW5uZXJXaWR0aCAtIDMyLCA2MDApLFxyXG4gICAgICAgIGhlaWdodDogTWF0aC5taW4od2luZG93LmlubmVySGVpZ2h0IC0gMjAwLCA4MDApXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB3aWR0aDogODAwLFxyXG4gICAgICBoZWlnaHQ6IDYwMFxyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICAvLyBVcGRhdGUgZ2FtZSBsb29wIG9uIGdhbWUgc3RhdGUgY2hhbmdlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChjYW52YXNSZWYuY3VycmVudCkge1xyXG4gICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcclxuICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7XHJcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTdGFydCBnYW1lIGxvb3BcclxuICAgICAgaWYgKGdhbWVTdGF0ZSA9PT0gXCJwbGF5aW5nXCIpIHtcclxuICAgICAgICBnYW1lTG9vcFJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAoZ2FtZUxvb3BSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wUmVmLmN1cnJlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtnYW1lU3RhdGVdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgaC1mdWxsXCI+XHJcbiAgICAgIHsvKiBSZXN0IG9mIHRoZSBjb21wb25lbnQgKi99XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJCdXR0b24iLCJQbGF5IiwiUGF1c2UiLCJSZWZyZXNoQ3ciLCJQYXJ0aWNsZVN5c3RlbSIsIlNuYWtlIiwiRm9vZCIsIkFJU25ha2UiLCJTZXR0aW5nc01hbmFnZXIiLCJBdWRpb1N5c3RlbSIsIlBvd2VyVXAiLCJBc3NldE1hbmFnZXIiLCJUcmFuc2l0aW9ucyIsInVzZU1lZGlhUXVlcnkiLCJTbmFrZUdhbWUiLCJjYW52YXNSZWYiLCJnYW1lU3RhdGUiLCJzZXRHYW1lU3RhdGUiLCJzY29yZSIsInNldFNjb3JlIiwiaGlnaFNjb3JlIiwic2V0SGlnaFNjb3JlIiwibG9hZGluZyIsInNldExvYWRpbmciLCJsb2FkaW5nUHJvZ3Jlc3MiLCJzZXRMb2FkaW5nUHJvZ3Jlc3MiLCJnYW1lTG9vcFJlZiIsInBsYXllclNuYWtlUmVmIiwiZm9vZFJlZiIsImFpU25ha2VzUmVmIiwicGFydGljbGVTeXN0ZW1zUmVmIiwicG93ZXJVcHNSZWYiLCJzZXR0aW5nc1JlZiIsImdldEluc3RhbmNlIiwiYXVkaW9SZWYiLCJhc3NldE1hbmFnZXJSZWYiLCJrZXlzUHJlc3NlZCIsIlNldCIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiaXNNb2JpbGUiLCJ0b3VjaERpcmVjdGlvbiIsInNldFRvdWNoRGlyZWN0aW9uIiwieCIsInkiLCJpc0Jvb3N0aW5nIiwic2V0SXNCb29zdGluZyIsImNvbnNvbGUiLCJsb2ciLCJjYW52YXMiLCJjdXJyZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJzYXZlZEhpZ2hTY29yZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJOdW1iZXIiLCJwYXJzZUludCIsInNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJzb3VuZEVuYWJsZWQiLCJwbGF5TXVzaWMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlS2V5RG93biIsImhhbmRsZUtleVVwIiwiY3R4IiwiZ2V0Q29udGV4dCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZHJhd0dyaWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJsb2FkQXNzZXRzIiwibG9hZEFsbCIsImVycm9yIiwidXBkYXRlUHJvZ3Jlc3MiLCJnZXRMb2FkaW5nUHJvZ3Jlc3MiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJlIiwiYWRkIiwia2V5IiwidG9Mb3dlckNhc2UiLCJnYW1lTG9vcCIsInN0YXJ0R2FtZSIsImRlbGV0ZSIsImNvbG9yIiwiaGVhZENvbG9yIiwiaW5pdGlhbExlbmd0aCIsImluaXRpYWxBbmdsZSIsIk1hdGgiLCJQSSIsInNwZWVkIiwicmFuZG9tIiwidHlwZSIsImJlaGF2aW9yIiwicGxheVNvdW5kIiwicGxheWVyU25ha2UiLCJzZWdtZW50cyIsImZvb2QiLCJsZW5ndGgiLCJhaVNuYWtlcyIsInJlbmRlclN5c3RlbSIsImlucHV0U3lzdGVtIiwicGh5c2ljc1N5c3RlbSIsImNvbGxpc2lvblN5c3RlbSIsImFpU3lzdGVtIiwicGFydGljbGVTeXN0ZW0iLCJodWRTeXN0ZW0iLCJkcmF3IiwiYWlTbmFrZSIsInVwZGF0ZSIsInBvd2VyVXAiLCJwYXJ0aWNsZXMiLCJjaGVja0Zvb2RDb2xsaXNpb25zIiwiY2hlY2tTbmFrZUNvbGxpc2lvbnMiLCJjaGVja1Bvd2VyVXBDb2xsaXNpb25zIiwidXBkYXRlQUlTbmFrZXMiLCJ1cGRhdGVQYXJ0aWNsZXMiLCJkcmF3SFVEIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJoYW5kbGVJbnB1dCIsImhhcyIsInR1cm5MZWZ0IiwidHVyblJpZ2h0IiwiYm9vc3QiLCJub3JtYWxTcGVlZCIsInBsYXllckhlYWQiLCJnZXRIZWFkIiwiZmlsdGVyIiwiZGlzdGFuY2UiLCJoeXBvdCIsInBvc2l0aW9uIiwicmFkaXVzIiwicHVzaCIsInBhcnRpY2xlQ291bnQiLCJsaWZldGltZSIsImdyb3ciLCJ2YWx1ZSIsInByZXZTY29yZSIsIm5ld1Njb3JlIiwic2V0SXRlbSIsInRvU3RyaW5nIiwic3Bhd25Gb29kIiwiY2hlY2tTZWxmQ29sbGlzaW9uIiwiZ2FtZU92ZXIiLCJjaGVja0NvbGxpc2lvbldpdGgiLCJhaUhlYWQiLCJjaGVja0NvbGxpc2lvbldpdGhQb2ludCIsInNuYWtlIiwic2V0VGltZW91dCIsInNwYXduQUlTbmFrZSIsInVwZGF0ZUFJIiwidmFsaWRQb3NpdGlvbiIsInNlZ21lbnQiLCJmb29kVHlwZSIsImFuZ2xlIiwic2lkZSIsImZsb29yIiwiYmVoYXZpb3JzIiwiY29sb3JzIiwic3lzdGVtIiwiaXNEZWFkIiwiZm9udCIsInRleHRBbGlnbiIsImZpbGxUZXh0IiwiYWN0aXZlUG93ZXJVcHMiLCJpIiwiZm9yRWFjaCIsImVuZFRpbWUiLCJEYXRlIiwibm93IiwidGltZUxlZnQiLCJjZWlsIiwidG9VcHBlckNhc2UiLCJoZWFkIiwicmVuZGVyTWVudSIsImRpdiIsImNsYXNzTmFtZSIsImgxIiwib25DbGljayIsInAiLCJyZW5kZXJQYXVzZVNjcmVlbiIsImgyIiwidmFyaWFudCIsInJlbmRlckdhbWVPdmVyU2NyZWVuIiwicmVuZGVyR2FtZUNvbnRyb2xzIiwic2l6ZSIsInNwYXduUG93ZXJVcCIsInR5cGVzIiwicmFuZG9tVHlwZSIsImNvbGxlY3RQb3dlclVwIiwicG93ZXJVcEludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiY2hhbmdlR2FtZVN0YXRlIiwibmV3U3RhdGUiLCJmYWRlIiwiaGFuZGxlUmVzaXplIiwiZ2V0Q2FudmFzRGltZW5zaW9ucyIsImhhbmRsZURpcmVjdGlvbkNoYW5nZSIsImRpcmVjdGlvbiIsInRhcmdldEFuZ2xlIiwiYXRhbjIiLCJjdXJyZW50QW5nbGUiLCJhbmdsZURpZmYiLCJub3JtYWxpemVkRGlmZiIsInNpbiIsImNvcyIsIm1pbiIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/game.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./utils/power-up.tsx":
/*!****************************!*\
  !*** ./utils/power-up.tsx ***!
  \****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PowerUp: function() { return /* binding */ PowerUp; }\n/* harmony export */ });\nclass PowerUp {\n    update() {\n        // Update pulse effect\n        this.pulseAmount += 0.05 * this.pulseDirection;\n        if (this.pulseAmount > 1) this.pulseDirection = -1;\n        if (this.pulseAmount < 0) this.pulseDirection = 1;\n        // Update rotation\n        this.rotation += 0.03;\n    }\n    draw(ctx) {\n        ctx.save();\n        ctx.translate(this.position.x, this.position.y);\n        ctx.rotate(this.rotation);\n        const pulseScale = 1 + this.pulseAmount * 0.2;\n        const size = this.radius * pulseScale;\n        // Draw power-up symbol based on type\n        ctx.beginPath();\n        switch(this.type){\n            case \"speed\":\n                this.drawLightning(ctx, size);\n                break;\n            case \"invulnerability\":\n                this.drawShield(ctx, size);\n                break;\n            case \"ghost\":\n                this.drawGhost(ctx, size);\n                break;\n        }\n        // Add glow effect\n        ctx.shadowColor = this.color;\n        ctx.shadowBlur = 15;\n        ctx.fillStyle = this.color;\n        ctx.fill();\n        ctx.restore();\n    }\n    drawLightning(ctx, size) {\n        // Lightning bolt shape\n        ctx.moveTo(-size / 2, -size / 2);\n        ctx.lineTo(0, 0);\n        ctx.lineTo(-size / 4, size / 2);\n        ctx.lineTo(size / 2, -size / 2);\n    }\n    drawShield(ctx, size) {\n        // Shield shape\n        ctx.arc(0, 0, size, 0, Math.PI * 2);\n        ctx.arc(0, 0, size * 0.7, 0, Math.PI * 2);\n    }\n    drawGhost(ctx, size) {\n        // Ghost shape\n        ctx.arc(0, -size / 4, size / 2, Math.PI, Math.PI * 2);\n        ctx.lineTo(size / 2, size / 2);\n        ctx.lineTo(-size / 2, size / 2);\n        ctx.closePath();\n    }\n    applyEffect(snake) {\n        switch(this.type){\n            case \"speed\":\n                snake.speed *= 1.5;\n                setTimeout(()=>{\n                    snake.speed = snake.baseSpeed;\n                }, this.duration);\n                break;\n            case \"invulnerability\":\n                snake.isInvulnerable = true;\n                setTimeout(()=>{\n                    snake.isInvulnerable = false;\n                }, this.duration);\n                break;\n            case \"ghost\":\n                snake.isGhost = true;\n                setTimeout(()=>{\n                    snake.isGhost = false;\n                }, this.duration);\n                break;\n        }\n    }\n    constructor(options){\n        this.radius = 15;\n        this.pulseAmount = 0;\n        this.pulseDirection = 1;\n        this.rotation = 0;\n        this.position = {\n            x: options.x,\n            y: options.y\n        };\n        this.type = options.type;\n        // Set properties based on type\n        switch(this.type){\n            case \"speed\":\n                this.color = \"#ff0\";\n                this.duration = 5000; // 5 seconds\n                break;\n            case \"invulnerability\":\n                this.color = \"#f0f\";\n                this.duration = 7000; // 7 seconds\n                break;\n            case \"ghost\":\n                this.color = \"#0ff\";\n                this.duration = 10000; // 10 seconds\n                break;\n        }\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBQ3ZCSCxXQUFXO29CQUFRRixNQUFNSyxjQUFjLEdBQUc7Z0JBQU8sR0FBRyxJQUFJLENBQUNELFFBQVE7Z0JBQ2pFO1lBQ0YsS0FBSztnQkFDSEosTUFBTU0sT0FBTyxHQUFHO2dCQUNoQkosV0FBVztvQkFBUUYsTUFBTU0sT0FBTyxHQUFHO2dCQUFPLEdBQUcsSUFBSSxDQUFDRixRQUFRO2dCQUMxRDtRQUNKO0lBQ0Y7SUFsR0FHLFlBQVlDLE9BQXVCLENBQUU7YUFQckMzQixTQUFpQjthQUdqQmIsY0FBc0I7YUFDdEJDLGlCQUF5QjthQUN6QkMsV0FBbUI7UUFHakIsSUFBSSxDQUFDSyxRQUFRLEdBQUc7WUFBRUMsR0FBR2dDLFFBQVFoQyxDQUFDO1lBQUVDLEdBQUcrQixRQUFRL0IsQ0FBQztRQUFDO1FBQzdDLElBQUksQ0FBQ00sSUFBSSxHQUFHeUIsUUFBUXpCLElBQUk7UUFFeEIsK0JBQStCO1FBQy9CLE9BQVEsSUFBSSxDQUFDQSxJQUFJO1lBQ2YsS0FBSztnQkFDSCxJQUFJLENBQUNLLEtBQUssR0FBRztnQkFDYixJQUFJLENBQUNnQixRQUFRLEdBQUcsTUFBTSxZQUFZO2dCQUNsQztZQUNGLEtBQUs7Z0JBQ0gsSUFBSSxDQUFDaEIsS0FBSyxHQUFHO2dCQUNiLElBQUksQ0FBQ2dCLFFBQVEsR0FBRyxNQUFNLFlBQVk7Z0JBQ2xDO1lBQ0YsS0FBSztnQkFDSCxJQUFJLENBQUNoQixLQUFLLEdBQUc7Z0JBQ2IsSUFBSSxDQUFDZ0IsUUFBUSxHQUFHLE9BQU8sYUFBYTtnQkFDcEM7UUFDSjtJQUNGO0FBZ0ZGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3V0aWxzL3Bvd2VyLXVwLnRzeD9kMDdhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIFBvd2VyVXBUeXBlID0gJ3NwZWVkJyB8ICdpbnZ1bG5lcmFiaWxpdHknIHwgJ2dob3N0JztcclxuXHJcbmludGVyZmFjZSBQb3dlclVwT3B0aW9ucyB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxuICB0eXBlOiBQb3dlclVwVHlwZTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBvd2VyVXAge1xyXG4gIHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XHJcbiAgdHlwZTogUG93ZXJVcFR5cGU7XHJcbiAgcmFkaXVzOiBudW1iZXIgPSAxNTtcclxuICBkdXJhdGlvbjogbnVtYmVyO1xyXG4gIGNvbG9yOiBzdHJpbmc7XHJcbiAgcHVsc2VBbW91bnQ6IG51bWJlciA9IDA7XHJcbiAgcHVsc2VEaXJlY3Rpb246IG51bWJlciA9IDE7XHJcbiAgcm90YXRpb246IG51bWJlciA9IDA7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFBvd2VyVXBPcHRpb25zKSB7XHJcbiAgICB0aGlzLnBvc2l0aW9uID0geyB4OiBvcHRpb25zLngsIHk6IG9wdGlvbnMueSB9O1xyXG4gICAgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlO1xyXG4gICAgXHJcbiAgICAvLyBTZXQgcHJvcGVydGllcyBiYXNlZCBvbiB0eXBlXHJcbiAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xyXG4gICAgICBjYXNlICdzcGVlZCc6XHJcbiAgICAgICAgdGhpcy5jb2xvciA9ICcjZmYwJztcclxuICAgICAgICB0aGlzLmR1cmF0aW9uID0gNTAwMDsgLy8gNSBzZWNvbmRzXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2ludnVsbmVyYWJpbGl0eSc6XHJcbiAgICAgICAgdGhpcy5jb2xvciA9ICcjZjBmJztcclxuICAgICAgICB0aGlzLmR1cmF0aW9uID0gNzAwMDsgLy8gNyBzZWNvbmRzXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2dob3N0JzpcclxuICAgICAgICB0aGlzLmNvbG9yID0gJyMwZmYnO1xyXG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSAxMDAwMDsgLy8gMTAgc2Vjb25kc1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgLy8gVXBkYXRlIHB1bHNlIGVmZmVjdFxyXG4gICAgdGhpcy5wdWxzZUFtb3VudCArPSAwLjA1ICogdGhpcy5wdWxzZURpcmVjdGlvbjtcclxuICAgIGlmICh0aGlzLnB1bHNlQW1vdW50ID4gMSkgdGhpcy5wdWxzZURpcmVjdGlvbiA9IC0xO1xyXG4gICAgaWYgKHRoaXMucHVsc2VBbW91bnQgPCAwKSB0aGlzLnB1bHNlRGlyZWN0aW9uID0gMTtcclxuXHJcbiAgICAvLyBVcGRhdGUgcm90YXRpb25cclxuICAgIHRoaXMucm90YXRpb24gKz0gMC4wMztcclxuICB9XHJcblxyXG4gIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcclxuICAgIGN0eC5zYXZlKCk7XHJcbiAgICBjdHgudHJhbnNsYXRlKHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55KTtcclxuICAgIGN0eC5yb3RhdGUodGhpcy5yb3RhdGlvbik7XHJcblxyXG4gICAgY29uc3QgcHVsc2VTY2FsZSA9IDEgKyB0aGlzLnB1bHNlQW1vdW50ICogMC4yO1xyXG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMucmFkaXVzICogcHVsc2VTY2FsZTtcclxuXHJcbiAgICAvLyBEcmF3IHBvd2VyLXVwIHN5bWJvbCBiYXNlZCBvbiB0eXBlXHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xyXG4gICAgICBjYXNlICdzcGVlZCc6XHJcbiAgICAgICAgdGhpcy5kcmF3TGlnaHRuaW5nKGN0eCwgc2l6ZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2ludnVsbmVyYWJpbGl0eSc6XHJcbiAgICAgICAgdGhpcy5kcmF3U2hpZWxkKGN0eCwgc2l6ZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2dob3N0JzpcclxuICAgICAgICB0aGlzLmRyYXdHaG9zdChjdHgsIHNpemUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBnbG93IGVmZmVjdFxyXG4gICAgY3R4LnNoYWRvd0NvbG9yID0gdGhpcy5jb2xvcjtcclxuICAgIGN0eC5zaGFkb3dCbHVyID0gMTU7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgIGN0eC5maWxsKCk7XHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBkcmF3TGlnaHRuaW5nKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBzaXplOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIC8vIExpZ2h0bmluZyBib2x0IHNoYXBlXHJcbiAgICBjdHgubW92ZVRvKC1zaXplLzIsIC1zaXplLzIpO1xyXG4gICAgY3R4LmxpbmVUbygwLCAwKTtcclxuICAgIGN0eC5saW5lVG8oLXNpemUvNCwgc2l6ZS8yKTtcclxuICAgIGN0eC5saW5lVG8oc2l6ZS8yLCAtc2l6ZS8yKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZHJhd1NoaWVsZChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgc2l6ZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAvLyBTaGllbGQgc2hhcGVcclxuICAgIGN0eC5hcmMoMCwgMCwgc2l6ZSwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgY3R4LmFyYygwLCAwLCBzaXplICogMC43LCAwLCBNYXRoLlBJICogMik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGRyYXdHaG9zdChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgc2l6ZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAvLyBHaG9zdCBzaGFwZVxyXG4gICAgY3R4LmFyYygwLCAtc2l6ZS80LCBzaXplLzIsIE1hdGguUEksIE1hdGguUEkgKiAyKTtcclxuICAgIGN0eC5saW5lVG8oc2l6ZS8yLCBzaXplLzIpO1xyXG4gICAgY3R4LmxpbmVUbygtc2l6ZS8yLCBzaXplLzIpO1xyXG4gICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gIH1cclxuXHJcbiAgYXBwbHlFZmZlY3Qoc25ha2U6IFNuYWtlKTogdm9pZCB7XHJcbiAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xyXG4gICAgICBjYXNlICdzcGVlZCc6XHJcbiAgICAgICAgc25ha2Uuc3BlZWQgKj0gMS41O1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBzbmFrZS5zcGVlZCA9IHNuYWtlLmJhc2VTcGVlZDsgfSwgdGhpcy5kdXJhdGlvbik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2ludnVsbmVyYWJpbGl0eSc6XHJcbiAgICAgICAgc25ha2UuaXNJbnZ1bG5lcmFibGUgPSB0cnVlO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBzbmFrZS5pc0ludnVsbmVyYWJsZSA9IGZhbHNlOyB9LCB0aGlzLmR1cmF0aW9uKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnZ2hvc3QnOlxyXG4gICAgICAgIHNuYWtlLmlzR2hvc3QgPSB0cnVlO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBzbmFrZS5pc0dob3N0ID0gZmFsc2U7IH0sIHRoaXMuZHVyYXRpb24pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiUG93ZXJVcCIsInVwZGF0ZSIsInB1bHNlQW1vdW50IiwicHVsc2VEaXJlY3Rpb24iLCJyb3RhdGlvbiIsImRyYXciLCJjdHgiLCJzYXZlIiwidHJhbnNsYXRlIiwicG9zaXRpb24iLCJ4IiwieSIsInJvdGF0ZSIsInB1bHNlU2NhbGUiLCJzaXplIiwicmFkaXVzIiwiYmVnaW5QYXRoIiwidHlwZSIsImRyYXdMaWdodG5pbmciLCJkcmF3U2hpZWxkIiwiZHJhd0dob3N0Iiwic2hhZG93Q29sb3IiLCJjb2xvciIsInNoYWRvd0JsdXIiLCJmaWxsU3R5bGUiLCJmaWxsIiwicmVzdG9yZSIsIm1vdmVUbyIsImxpbmVUbyIsImFyYyIsIk1hdGgiLCJQSSIsImNsb3NlUGF0aCIsImFwcGx5RWZmZWN0Iiwic25ha2UiLCJzcGVlZCIsInNldFRpbWVvdXQiLCJiYXNlU3BlZWQiLCJkdXJhdGlvbiIsImlzSW52dWxuZXJhYmxlIiwiaXNHaG9zdCIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./utils/power-up.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./utils/transitions.tsx":
/*!*******************************!*\
  !*** ./utils/transitions.tsx ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Transitions: function() { return /* binding */ Transitions; }\n/* harmony export */ });\nclass Transitions {\n    static async fade(ctx, type) {\n        let duration = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 500;\n        return new Promise((resolve)=>{\n            const startTime = performance.now();\n            const animate = (currentTime)=>{\n                const elapsed = currentTime - startTime;\n                const progress = Math.min(elapsed / duration, 1);\n                const alpha = type === \"in\" ? 1 - progress : progress;\n                ctx.fillStyle = \"rgba(0, 0, 0, \".concat(alpha, \")\");\n                ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n                if (progress < 1) {\n                    requestAnimationFrame(animate);\n                } else {\n                    resolve();\n                }\n            };\n            requestAnimationFrame(animate);\n        });\n    }\n    static async pixelate(ctx, type) {\n        let duration = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 500;\n        return new Promise((resolve)=>{\n            const startTime = performance.now();\n            const { width, height } = ctx.canvas;\n            // Create temporary canvas for effect\n            const tempCanvas = document.createElement(\"canvas\");\n            const tempCtx = tempCanvas.getContext(\"2d\");\n            tempCanvas.width = width;\n            tempCanvas.height = height;\n            const animate = (currentTime)=>{\n                const elapsed = currentTime - startTime;\n                const progress = Math.min(elapsed / duration, 1);\n                const size = type === \"in\" ? Math.max(1, 32 * (1 - progress)) : Math.max(1, 32 * progress);\n                // Draw current frame to temp canvas\n                tempCtx.drawImage(ctx.canvas, 0, 0);\n                // Clear main canvas\n                ctx.clearRect(0, 0, width, height);\n                // Draw pixelated version\n                for(let x = 0; x < width; x += size){\n                    for(let y = 0; y < height; y += size){\n                        const sx = Math.min(x, width - size);\n                        const sy = Math.min(y, height - size);\n                        ctx.drawImage(tempCanvas, sx, sy, size, size, sx, sy, size, size);\n                    }\n                }\n                if (progress < 1) {\n                    requestAnimationFrame(animate);\n                } else {\n                    resolve();\n                }\n            };\n            requestAnimationFrame(animate);\n        });\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3V0aWxzL3RyYW5zaXRpb25zLnRzeCIsIm1hcHBpbmdzIjoiOzs7O0FBS08sTUFBTUE7SUFDWCxhQUFhQyxLQUNYQyxHQUE2QixFQUM3QkMsSUFBa0IsRUFFSDtZQURmQyxXQUFBQSxpRUFBbUI7UUFFbkIsT0FBTyxJQUFJQyxRQUFRLENBQUNDO1lBQ2xCLE1BQU1DLFlBQVlDLFlBQVlDLEdBQUc7WUFDakMsTUFBTUMsVUFBVSxDQUFDQztnQkFDZixNQUFNQyxVQUFVRCxjQUFjSjtnQkFDOUIsTUFBTU0sV0FBV0MsS0FBS0MsR0FBRyxDQUFDSCxVQUFVUixVQUFVO2dCQUU5QyxNQUFNWSxRQUFRYixTQUFTLE9BQU8sSUFBSVUsV0FBV0E7Z0JBRTdDWCxJQUFJZSxTQUFTLEdBQUcsaUJBQXVCLE9BQU5ELE9BQU07Z0JBQ3ZDZCxJQUFJZ0IsUUFBUSxDQUFDLEdBQUcsR0FBR2hCLElBQUlpQixNQUFNLENBQUNDLEtBQUssRUFBRWxCLElBQUlpQixNQUFNLENBQUNFLE1BQU07Z0JBRXRELElBQUlSLFdBQVcsR0FBRztvQkFDaEJTLHNCQUFzQlo7Z0JBQ3hCLE9BQU87b0JBQ0xKO2dCQUNGO1lBQ0Y7WUFFQWdCLHNCQUFzQlo7UUFDeEI7SUFDRjtJQUVBLGFBQWFhLFNBQ1hyQixHQUE2QixFQUM3QkMsSUFBa0IsRUFFSDtZQURmQyxXQUFBQSxpRUFBbUI7UUFFbkIsT0FBTyxJQUFJQyxRQUFRLENBQUNDO1lBQ2xCLE1BQU1DLFlBQVlDLFlBQVlDLEdBQUc7WUFDakMsTUFBTSxFQUFFVyxLQUFLLEVBQUVDLE1BQU0sRUFBRSxHQUFHbkIsSUFBSWlCLE1BQU07WUFFcEMscUNBQXFDO1lBQ3JDLE1BQU1LLGFBQWFDLFNBQVNDLGFBQWEsQ0FBQztZQUMxQyxNQUFNQyxVQUFVSCxXQUFXSSxVQUFVLENBQUM7WUFDdENKLFdBQVdKLEtBQUssR0FBR0E7WUFDbkJJLFdBQVdILE1BQU0sR0FBR0E7WUFFcEIsTUFBTVgsVUFBVSxDQUFDQztnQkFDZixNQUFNQyxVQUFVRCxjQUFjSjtnQkFDOUIsTUFBTU0sV0FBV0MsS0FBS0MsR0FBRyxDQUFDSCxVQUFVUixVQUFVO2dCQUU5QyxNQUFNeUIsT0FBTzFCLFNBQVMsT0FDbEJXLEtBQUtnQixHQUFHLENBQUMsR0FBRyxLQUFNLEtBQUlqQixRQUFPLEtBQzdCQyxLQUFLZ0IsR0FBRyxDQUFDLEdBQUcsS0FBS2pCO2dCQUVyQixvQ0FBb0M7Z0JBQ3BDYyxRQUFRSSxTQUFTLENBQUM3QixJQUFJaUIsTUFBTSxFQUFFLEdBQUc7Z0JBRWpDLG9CQUFvQjtnQkFDcEJqQixJQUFJOEIsU0FBUyxDQUFDLEdBQUcsR0FBR1osT0FBT0M7Z0JBRTNCLHlCQUF5QjtnQkFDekIsSUFBSyxJQUFJWSxJQUFJLEdBQUdBLElBQUliLE9BQU9hLEtBQUtKLEtBQU07b0JBQ3BDLElBQUssSUFBSUssSUFBSSxHQUFHQSxJQUFJYixRQUFRYSxLQUFLTCxLQUFNO3dCQUNyQyxNQUFNTSxLQUFLckIsS0FBS0MsR0FBRyxDQUFDa0IsR0FBR2IsUUFBUVM7d0JBQy9CLE1BQU1PLEtBQUt0QixLQUFLQyxHQUFHLENBQUNtQixHQUFHYixTQUFTUTt3QkFFaEMzQixJQUFJNkIsU0FBUyxDQUNYUCxZQUNBVyxJQUFJQyxJQUFJUCxNQUFNQSxNQUNkTSxJQUFJQyxJQUFJUCxNQUFNQTtvQkFFbEI7Z0JBQ0Y7Z0JBRUEsSUFBSWhCLFdBQVcsR0FBRztvQkFDaEJTLHNCQUFzQlo7Z0JBQ3hCLE9BQU87b0JBQ0xKO2dCQUNGO1lBQ0Y7WUFFQWdCLHNCQUFzQlo7UUFDeEI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3V0aWxzL3RyYW5zaXRpb25zLnRzeD9lODhlIl0sInNvdXJjZXNDb250ZW50IjpbImludGVyZmFjZSBUcmFuc2l0aW9uRWZmZWN0IHtcclxuICBlbnRlcjogKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBkdXJhdGlvbjogbnVtYmVyKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIGV4aXQ6IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgZHVyYXRpb246IG51bWJlcikgPT4gUHJvbWlzZTx2b2lkPjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRyYW5zaXRpb25zIHtcclxuICBzdGF0aWMgYXN5bmMgZmFkZShcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gICAgdHlwZTogJ2luJyB8ICdvdXQnLFxyXG4gICAgZHVyYXRpb246IG51bWJlciA9IDUwMFxyXG4gICk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICBjb25zdCBhbmltYXRlID0gKGN1cnJlbnRUaW1lOiBudW1iZXIpID0+IHtcclxuICAgICAgICBjb25zdCBlbGFwc2VkID0gY3VycmVudFRpbWUgLSBzdGFydFRpbWU7XHJcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1pbihlbGFwc2VkIC8gZHVyYXRpb24sIDEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGFscGhhID0gdHlwZSA9PT0gJ2luJyA/IDEgLSBwcm9ncmVzcyA6IHByb2dyZXNzO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBgcmdiYSgwLCAwLCAwLCAke2FscGhhfSlgO1xyXG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjdHguY2FudmFzLndpZHRoLCBjdHguY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHByb2dyZXNzIDwgMSkge1xyXG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYXN5bmMgcGl4ZWxhdGUoXHJcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcclxuICAgIHR5cGU6ICdpbicgfCAnb3V0JyxcclxuICAgIGR1cmF0aW9uOiBudW1iZXIgPSA1MDBcclxuICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBjdHguY2FudmFzO1xyXG4gICAgICBcclxuICAgICAgLy8gQ3JlYXRlIHRlbXBvcmFyeSBjYW52YXMgZm9yIGVmZmVjdFxyXG4gICAgICBjb25zdCB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgIGNvbnN0IHRlbXBDdHggPSB0ZW1wQ2FudmFzLmdldENvbnRleHQoJzJkJykhO1xyXG4gICAgICB0ZW1wQ2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICBcclxuICAgICAgY29uc3QgYW5pbWF0ZSA9IChjdXJyZW50VGltZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lO1xyXG4gICAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5taW4oZWxhcHNlZCAvIGR1cmF0aW9uLCAxKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzaXplID0gdHlwZSA9PT0gJ2luJyBcclxuICAgICAgICAgID8gTWF0aC5tYXgoMSwgMzIgKiAoMSAtIHByb2dyZXNzKSlcclxuICAgICAgICAgIDogTWF0aC5tYXgoMSwgMzIgKiBwcm9ncmVzcyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRHJhdyBjdXJyZW50IGZyYW1lIHRvIHRlbXAgY2FudmFzXHJcbiAgICAgICAgdGVtcEN0eC5kcmF3SW1hZ2UoY3R4LmNhbnZhcywgMCwgMCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2xlYXIgbWFpbiBjYW52YXNcclxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIERyYXcgcGl4ZWxhdGVkIHZlcnNpb25cclxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHdpZHRoOyB4ICs9IHNpemUpIHtcclxuICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyB5ICs9IHNpemUpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3ggPSBNYXRoLm1pbih4LCB3aWR0aCAtIHNpemUpO1xyXG4gICAgICAgICAgICBjb25zdCBzeSA9IE1hdGgubWluKHksIGhlaWdodCAtIHNpemUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShcclxuICAgICAgICAgICAgICB0ZW1wQ2FudmFzLFxyXG4gICAgICAgICAgICAgIHN4LCBzeSwgc2l6ZSwgc2l6ZSxcclxuICAgICAgICAgICAgICBzeCwgc3ksIHNpemUsIHNpemVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHByb2dyZXNzIDwgMSkge1xyXG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJUcmFuc2l0aW9ucyIsImZhZGUiLCJjdHgiLCJ0eXBlIiwiZHVyYXRpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiYW5pbWF0ZSIsImN1cnJlbnRUaW1lIiwiZWxhcHNlZCIsInByb2dyZXNzIiwiTWF0aCIsIm1pbiIsImFscGhhIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInBpeGVsYXRlIiwidGVtcENhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInRlbXBDdHgiLCJnZXRDb250ZXh0Iiwic2l6ZSIsIm1heCIsImRyYXdJbWFnZSIsImNsZWFyUmVjdCIsIngiLCJ5Iiwic3giLCJzeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./utils/transitions.tsx\n"));

/***/ })

});